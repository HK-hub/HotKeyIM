2023-03-10 14:02:02.035  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:02:02.036  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:02:02.073  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:02:02.073  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:02:02.110  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:02:02.110  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:02:02.539  INFO 117248 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='image-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='IMAGE', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:02:02.540  INFO 117248 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:02:02.541  INFO 117248 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='TEXT', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:02:02.688  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:02:02.696  INFO 117248 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-10 14:02:02.775  INFO 117248 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-10 14:02:02.782  INFO 117248 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-10 14:02:02.791  INFO 117248 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:03:01.819  INFO 116992 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 116992 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-10 14:03:01.824  INFO 116992 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-10 14:03:07.878  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-10 14:03:07.879  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-10 14:03:07.924  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 JPA repository interfaces.
2023-03-10 14:03:07.971  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-10 14:03:07.973  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-10 14:03:08.007  INFO 116992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-03-10 14:03:09.042  INFO 116992 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$bbd4dd89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-10 14:03:09.091  INFO 116992 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-10 14:03:10.804  INFO 116992 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-10 14:03:10.823  INFO 116992 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-10 14:03:10.824  INFO 116992 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-10 14:03:11.257  INFO 116992 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-10 14:03:11.258  INFO 116992 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9318 ms
2023-03-10 14:03:12.263  INFO 116992 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-10 14:03:13.407  INFO 116992 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-10 14:03:13.773  INFO 116992 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-10 14:03:13.949  INFO 116992 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-10 14:03:14.351  INFO 116992 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-10 14:03:14.583  INFO 116992 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-10 14:03:14.904  INFO 116992 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-10 14:03:14.923  INFO 116992 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-10 14:03:16.036  WARN 116992 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-10 14:03:16.520  WARN 116992 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-10 14:03:16.622  WARN 116992 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-10 14:03:16.814  WARN 116992 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-10 14:03:18.347  INFO 116992 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-10 14:03:18.349  INFO 116992 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-10 14:03:18.349  INFO 116992 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-10 14:03:18.349  INFO 116992 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-10 14:03:18.359  INFO 116992 --- [main] c.h.i.s.p.c.SendTextMessageConsumer      : sendMessage consumer bean created
2023-03-10 14:03:19.199  INFO 116992 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-10 14:03:19.321  WARN 116992 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-10 14:03:20.522  INFO 116992 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='TEXT', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:03:20.522  INFO 116992 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendTextMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-10 14:03:20.711  INFO 116992 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:03:20.712  INFO 116992 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-10 14:03:20.877  INFO 116992 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='image-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='IMAGE', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:03:20.877  INFO 116992 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sentImageMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2023-03-10 14:03:20.927  INFO 116992 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-10 14:03:20.937  INFO 116992 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-10T14:03:20.937427700
2023-03-10 14:03:20.937  INFO 116992 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-10T14:03:20.937427700
2023-03-10 14:03:20.942  INFO 116992 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 20.222 seconds (JVM running for 22.416)
2023-03-10 14:03:21.124  INFO 116992 --- [Thread-9] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-10 14:03:34.489  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7487
2023-03-10 14:03:34.489  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7487
2023-03-10 14:03:34.505  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:,headers=http://localhost:3000,method=GET
2023-03-10 14:03:34.525  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel:
2023-03-10 14:03:34.526  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the websocket path is error: expect /channel:, but provide /channel
2023-03-10 14:03:34.561  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001c900-00000009-17daf627c4052480-cee3da68
2023-03-10 14:03:34.567  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7487,id=907841fffe2e6da0-0001c900-00000009-17daf627c4052480-cee3da68
2023-03-10 14:03:34.568  INFO 116992 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7487
2023-03-10 14:03:40.246  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-10 14:03:40.247  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-10 14:03:40.249  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-10 14:03:40.319  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1e4381e7-8383-43db-a6a1-bbc5bff1031b],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-10T14:03:40.319329300]
2023-03-10 14:03:40.592  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=39e76849-bf5c-407e-be00-cec6ba442eeb],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-10T14:03:40.592335900]
2023-03-10 14:03:42.553  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7c2856f1-b3ec-4c30-8ea1-be4e255df76f],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-10T14:03:42.553537600]
2023-03-10 14:03:42.661  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=96ca2a1f-2d49-4156-8cea-99b49348e32a],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-10T14:03:42.661823600]
2023-03-10 14:03:42.676  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9a78f3d9-2d17-421f-ba47-03c7ff70bb78],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-10T14:03:42.676824700]
2023-03-10 14:03:42.676  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@61aafd16,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw
2023-03-10 14:03:42.757  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=13090d7f-0bab-4325-b3c9-785077d7ed57],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-10T14:03:42.757819600]
2023-03-10 14:03:42.788  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b52d6af6-93ae-4eb1-9e78-ef3ad661759a],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-10T14:03:42.788828400]
2023-03-10 14:03:42.794  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7552
2023-03-10 14:03:42.795  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7552
2023-03-10 14:03:42.800  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw,headers=http://localhost:3000,method=GET
2023-03-10 14:03:42.800  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw
2023-03-10 14:03:42.800  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-10 14:03:42.857  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=12346330-e0e8-44b0-8a1e-676bf1e9a89c],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-10T14:03:42.857819100]
2023-03-10 14:03:42.857  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@aad758f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw
2023-03-10 14:03:42.929  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@1c89107a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw,user=1611656761503215617
2023-03-10 14:03:42.929  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5520bc31,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw,user=1611656761503215617
2023-03-10 14:03:43.056  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=27357a5f-0092-4f4c-8e98-c3fdbf20db20],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=OPTIONS],[time=2023-03-10T14:03:43.056818700]
2023-03-10 14:03:43.057  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f5a00f04-1637-4690-a202-b83d4b0fafae],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-10T14:03:43.057819700]
2023-03-10 14:03:43.079  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9fba06ad-b465-4039-9a50-e51425f54641],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-10T14:03:43.079819600]
2023-03-10 14:03:43.080  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@598fcf45,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw
2023-03-10 14:03:43.083  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@57483a04,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw,user=1612030664754913281
2023-03-10 14:03:43.158  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=14a80bdd-8bb2-470f-b195-c54a8f86b74f],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-10T14:03:43.158818400]
2023-03-10 14:03:43.159  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5791d86a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw
2023-03-10 14:03:43.165  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@57483a04,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw,user=1612030664754913281
2023-03-10 14:03:43.285  INFO 116992 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw, extend=null)
2023-03-10 14:03:43.317  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7573
2023-03-10 14:03:43.318  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7573
2023-03-10 14:03:43.321  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw,headers=http://localhost:3000,method=GET
2023-03-10 14:03:43.321  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw
2023-03-10 14:03:43.321  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-10 14:03:43.345  INFO 116992 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw, extend=null)
2023-03-10 14:03:43.302  INFO 116992 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=http://47.108.146.141:9000/user//user/avatar/public_avatar_mini_1611656761503215617.jpg, miniAvatar=http://47.108.146.141:9000/user//user/avatar/public_avatar_mini_1611656761503215617.jpg, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=1, age=null, birthday=2022-08-17, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-10 14:03:43.369  INFO 116992 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=http://47.108.146.141:9000/user//user/avatar/public_avatar_mini_1612030664754913281.jpg, miniAvatar=http://47.108.146.141:9000/user//user/avatar/public_avatar_mini_1612030664754913281.jpg, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=2, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-10 14:03:44.044  WARN 116992 --- [nioEventLoopGroup-5-3] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6a78afa0
2023-03-10 14:03:44.821  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2fdf9cd4-ff9d-47b2-ad8f-bc5918cf94f7],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-10T14:03:44.821490600]
2023-03-10 14:03:44.830  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9b606ffd-f107-4f34-80a2-72684f7a5fa3],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-10T14:03:44.830492900]
2023-03-10 14:03:44.833  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5e3a5bc7-76ed-4860-9ddd-c2090d93580a],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-10T14:03:44.833493]
2023-03-10 14:03:44.833  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@27f9d718,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw
2023-03-10 14:03:44.836  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5520bc31,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4NDM1NDIxfQ.1q-fRfClvsEFEOPTf6V8SLdyu50L3xgUzMdKcb57X3DtaMWMrM5E4neHhj05h30x0wAEQuKOpISLBdFVb_r2Bw,user=1611656761503215617
2023-03-10 14:03:44.837  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-10 14:03:44.840  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=bfcf02b9-b4ad-480f-a14a-b926a646ef71],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-10T14:03:44.840489900]
2023-03-10 14:03:44.840  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4d27eaf2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw
2023-03-10 14:03:44.844  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@57483a04,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4NDM1NDIyfQ.iOFbet_u985v-Jpsq2F5QCmxEY6cd31tvfpF6gp-_CQyHmgkSs90AHtsQ6eeDN1ueD-Lxw68pJTtZz9fv-C5jw,user=1612030664754913281
2023-03-10 14:03:44.845  INFO 116992 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-10 14:03:44.845  INFO 116992 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-10 14:03:44.846  INFO 116992 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-10 14:30:38.120  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:30:38.123  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:30:38.155  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:30:38.156  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:30:38.189  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:30:38.190  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:30:38.348  INFO 116992 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='image-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='IMAGE', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:30:38.349  INFO 116992 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:30:38.349  INFO 116992 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='TEXT', messageModel=CLUSTERING', tlsEnable=false}
2023-03-10 14:30:38.407  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-10 14:30:38.408  INFO 116992 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-10 14:30:38.425  INFO 116992 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-10 14:30:38.500  INFO 116992 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-10 14:30:38.505  INFO 116992 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
