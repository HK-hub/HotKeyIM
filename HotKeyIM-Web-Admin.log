2023-03-03 11:41:54.550  INFO 94180 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 94180 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 11:41:54.584  INFO 94180 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 11:41:57.217  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 11:41:57.217  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 11:41:57.241  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2023-03-03 11:41:57.313  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 11:41:57.314  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 11:41:57.347  INFO 94180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-03-03 11:41:57.755  INFO 94180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$31e5e2c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 11:41:57.775  INFO 94180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 11:41:58.380  INFO 94180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 11:41:58.392  INFO 94180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 11:41:58.393  INFO 94180 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 11:41:58.601  INFO 94180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 11:41:58.601  INFO 94180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3802 ms
2023-03-03 11:41:59.279  INFO 94180 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 11:41:59.998  INFO 94180 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 11:42:00.175  INFO 94180 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 11:42:00.303  INFO 94180 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 11:42:00.592  INFO 94180 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 11:42:00.752  INFO 94180 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 11:42:01.345  INFO 94180 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 11:42:01.357  INFO 94180 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 11:42:01.864  WARN 94180 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 11:42:02.122  WARN 94180 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 11:42:02.179  WARN 94180 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 11:42:02.262  WARN 94180 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 11:42:03.312  INFO 94180 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 11:42:03.313  INFO 94180 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 11:42:03.313  INFO 94180 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 11:42:03.313  INFO 94180 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 11:42:03.319  INFO 94180 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 11:42:03.940  INFO 94180 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 11:42:04.010  WARN 94180 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 11:42:04.969  INFO 94180 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 11:42:04.970  INFO 94180 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 11:42:05.287  INFO 94180 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 11:42:05.287  INFO 94180 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 11:42:05.321  INFO 94180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 11:42:05.326  INFO 94180 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T11:42:05.326638300
2023-03-03 11:42:05.326  INFO 94180 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T11:42:05.326638300
2023-03-03 11:42:05.332  INFO 94180 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 12.019 seconds (JVM running for 13.589)
2023-03-03 11:42:05.443  INFO 94180 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 12:54:21.641  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:23.015  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:32.876  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:33.876  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:33.876  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 12:54:36.879  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:36.879  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:37.880  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:37.880  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 12:54:38.017  INFO 94180 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 12:54:38.017  INFO 94180 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 12:54:38.130  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 12:54:38.130  INFO 94180 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 12:54:38.132  INFO 94180 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 12:54:38.158  INFO 94180 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 12:54:38.159  INFO 94180 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 12:57:39.906  INFO 85300 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 85300 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 12:57:39.911  INFO 85300 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 12:57:42.942  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 12:57:42.944  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 12:57:42.974  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2023-03-03 12:57:42.995  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 12:57:42.997  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 12:57:43.020  INFO 85300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-03-03 12:57:43.460  INFO 85300 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$33b57418] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 12:57:43.473  INFO 85300 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 12:57:44.258  INFO 85300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 12:57:44.270  INFO 85300 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 12:57:44.270  INFO 85300 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 12:57:44.487  INFO 85300 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 12:57:44.487  INFO 85300 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4512 ms
2023-03-03 12:57:44.983  INFO 85300 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 12:57:45.636  INFO 85300 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 12:57:45.761  INFO 85300 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 12:57:45.856  INFO 85300 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 12:57:46.060  INFO 85300 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 12:57:46.194  INFO 85300 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 12:57:46.426  INFO 85300 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 12:57:46.465  INFO 85300 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 12:57:46.973  WARN 85300 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 12:57:47.717  WARN 85300 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 12:57:47.799  WARN 85300 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 12:57:47.904  WARN 85300 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 12:57:48.709  INFO 85300 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 12:57:48.710  INFO 85300 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 12:57:48.710  INFO 85300 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 12:57:48.710  INFO 85300 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 12:57:48.716  INFO 85300 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 12:57:49.164  INFO 85300 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 12:57:49.216  WARN 85300 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 12:57:50.221  INFO 85300 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 12:57:50.222  INFO 85300 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 12:57:50.539  INFO 85300 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 12:57:50.539  INFO 85300 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 12:57:50.567  INFO 85300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 12:57:50.573  INFO 85300 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T12:57:50.573492500
2023-03-03 12:57:50.573  INFO 85300 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T12:57:50.573492500
2023-03-03 12:57:50.577  INFO 85300 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 11.366 seconds (JVM running for 12.697)
2023-03-03 12:57:50.679  INFO 85300 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 13:20:53.342  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:20:53.379  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:20:56.381  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:20:59.486  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:21:02.489  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:21:08.387  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:24:27.101  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-03 13:24:27.102  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-03 13:24:27.117  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2023-03-03 13:24:27.242  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4e351aa1-8a96-42a2-a823-8470d0385e9a],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-03T13:24:27.242668]
2023-03-03 13:24:27.522  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fed1540e-77f1-432c-8a81-21d7dc792ffb],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-03T13:24:27.522666100]
2023-03-03 13:24:30.748  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5f962012-dbde-4e94-9bcd-ed717204960a],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T13:24:30.748100800]
2023-03-03 13:24:30.748  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=65a550e9-2263-4464-9935-f66cbf57e4b6],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T13:24:30.748100800]
2023-03-03 13:24:30.861  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3dbeb3f9-8722-4632-82dd-fb69099f8175],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T13:24:30.861088100]
2023-03-03 13:24:30.861  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a7ef556c-f096-406a-b36a-f0ac0d69a58e],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T13:24:30.861088100]
2023-03-03 13:24:30.861  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@40698959,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:24:30.861  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@79a60ce0,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:24:30.917  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:24:30.917  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4396e94d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:24:31.171  WARN 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @31190526
2023-03-03 13:24:31.337  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1497
2023-03-03 13:24:31.338  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1497
2023-03-03 13:24:31.427  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 13:24:31.446  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:24:31.446  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 13:24:31.719  INFO 85300 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 13:24:31.736  INFO 85300 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 13:24:31.891  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 13:24:31.896  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cdb51556-2f75-4caa-b42a-1a1efdd6f468],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T13:24:31.896812300]
2023-03-03 13:24:31.902  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e55ff995-1559-491d-9ace-d30f70175482],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T13:24:31.902368700]
2023-03-03 13:24:31.902  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@78396788,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:24:31.904  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:24:31.905  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 13:25:02.844  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c9136cf0-bd61-46d9-a8e1-91f1fc7aabdd],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-03T13:25:02.844692400]
2023-03-03 13:25:02.851  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5cc56b54-6c7c-42fa-82e9-56493b0d768f],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-03T13:25:02.851696900]
2023-03-03 13:25:02.966  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a8e9ee56-a3c0-47f6-bd9e-30cf9fd45f37],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=OPTIONS],[time=2023-03-03T13:25:02.966699600]
2023-03-03 13:25:02.970  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2fb41d06-7221-4fcf-936e-d205aca677e6],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T13:25:02.970697]
2023-03-03 13:25:02.977  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f02afe2-62f8-44e3-a547-e77b69ce7d34],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T13:25:02.977688100]
2023-03-03 13:25:02.978  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@67243fca,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:02.980  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:25:02.996  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=750ce1da-50cb-46f7-8d09-b7d6464857ae],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T13:25:02.996696600]
2023-03-03 13:25:02.996  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@734b5141,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:02.998  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:25:03.251  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1605
2023-03-03 13:25:03.251  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1605
2023-03-03 13:25:03.252  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 13:25:03.253  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:03.253  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 13:25:03.311  INFO 85300 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 13:25:03.328  INFO 85300 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 13:25:03.347  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 13:25:03.406  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=359ad857-09c9-4086-a49a-f6515f24f934],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T13:25:03.406479300]
2023-03-03 13:25:03.447  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=44ca23af-26d3-4bdd-9ba3-22158345cc4a],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T13:25:03.447480400]
2023-03-03 13:25:03.448  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@75958ff,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:03.449  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:25:03.450  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 13:25:07.667  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3dddb153-4ed9-4a83-bd4b-b4a205fc3e05],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T13:25:07.667344300]
2023-03-03 13:25:07.667  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f6b71b71-f7f7-4690-b850-0149c1996cda],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T13:25:07.667344300]
2023-03-03 13:25:07.674  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=62d4d642-b8d1-4ffd-b863-90508197e609],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T13:25:07.674341800]
2023-03-03 13:25:07.674  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@71dee146,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:07.674  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c6e7f37c-2da3-4887-ab31-0a675e6c1877],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T13:25:07.674341800]
2023-03-03 13:25:07.674  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@331569d2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:25:07.676  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4396e94d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:25:07.676  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@3f882731,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:25:08.005  INFO 85300 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274"]}}
2023-03-03 13:25:11.683  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=aefbef1f-0900-41d1-94a6-bd9ee2924dc0],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T13:25:11.682698400]
2023-03-03 13:25:11.684  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b2a8942a-ffe7-448f-a419-57b727e2811f],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T13:25:11.684689200]
2023-03-03 13:25:11.690  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4bbea39b-5d86-42df-ae2b-62dbdaec43ef],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T13:25:11.690697800]
2023-03-03 13:25:11.690  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1d29b23,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:25:11.692  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@17ad6537,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:25:11.693  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=608c3f07-8606-4428-970e-c6733cc5ed9e],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T13:25:11.693697200]
2023-03-03 13:25:11.693  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@43b0ea17,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:25:11.694  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@3f882731,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:25:11.812  INFO 85300 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641"]}}
2023-03-03 13:31:49.186  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:31:49.940  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:31:51.920  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:31:52.950  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:16.648  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:17.152  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:19.650  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:20.154  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:21.924  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:32:22.651  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:23.157  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:25.667  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:32:50.602  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:33:21.920  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:33:22.924  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:33:23.277  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:33:25.926  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:33:26.279  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:23.915  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:24.266  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:39.396  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:39.979  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:52.979  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:46:53.329  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:46:55.980  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:46:56.329  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:02.509  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:03.088  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:22.804  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:22.804  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:22.804  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:23.381  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:23.382  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:23.382  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:43.106  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:43.106  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:43.663  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:43.689  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:51.919  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:47:52.923  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:47:53.276  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:47:54.920  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:55.925  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:47:56.277  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:06.221  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:06.796  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:23.913  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:24.267  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:29.326  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:29.915  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:49.200  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:49.543  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:51.919  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:48:52.924  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:48:53.278  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:48:55.925  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:48:56.278  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:49:12.591  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:49:13.193  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:51:30.401  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4b21cecf-9c9f-46a3-aa0b-733d0eed266b],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T13:51:30.401350900]
2023-03-03 13:51:30.426  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=525d0e8e-f4d6-4095-89df-a968e6293877],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T13:51:30.426911600]
2023-03-03 13:51:30.427  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@83630ae,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:51:30.459  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@3f882731,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:51:30.935  INFO 85300 --- [async-service-1] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 13:51:31.000  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 13:51:31.037  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 13:51:31.292  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 13:51:31.297  INFO 85300 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 13:51:31.632  INFO 85300 --- [async-service-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 13:51:31.637  INFO 85300 --- [async-service-2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 13:51:31.951  INFO 85300 --- [async-service-2] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F0000014D3463947C6B0D4602330002, offsetMsgId=6F5CF1B100002A9F0000000000039395, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=12]
2023-03-03 13:51:32.080  INFO 85300 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)
2023-03-03 13:51:32.137  INFO 85300 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)
2023-03-03 13:51:32.293  INFO 85300 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00014d34-00000012-39f85255d9e31c92-c2c5a862
2023-03-03 13:51:32.293  INFO 85300 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00014d34-00000011-38c3fbb449e09ec7-6a6e8979
2023-03-03 13:51:32.744 ERROR 85300 --- [async-service-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(com.hk.im.domain.bo.MessageBO)

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(MessageSynchronizer.java:48) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:51:32.744  WARN 85300 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:0

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.server.push.worker.MessageSynchronizer$$EnhancerBySpringCGLIB$$79fcfb27.doPushMessage(<generated>) ~[classes/:na]
	at com.hk.im.server.push.worker.pusher.MessageFriendPusher.pushMessage(MessageFriendPusher.java:50) ~[classes/:na]
	at com.hk.im.server.push.worker.MessagePushWorker.doProcess(MessagePushWorker.java:42) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:76) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:33) ~[classes/:na]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:51:42.832  INFO 85300 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)
2023-03-03 13:51:42.834  INFO 85300 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00014d34-00000012-39f85255d9e31c92-c2c5a862
2023-03-03 13:51:42.834  INFO 85300 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)
2023-03-03 13:51:42.835  INFO 85300 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631532734738358274, messageId=1631532734738358274, messageFlowId=1631532735845654529, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=63, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:51:31.037012, updateTime=2023-03-03T13:51:31.037012, messageFeature=0, content=使用 Jackson 来解决Long 序列化精度问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00014d34-00000011-38c3fbb449e09ec7-6a6e8979
2023-03-03 13:51:42.837  WARN 85300 --- [ConsumeMessageThread_chat-message-group_2] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:1

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.server.push.worker.MessageSynchronizer$$EnhancerBySpringCGLIB$$79fcfb27.doPushMessage(<generated>) ~[classes/:na]
	at com.hk.im.server.push.worker.pusher.MessageFriendPusher.pushMessage(MessageFriendPusher.java:50) ~[classes/:na]
	at com.hk.im.server.push.worker.MessagePushWorker.doProcess(MessagePushWorker.java:42) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:76) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:33) ~[classes/:na]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:51:42.839 ERROR 85300 --- [async-service-4] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(com.hk.im.domain.bo.MessageBO)

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(MessageSynchronizer.java:48) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:52:10.842  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:52:10.842  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:52:10.983  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:52:10.983  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:52:11.237  INFO 85300 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:52:11.237  INFO 85300 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:52:11.434  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:52:11.435  INFO 85300 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:52:11.450  INFO 85300 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 13:52:11.544  INFO 85300 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 13:52:11.570  INFO 85300 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 13:57:24.216  INFO 99832 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 99832 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 13:57:24.255  INFO 99832 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 13:57:33.410  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 13:57:33.412  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 13:57:33.523  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 0 JPA repository interfaces.
2023-03-03 13:57:33.636  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 13:57:33.643  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 13:57:34.029  INFO 99832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-03-03 13:57:35.449  INFO 99832 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$4c4d6160] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 13:57:35.472  INFO 99832 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 13:57:37.567  INFO 99832 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 13:57:37.636  INFO 99832 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 13:57:37.638  INFO 99832 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 13:57:39.532  INFO 99832 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 13:57:39.534  INFO 99832 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 15082 ms
2023-03-03 13:57:41.962  INFO 99832 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 13:57:44.783  INFO 99832 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 13:57:45.606  INFO 99832 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 13:57:45.976  INFO 99832 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 13:57:47.199  INFO 99832 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 13:57:47.820  INFO 99832 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 13:57:48.559  INFO 99832 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 13:57:48.601  INFO 99832 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 13:57:50.615  WARN 99832 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 13:57:51.811  WARN 99832 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 13:57:51.952  WARN 99832 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 13:57:52.343  WARN 99832 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 13:57:56.741  INFO 99832 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 13:57:56.744  INFO 99832 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 13:57:56.745  INFO 99832 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 13:57:56.745  INFO 99832 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 13:57:56.762  INFO 99832 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 13:57:59.340  INFO 99832 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 13:57:59.722  WARN 99832 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 13:58:03.067  INFO 99832 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:58:03.068  INFO 99832 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 13:58:03.601  INFO 99832 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:58:03.602  INFO 99832 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 13:58:03.844  INFO 99832 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 13:58:03.900  INFO 99832 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T13:58:03.900349800
2023-03-03 13:58:03.902  INFO 99832 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T13:58:03.902348400
2023-03-03 13:58:03.937  INFO 99832 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 42.018 seconds (JVM running for 45.586)
2023-03-03 13:58:04.433  INFO 99832 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 13:58:05.226  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3299
2023-03-03 13:58:05.227  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3299
2023-03-03 13:58:05.307  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 13:58:05.312  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:58:05.313  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 13:58:06.183  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3303
2023-03-03 13:58:06.184  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3303
2023-03-03 13:58:06.191  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 13:58:06.191  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:58:06.192  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 13:58:07.826  INFO 99832 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 13:58:07.826  INFO 99832 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 13:58:07.828  WARN 99832 --- [nioEventLoopGroup-5-2] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6150c3ec
2023-03-03 13:58:08.953  INFO 99832 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 13:58:08.953  INFO 99832 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 13:58:09.168  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 13:58:09.175  INFO 99832 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 13:58:09.789  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-03 13:58:09.790  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-03 13:58:09.793  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-03-03 13:58:09.863  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8b0a3a6d-8fff-4c35-9b48-00640fb56eb3],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T13:58:09.863163300]
2023-03-03 13:58:09.863  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=612ae57c-190d-4c30-9fd5-95475e66f1c6],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T13:58:09.863163300]
2023-03-03 13:58:10.339  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=511e3475-95c0-4179-8223-dc969c495fb9],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T13:58:10.339220]
2023-03-03 13:58:10.339  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=efb60070-a158-4540-b92b-45ce2cbfb85a],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T13:58:10.339220]
2023-03-03 13:58:10.340  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@39e49516,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:58:10.340  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4f8eca,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 13:58:10.387  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4b334fcb,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:58:10.387  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@781a75dc,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 13:58:10.488  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 13:58:10.488  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 13:58:19.087  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=96f2a6b2-8a24-4101-8c2f-8d2dd892fb63],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T13:58:19.087311800]
2023-03-03 13:58:19.089  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2c00537c-4f3f-4739-ad90-558b96fd7dba],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T13:58:19.089315300]
2023-03-03 13:58:19.213  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fefc1bb8-a93e-45ab-9807-284966b21906],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T13:58:19.213242300]
2023-03-03 13:58:19.214  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7fc63b77,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:58:19.220  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2a3501a3-01b0-4563-a1ae-61fd3bfeae68],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T13:58:19.220230800]
2023-03-03 13:58:19.221  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@730c3f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:58:19.229  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@611168a5,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:58:19.229  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@781a75dc,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:58:19.745  INFO 99832 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641"]}}
2023-03-03 13:58:35.404  INFO 99832 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 13:58:35.447  WARN 99832 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:2

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:129) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:102) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:39) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:100) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	... 21 common frames omitted

2023-03-03 13:59:03.056  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0a47f387-2129-4a18-8e4c-bd5f62e0c61d],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T13:59:03.056763]
2023-03-03 13:59:03.091  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=710a2749-6802-4ece-987c-1d494948873f],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T13:59:03.091103800]
2023-03-03 13:59:03.092  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5c25e801,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 13:59:03.099  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4b334fcb,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 13:59:03.303  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 13:59:03.269  INFO 99832 --- [async-service-1] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 13:59:03.312  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 13:59:03.458  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 13:59:03.460  INFO 99832 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 13:59:03.512  INFO 99832 --- [async-service-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 13:59:03.520  INFO 99832 --- [async-service-2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 13:59:04.022  INFO 99832 --- [async-service-2] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F00000185F863947C6B0D4CE81C0002, offsetMsgId=6F5CF1B100002A9F000000000003AC72, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=2], queueOffset=19]
2023-03-03 13:59:04.026  INFO 99832 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:04.070  INFO 99832 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:04.151  INFO 99832 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000007-3ea5550a9641d983-4327886b
2023-03-03 13:59:04.152  INFO 99832 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000008-24d5d8589641de64-92113834
2023-03-03 13:59:04.215  WARN 99832 --- [ConsumeMessageThread_chat-message-group_2] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F00000185F863947C6B0D4CE81C0002, topic:chat-topic, reconsumeTimes:0

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.server.push.worker.MessageSynchronizer$$EnhancerBySpringCGLIB$$7c64431c.doPushMessage(<generated>) ~[classes/:na]
	at com.hk.im.server.push.worker.pusher.MessageFriendPusher.pushMessage(MessageFriendPusher.java:50) ~[classes/:na]
	at com.hk.im.server.push.worker.MessagePushWorker.doProcess(MessagePushWorker.java:42) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:76) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:33) ~[classes/:na]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:04.217 ERROR 99832 --- [async-service-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(com.hk.im.domain.bo.MessageBO)

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(MessageSynchronizer.java:48) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:14.413  INFO 99832 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:14.415  INFO 99832 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000007-3ea5550a9641d983-4327886b
2023-03-03 13:59:14.416  INFO 99832 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:14.417  INFO 99832 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000008-24d5d8589641de64-92113834
2023-03-03 13:59:14.419  WARN 99832 --- [ConsumeMessageThread_chat-message-group_3] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F00000185F863947C6B0D4CE81C0002, topic:chat-topic, reconsumeTimes:1

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.server.push.worker.MessageSynchronizer$$EnhancerBySpringCGLIB$$7c64431c.doPushMessage(<generated>) ~[classes/:na]
	at com.hk.im.server.push.worker.pusher.MessageFriendPusher.pushMessage(MessageFriendPusher.java:50) ~[classes/:na]
	at com.hk.im.server.push.worker.MessagePushWorker.doProcess(MessagePushWorker.java:42) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:76) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:33) ~[classes/:na]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:14.421 ERROR 99832 --- [async-service-4] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(com.hk.im.domain.bo.MessageBO)

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(MessageSynchronizer.java:48) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:35.603  INFO 99832 --- [ConsumeMessageThread_chat-message-group_4] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 13:59:35.606  WARN 99832 --- [ConsumeMessageThread_chat-message-group_4] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:3

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:129) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:102) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:39) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:100) ~[jackson-datatype-jsr310-2.11.1.jar:2.11.1]
	... 21 common frames omitted

2023-03-03 13:59:44.493  INFO 99832 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:44.495  INFO 99832 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000007-3ea5550a9641d983-4327886b
2023-03-03 13:59:44.496  INFO 99832 --- [async-service-5] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 13:59:44.497  INFO 99832 --- [async-service-5] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-000185f8-00000008-24d5d8589641de64-92113834
2023-03-03 13:59:44.501  WARN 99832 --- [ConsumeMessageThread_chat-message-group_5] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F00000185F863947C6B0D4CE81C0002, topic:chat-topic, reconsumeTimes:2

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.server.push.worker.MessageSynchronizer$$EnhancerBySpringCGLIB$$7c64431c.doPushMessage(<generated>) ~[classes/:na]
	at com.hk.im.server.push.worker.pusher.MessageFriendPusher.pushMessage(MessageFriendPusher.java:50) ~[classes/:na]
	at com.hk.im.server.push.worker.MessagePushWorker.doProcess(MessagePushWorker.java:42) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:76) ~[classes/:na]
	at com.hk.im.server.push.comsumer.SendMessageConsumer.onMessage(SendMessageConsumer.java:33) ~[classes/:na]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:44.502 ERROR 99832 --- [async-service-5] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(com.hk.im.domain.bo.MessageBO)

java.lang.NullPointerException: msg
	at io.netty.util.internal.ObjectUtil.checkNotNull(ObjectUtil.java:39) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:772) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:758) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:808) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1025) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:306) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]
	at com.hk.im.server.push.worker.MessageSynchronizer.doPushMessage(MessageSynchronizer.java:64) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer.synchronizeSelf(MessageSynchronizer.java:48) ~[classes/:na]
	at com.hk.im.server.push.worker.MessageSynchronizer$$FastClassBySpringCGLIB$$1885410e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-03 13:59:48.838  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:59:48.840  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:59:48.935  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:59:48.935  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:59:49.218  INFO 99832 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:59:49.219  INFO 99832 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 13:59:49.357  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 13:59:49.358  INFO 99832 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 13:59:49.373  INFO 99832 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 13:59:49.384  INFO 99832 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 13:59:49.408  INFO 99832 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 14:04:52.467  INFO 100504 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 100504 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 14:04:52.499  INFO 100504 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 14:05:00.609  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:05:00.611  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 14:05:00.767  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 JPA repository interfaces.
2023-03-03 14:05:00.902  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:05:00.913  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 14:05:01.015  INFO 100504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-03-03 14:05:02.830  INFO 100504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$2e9345c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:05:02.898  INFO 100504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:05:04.929  INFO 100504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 14:05:04.972  INFO 100504 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 14:05:04.974  INFO 100504 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 14:05:05.807  INFO 100504 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 14:05:05.808  INFO 100504 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 13081 ms
2023-03-03 14:05:08.323  INFO 100504 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 14:05:11.127  INFO 100504 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 14:05:11.805  INFO 100504 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 14:05:12.204  INFO 100504 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 14:05:12.886  INFO 100504 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 14:05:13.586  INFO 100504 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 14:05:14.336  INFO 100504 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 14:05:14.401  INFO 100504 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 14:05:16.168  WARN 100504 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:05:17.071  WARN 100504 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:05:17.342  WARN 100504 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:05:17.678  WARN 100504 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:05:21.359  INFO 100504 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 14:05:21.368  INFO 100504 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 14:05:21.369  INFO 100504 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 14:05:21.370  INFO 100504 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 14:05:21.417  INFO 100504 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 14:05:24.166  INFO 100504 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 14:05:24.388  WARN 100504 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 14:05:27.709  INFO 100504 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:05:27.710  INFO 100504 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 14:05:28.184  INFO 100504 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:05:28.185  INFO 100504 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 14:05:28.384  INFO 100504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 14:05:28.395  INFO 100504 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T14:05:28.395127700
2023-03-03 14:05:28.395  INFO 100504 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T14:05:28.395127700
2023-03-03 14:05:28.407  INFO 100504 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 39.49 seconds (JVM running for 42.923)
2023-03-03 14:05:28.871  INFO 100504 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 14:05:29.350  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3850
2023-03-03 14:05:29.350  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3850
2023-03-03 14:05:29.361  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3853
2023-03-03 14:05:29.362  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3853
2023-03-03 14:05:29.380  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:05:29.380  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:05:29.382  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:05:29.382  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:05:29.382  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:05:29.382  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:05:29.386  INFO 100504 --- [ConsumeMessageThread_chat-message-group_2] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:05:29.387  INFO 100504 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 14:05:29.450  INFO 100504 --- [async-service-1] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 14:05:29.464  INFO 100504 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.p.worker.MessageOfflineWorker    : offline message handle start:MessageBO(id=1631534631725592578, messageId=1631534631725592578, messageFlowId=1631534632358932482, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=64, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T13:59:03, updateTime=2023-03-03T13:59:03, messageFeature=0, content=Jackson 解决 Local DateTime 问题, extra=null, layout=center)
2023-03-03 14:05:29.505  WARN 100504 --- [ConsumeMessageThread_chat-message-group_2] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:4

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:05:30.375  INFO 100504 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:05:30.378  INFO 100504 --- [ConsumeMessageThread_chat-message-group_1] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:05:30.874  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:05:30.927  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:05:31.179  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:05:31.179  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:05:31.270  WARN 100504 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @dd05255
2023-03-03 14:05:31.575  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:05:31.588  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:05:32.330  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-03 14:05:32.331  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-03 14:05:32.335  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-03-03 14:05:32.408  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1b9dfa2a-13a5-4063-8940-8a3176b0324c],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:05:32.408188800]
2023-03-03 14:05:32.415  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e19ae257-4a8a-4382-b597-82c2949eae73],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:05:32.415186600]
2023-03-03 14:05:32.415  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4e999458,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:05:32.431  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:05:32.722  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=532e09b3-e337-4f2a-867a-329bf0cff798],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:05:32.722883800]
2023-03-03 14:05:32.723  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@551896c5,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:05:32.728  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:05:32.742  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:05:32.742  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:05:52.107  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5effc33f-98c1-4935-8cf2-2c629d21ccb3],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:05:52.107614900]
2023-03-03 14:05:52.202  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3a5fe633-abac-4572-a47a-589075b425cf],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:05:52.202995300]
2023-03-03 14:05:52.202  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@b9595e9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:05:52.212  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:05:52.698  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-03 14:05:54.093  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7d95914c-bf59-476c-a210-a7f13c15db89],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:05:54.093334800]
2023-03-03 14:05:54.103  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=01191ece-2be8-44e0-aef1-c89319aaf06e],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:05:54.103342800]
2023-03-03 14:05:54.104  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1d78a068,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:05:54.106  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:05:54.467  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641"]}}
2023-03-03 14:06:00.650  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3850,id=907841fffe2e6da0-00018898-00000007-181625ff685e00b5-dd219090
2023-03-03 14:06:00.654  INFO 100504 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3850
2023-03-03 14:06:03.876  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3943
2023-03-03 14:06:03.876  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3943
2023-03-03 14:06:03.879  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:06:03.879  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:03.879  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:06:03.918  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2b9366c7-9849-4cf6-a6cb-a7f6a40f8871],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:06:03.918955100]
2023-03-03 14:06:03.920  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=55d2374f-b03e-4401-81d6-88dddf2121a5],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:06:03.920953800]
2023-03-03 14:06:03.937  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:06:03.948  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:06:03.952  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a8506ba6-108b-4f20-aa46-d9a761d2e571],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:06:03.952302200]
2023-03-03 14:06:03.952  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1d15565b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:03.954  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=17b642eb-c942-46df-b446-7cf33613cc34],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:06:03.954306300]
2023-03-03 14:06:03.954  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@692bea1f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:03.956  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:06:03.957  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:06:05.161  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:06:05.191  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7301d62a-aa00-47e9-9a3b-fd84b4d25b51],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:06:05.191630500]
2023-03-03 14:06:05.281  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3d45bc2c-9e5f-442e-878b-04b589d5d53b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:06:05.281622500]
2023-03-03 14:06:05.282  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5f143760,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:05.285  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:06:05.286  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:06:10.260  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d884258d-8ff5-4f37-97c5-8136d0f2353b],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T14:06:10.259029400]
2023-03-03 14:06:10.260  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a1e99dc7-90a3-462e-af01-8253b0ca9b1a],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:06:10.260036]
2023-03-03 14:06:10.295  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ea713b39-eba9-49ba-96c6-4ac065384cf7],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:06:10.295449200]
2023-03-03 14:06:10.296  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1eba7326,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:10.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=baf7c729-7ea3-4a53-8611-6d384da621b9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:06:10.300445700]
2023-03-03 14:06:10.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7def5684,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:10.302  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:06:10.307  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:06:10.589  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641"]}}
2023-03-03 14:06:53.108  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5bc88a4b-f64f-40f5-b2bb-d246fa203a2f],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:06:53.108670200]
2023-03-03 14:06:53.159  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=039cb923-3be7-4245-9bf3-501f1955474b],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:06:53.159820200]
2023-03-03 14:06:53.159  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3974f01f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:06:53.168  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:06:53.377  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:06:53.344  INFO 100504 --- [async-service-2] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:06:53.385  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:06:53.535  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:06:53.538  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:06:53.575  INFO 100504 --- [async-service-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:06:53.582  INFO 100504 --- [async-service-3] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:06:53.794  INFO 100504 --- [async-service-3] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D5413290003, offsetMsgId=6F5CF1B100002A9F000000000003D808, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=2], queueOffset=20]
2023-03-03 14:06:53.797  INFO 100504 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631536603358920706, messageId=1631536603358920706, messageFlowId=1631536604013232129, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=65, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:06:53, updateTime=2023-03-03T14:06:53, messageFeature=0, content=引入 Jackson data byte jsr 310 模块, extra=null, layout=center)
2023-03-03 14:06:53.801  INFO 100504 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631536603358920706, messageId=1631536603358920706, messageFlowId=1631536604013232129, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=65, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:06:53, updateTime=2023-03-03T14:06:53, messageFeature=0, content=引入 Jackson data byte jsr 310 模块, extra=null, layout=center)
2023-03-03 14:06:53.800  INFO 100504 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631536603358920706, messageId=1631536603358920706, messageFlowId=1631536604013232129, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=65, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:06:53, updateTime=2023-03-03T14:06:53, messageFeature=0, content=引入 Jackson data byte jsr 310 模块, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-0000000b-130367ab785e8862-a0888478
2023-03-03 14:06:53.802  INFO 100504 --- [async-service-4] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631536603358920706, messageId=1631536603358920706, messageFlowId=1631536604013232129, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=65, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:06:53, updateTime=2023-03-03T14:06:53, messageFeature=0, content=引入 Jackson data byte jsr 310 模块, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000008-3b6720d3685e0185-a363f628
2023-03-03 14:06:54.083  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=00791784-b60e-489e-aeb7-3f5e6dd61430],[ip=127.0.0.1],[uri=/admin/talk/create],[method=OPTIONS],[time=2023-03-03T14:06:54.083407600]
2023-03-03 14:06:54.099  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7dd14eaf-273d-4c4e-bf5f-e17a0980c41f],[ip=127.0.0.1],[uri=/admin/talk/create],[method=POST],[time=2023-03-03T14:06:54.099405900]
2023-03-03 14:06:54.100  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7551d659,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:06:54.105  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:06:54.262  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=210e52a7-9a82-47c0-bbd8-d40037dce3c3],[ip=127.0.0.1],[uri=/admin/talk/create],[method=OPTIONS],[time=2023-03-03T14:06:54.262470400]
2023-03-03 14:06:54.279  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2b0c5889-011f-4a7a-8827-d3ed1320e006],[ip=127.0.0.1],[uri=/admin/talk/create],[method=POST],[time=2023-03-03T14:06:54.278152300]
2023-03-03 14:06:54.279  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3f8633fd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:06:54.284  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:08:29.715  INFO 100504 --- [ConsumeMessageThread_chat-message-group_4] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:08:29.717  WARN 100504 --- [ConsumeMessageThread_chat-message-group_4] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:5

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:09:11.593  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3943,id=907841fffe2e6da0-00018898-0000000b-130367ab785e8862-a0888478
2023-03-03 14:09:11.593  INFO 100504 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3943
2023-03-03 14:09:11.943  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3853,id=907841fffe2e6da0-00018898-00000008-3b6720d3685e0185-a363f628
2023-03-03 14:09:11.943  INFO 100504 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3853
2023-03-03 14:09:16.517  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8926
2023-03-03 14:09:16.518  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8926
2023-03-03 14:09:16.521  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:09:16.521  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:16.521  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:09:16.565  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=72e4d846-4dd3-4e12-9ba7-f83c01a556b9],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:09:16.565363600]
2023-03-03 14:09:16.566  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=69cdc19e-e8fe-454d-9fa9-e4b757ebf0d1],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:09:16.566364500]
2023-03-03 14:09:16.578  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d0716e01-234f-4c75-9f79-803ac8ae2079],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:09:16.578450500]
2023-03-03 14:09:16.578  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:16.583  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:16.581  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=305cd6cb-5f3d-4c17-a30d-8ad874d84d08],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:09:16.581451900]
2023-03-03 14:09:16.584  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1294285,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:16.586  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:09:16.587  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:16.608  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:09:18.309  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:09:18.366  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5833e730-58e9-4486-90dd-49e8c93bc02b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:09:18.366709900]
2023-03-03 14:09:18.379  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e082f1f4-c589-48c6-8c04-c5eef9dea00c],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:09:18.379257700]
2023-03-03 14:09:18.379  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@72df0236,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:18.384  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:18.385  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:09:20.598  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8950
2023-03-03 14:09:20.598  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8950
2023-03-03 14:09:20.602  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:09:20.602  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:20.602  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:09:20.646  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5daa02c9-9e46-46ef-8bfb-d11da5bceb42],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=OPTIONS],[time=2023-03-03T14:09:20.646195200]
2023-03-03 14:09:20.646  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=83599d34-91d7-457e-8780-cb657681d946],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:09:20.646195200]
2023-03-03 14:09:20.663  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=03415397-6fcb-4d93-b36a-dab242a6fdb3],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:09:20.663307500]
2023-03-03 14:09:20.663  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3c7a00de,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:20.665  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=998167b4-2640-4b2a-8ff6-57da6b65f8f6],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:09:20.665323700]
2023-03-03 14:09:20.665  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4e1466dd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:20.666  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:20.670  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:21.023  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_5] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:09:21.042  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_5] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:09:21.434  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:09:21.479  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d8e5b947-7870-4a0d-80e5-6614e6fdf9e1],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:09:21.478333400]
2023-03-03 14:09:21.480  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3fff3750,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:21.486  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:21.487  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:09:27.196  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8950,id=907841fffe2e6da0-00018898-0000000d-34a35a07335b88d3-a629c623
2023-03-03 14:09:27.196  INFO 100504 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8950
2023-03-03 14:09:27.920  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8926,id=907841fffe2e6da0-00018898-0000000c-3a165cf7b35b98e4-373ddc7f
2023-03-03 14:09:27.921  INFO 100504 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8926
2023-03-03 14:09:31.548  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9004
2023-03-03 14:09:31.549  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9004
2023-03-03 14:09:31.551  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:09:31.551  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:31.551  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:09:31.574  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=17d53bf7-25f8-43cf-959c-82a5deb5e384],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:09:31.574930200]
2023-03-03 14:09:31.574  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0e44f9f6-82a4-4db1-b522-eafd3e4b99a6],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:09:31.574930200]
2023-03-03 14:09:31.586  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1055b09f-bcde-4c3a-bc5b-4a1aa73cf5ef],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:09:31.586929]
2023-03-03 14:09:31.586  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2bf4f58f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:31.589  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:31.589  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e5593c3a-5df4-46dd-aaab-88da0c4248c5],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:09:31.589926]
2023-03-03 14:09:31.589  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@11ff420f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:31.591  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:31.616  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_6] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:09:31.633  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_6] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:09:31.688  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:09:31.697  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e48dd868-f894-4522-9504-15edc0c3f015],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:09:31.697032200]
2023-03-03 14:09:31.705  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=44aac06c-faa4-4e66-b03d-aae096906d8a],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:09:31.705032800]
2023-03-03 14:09:31.705  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5a1a0519,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:09:31.707  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:09:31.708  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:09:32.082  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9012
2023-03-03 14:09:32.082  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9012
2023-03-03 14:09:32.085  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:09:32.085  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:32.085  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:09:32.107  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=54c2f166-f60a-47e2-8201-e6a591ca0793],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:09:32.107516100]
2023-03-03 14:09:32.108  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@55836d10,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:32.110  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:32.112  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0aaac745-df90-40fe-9d10-c6bd88b765d1],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:09:32.112596800]
2023-03-03 14:09:32.113  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@36d0d968,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:32.117  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:32.152  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_7] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:09:32.164  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_7] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:09:33.227  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:09:33.563  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=eb73cc8b-2bb6-47dd-a6aa-c3afd57345d2],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:09:33.563083700]
2023-03-03 14:09:33.563  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@59d45a88,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:09:33.566  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6d922a9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:09:33.567  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:10:07.373  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9012,id=907841fffe2e6da0-00018898-0000000f-1cf2eff2935a55b0-a620437a
2023-03-03 14:10:07.373  INFO 100504 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9012
2023-03-03 14:10:07.439  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9004,id=907841fffe2e6da0-00018898-0000000e-1b0874f6935a539b-5efabc6c
2023-03-03 14:10:07.439  INFO 100504 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9004
2023-03-03 14:10:12.064  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9141
2023-03-03 14:10:12.064  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9141
2023-03-03 14:10:12.067  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:10:12.067  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:10:12.067  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:10:12.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=40e2a35b-16ee-4822-8e11-255c7e011cef],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:10:12.120029500]
2023-03-03 14:10:12.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@514c2c8d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:10:12.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4d2269bc-16d5-4b8d-a744-b2ccd7ab2e5d],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:10:12.120029500]
2023-03-03 14:10:12.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4fa94ace,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:10:12.122  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:10:12.123  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:10:12.131  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_8] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:10:12.140  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_8] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:10:12.693  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9150
2023-03-03 14:10:12.693  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9150
2023-03-03 14:10:12.695  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:10:12.696  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:10:12.696  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:10:12.741  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8b57c45e-a5b2-4699-b320-b7bd586e2417],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:10:12.741304800]
2023-03-03 14:10:12.742  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1fb85d60-aecb-4162-9248-7f01c7e1bf51],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:10:12.742303600]
2023-03-03 14:10:12.752  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1a2d92c2-4e80-44e8-8aaa-694286fbc4e4],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:10:12.752302300]
2023-03-03 14:10:12.752  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@37de24c2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:10:12.755  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:10:12.757  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c9bd861a-51a5-4d9f-9866-0674866a4994],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:10:12.757305]
2023-03-03 14:10:12.757  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4a2de2ed,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:10:12.760  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:10:13.036  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_9] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:10:13.048  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_9] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:10:13.101  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:10:13.430  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=71fc8fd2-dc07-49ae-95cd-05e2bf219f33],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:10:13.430361500]
2023-03-03 14:10:13.431  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@177fe509,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:10:13.433  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:10:13.434  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:10:14.103  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:10:14.113  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=db6d4087-caf3-45c3-aecc-9facbabadb24],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:10:14.113029800]
2023-03-03 14:10:14.127  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=56646af7-238e-4181-9e3a-53e19e20cae8],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:10:14.127032300]
2023-03-03 14:10:14.127  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4edb564d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:10:14.130  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:10:14.130  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:10:59.875  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9141,id=907841fffe2e6da0-00018898-00000010-230bc8380b5af1de-f53315e6
2023-03-03 14:10:59.875  INFO 100504 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9141
2023-03-03 14:10:59.937  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9150,id=907841fffe2e6da0-00018898-00000011-11dad1430b5af453-c2a7d50b
2023-03-03 14:10:59.937  INFO 100504 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9150
2023-03-03 14:11:05.054  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2157
2023-03-03 14:11:05.054  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2157
2023-03-03 14:11:05.057  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:11:05.057  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:11:05.057  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:11:05.117  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=db5094f2-fb34-492d-9213-b748af27889e],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:11:05.117153600]
2023-03-03 14:11:05.118  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d49c4d36-4f64-4355-b8b2-ba177f7a2928],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:11:05.118154600]
2023-03-03 14:11:05.372  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=28199668-543f-46c0-a29c-beff43296f4b],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:11:05.372369300]
2023-03-03 14:11:05.372  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@c0f7030,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:11:05.373  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:11:05.382  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fd8c4224-ea9a-4b50-a2bc-13313cd58af2],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:11:05.382890700]
2023-03-03 14:11:05.383  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6044b7b6,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:11:05.385  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:11:05.430  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_10] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:11:05.439  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_10] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:11:05.559  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2172
2023-03-03 14:11:05.559  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2172
2023-03-03 14:11:05.561  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:11:05.562  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:11:05.562  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:11:05.582  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7ab1449c-11d4-4be1-9489-a87b26fbabf4],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:11:05.582951]
2023-03-03 14:11:05.582  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2b00d188,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:11:05.583  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0df6f801-5c87-4ed3-ac13-b0eefb4719ad],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:11:05.583948600]
2023-03-03 14:11:05.583  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@754137da,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:11:05.584  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:11:05.585  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:11:05.629  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_11] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:11:05.639  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_11] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:11:06.282  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:11:06.315  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=253292c0-52ce-4709-9c94-87634dfe0836],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:11:06.315106800]
2023-03-03 14:11:06.315  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@43af3adf,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:11:06.317  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:11:06.318  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:11:06.428  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:11:06.436  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f443a666-5f41-417b-ba1d-b8b7ade96eed],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:11:06.436277900]
2023-03-03 14:11:06.448  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9081cbdf-5ff6-409e-b6cb-3307290528ef],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:11:06.447279]
2023-03-03 14:11:06.448  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@793a0271,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:11:06.450  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:11:06.451  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:12:26.763  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:12:29.766  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:12:31.616  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:12:31.616  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:12:31.864  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:12:34.866  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:12:34.866  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:12:35.928  INFO 100504 --- [ConsumeMessageThread_chat-message-group_5] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:12:35.930  WARN 100504 --- [ConsumeMessageThread_chat-message-group_5] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:6

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:17:28.156  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2172,id=907841fffe2e6da0-00018898-00000013-36bf59c9255522d4-ac42675c
2023-03-03 14:17:28.157  INFO 100504 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2172
2023-03-03 14:17:28.497  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2157,id=907841fffe2e6da0-00018898-00000012-1b13ee4d255520dc-9c429e9d
2023-03-03 14:17:28.497  INFO 100504 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2157
2023-03-03 14:17:33.627  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7535
2023-03-03 14:17:33.627  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7535
2023-03-03 14:17:33.628  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:17:33.628  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:17:33.628  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:17:33.636  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7536
2023-03-03 14:17:33.636  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7536
2023-03-03 14:17:33.637  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:17:33.637  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:17:33.637  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:17:33.656  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5b304d01-520c-4ca2-a1e8-9b94d9b11c51],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:17:33.656363500]
2023-03-03 14:17:33.656  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=35972918-b4a8-487a-b735-b94fc87be690],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:17:33.656363500]
2023-03-03 14:17:33.656  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2c28e63f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:17:33.656  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@f562902,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:17:33.658  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:17:33.658  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:17:33.670  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=175e54a0-d87b-4b56-93d2-26299140ffd1],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:17:33.670363700]
2023-03-03 14:17:33.671  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=21c89719-d1f2-4929-be68-a30008e48b85],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:17:33.671364200]
2023-03-03 14:17:33.681  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8af5b99b-16be-4f22-a20b-7ab8c7a7da73],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:17:33.681366300]
2023-03-03 14:17:33.681  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@67ec81e4,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:17:33.682  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=71e1a246-ef05-4ddc-8399-9295943e5c54],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:17:33.682363600]
2023-03-03 14:17:33.682  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@110c3994,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:17:33.683  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:17:33.684  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:17:33.692  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_12] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:17:33.697  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_13] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:17:33.702  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_12] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:17:33.708  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_13] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:17:34.583  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:17:34.612  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5e1ca08e-9658-4a5e-8ac3-7c2f0e3613c1],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:17:34.612964800]
2023-03-03 14:17:34.612  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@8535c8c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:17:34.615  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:17:34.616  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:17:34.970  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:17:34.978  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=881fc261-429d-4dfa-a347-ae3c30a56b51],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:17:34.978630200]
2023-03-03 14:17:34.988  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8dd6ce03-698f-40a1-a3be-d2d8e0d1b3ab],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:17:34.988633200]
2023-03-03 14:17:34.988  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5d0a55c4,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:17:34.991  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:17:34.992  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:17:35.992  INFO 100504 --- [ConsumeMessageThread_chat-message-group_6] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:17:35.994  WARN 100504 --- [ConsumeMessageThread_chat-message-group_6] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:7

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:20:05.181  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7535,id=907841fffe2e6da0-00018898-00000019-3ad122b49ed30eb9-08936fcd
2023-03-03 14:20:05.181  INFO 100504 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7535
2023-03-03 14:20:05.552  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7536,id=907841fffe2e6da0-00018898-0000001a-381e1b349ed30ec2-8648e69d
2023-03-03 14:20:05.552  INFO 100504 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7536
2023-03-03 14:20:10.247  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7798
2023-03-03 14:20:10.247  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7798
2023-03-03 14:20:10.248  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:20:10.248  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:10.248  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:20:10.285  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1f2efdd4-f536-430b-a21d-f4c9e02b798f],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:20:10.285695400]
2023-03-03 14:20:10.286  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4a101c2d-2749-495c-8a39-9dfb39937880],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:20:10.286694200]
2023-03-03 14:20:10.298  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b6d99a04-bf46-4b8c-8c24-ca47347f9cc5],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:20:10.298831400]
2023-03-03 14:20:10.299  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3c84cc9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:10.299  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=01512527-51a8-4213-af69-6940c7ab60cc],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:20:10.299061800]
2023-03-03 14:20:10.299  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@30f0c94,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:10.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:10.301  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:10.309  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_14] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:20:10.312  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7801
2023-03-03 14:20:10.313  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7801
2023-03-03 14:20:10.313  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:20:10.314  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:10.314  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:20:10.319  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_14] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:20:10.372  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_15] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:20:10.383  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=277baa85-eeb4-470b-a614-072862600746],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:20:10.383586200]
2023-03-03 14:20:10.383  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@39868435,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:10.384  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_15] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:20:10.386  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:10.392  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ff722afc-cc4a-4b56-a5a7-5106913d85f6],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:20:10.392586500]
2023-03-03 14:20:10.392  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3452565a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:10.395  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:11.206  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:20:11.232  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=467b9d73-3046-403b-92f8-6814f0b89b88],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:20:11.232773300]
2023-03-03 14:20:11.232  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2b304f8b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:11.235  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:11.235  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:20:11.591  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:20:11.601  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=aa27a645-44e0-47ca-a842-6a788bdeb7a9],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:20:11.601792100]
2023-03-03 14:20:11.610  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4b39f630-449a-4f1c-825b-19c95019e156],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:20:11.610792600]
2023-03-03 14:20:11.610  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@728280df,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:11.612  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:11.613  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:20:29.969  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7801,id=907841fffe2e6da0-00018898-0000001c-1350ce65a4ed92c6-5e045fc9
2023-03-03 14:20:29.969  INFO 100504 --- [nioEventLoopGroup-5-15] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7801
2023-03-03 14:20:30.214  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7798,id=907841fffe2e6da0-00018898-0000001b-06d1ee45a4ed9283-f1aa8d51
2023-03-03 14:20:30.214  INFO 100504 --- [nioEventLoopGroup-5-14] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7798
2023-03-03 14:20:35.107  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c5f04e36-c6af-43b5-9cb1-45c0a8eda5be],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:20:35.107860100]
2023-03-03 14:20:35.109  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6e5d3fbf-8381-44c3-a36f-b624d16e8376],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:20:35.109858500]
2023-03-03 14:20:35.117  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f425a074-c693-415a-a180-e4076284fa02],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:20:35.117861200]
2023-03-03 14:20:35.118  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6fe929d1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:35.119  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e78dce09-8271-40f9-aff8-c38bdbb2985d],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:20:35.118861100]
2023-03-03 14:20:35.119  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6a7ed827,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:35.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:35.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:35.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fe1758c6-248a-436e-8f65-b60a860de0c4],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:20:35.300491300]
2023-03-03 14:20:35.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@383dc576,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:35.301  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=542e73bd-034c-4181-8b63-45411d5f9641],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:20:35.301573600]
2023-03-03 14:20:35.301  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@57627bae,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:35.302  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:35.303  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:35.349  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7863
2023-03-03 14:20:35.349  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7863
2023-03-03 14:20:35.350  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,headers=http://localhost:3000,method=GET
2023-03-03 14:20:35.351  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:35.351  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:20:35.417  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_16] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g, extend=null)
2023-03-03 14:20:35.427  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_16] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:20:35.575  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7865
2023-03-03 14:20:35.576  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7865
2023-03-03 14:20:35.577  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,headers=http://localhost:3000,method=GET
2023-03-03 14:20:35.577  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:35.577  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:20:35.638  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_17] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ, extend=null)
2023-03-03 14:20:35.649  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_17] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:20:36.467  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:20:36.516  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e62af98d-015a-4ccf-b65d-02dd757e0b3e],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:20:36.516051800]
2023-03-03 14:20:36.517  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5a40d2eb,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ
2023-03-03 14:20:36.519  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODI4MzAyfQ.F9P0cyLTnGHrN_UHys_62zTpnMTIRfLPOBg2-ga6ZH2IaNKXlJPjH_DQaPROq7PLmHgFQiY4sPTY84-OxX2EPQ,user=1612030664754913281
2023-03-03 14:20:36.519  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:20:36.926  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:20:36.947  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3fe97eeb-1601-488a-b3bd-5a8d3baa6a61],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:20:36.947697500]
2023-03-03 14:20:36.956  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=940daf13-10c7-49b6-9679-78ac7e5eae7b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:20:36.956696500]
2023-03-03 14:20:36.957  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@f618ab8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g
2023-03-03 14:20:36.959  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODI4MjY5fQ.ChADA9gjhufnTA3cu_abVICRI7rycB3hNyeyK6MP3c1yXyX_AKx1y03aBeu1rGC5ryu45sg8m3XZIGGZVYpe-g,user=1611656761503215617
2023-03-03 14:20:36.959  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:23:36.357  INFO 100504 --- [ConsumeMessageThread_chat-message-group_7] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:23:36.359  WARN 100504 --- [ConsumeMessageThread_chat-message-group_7] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:8

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:28:32.319  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:29:15.416  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:30:36.807  INFO 100504 --- [ConsumeMessageThread_chat-message-group_8] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:30:36.808  WARN 100504 --- [ConsumeMessageThread_chat-message-group_8] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:9

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:30:53.877  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7863,id=907841fffe2e6da0-00018898-0000001d-3b277dbfc4ec7493-f2171a64
2023-03-03 14:30:53.877  INFO 100504 --- [nioEventLoopGroup-5-16] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7863
2023-03-03 14:30:53.890  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7865,id=907841fffe2e6da0-00018898-0000001e-23b60213c4ec7575-8fa0a59f
2023-03-03 14:30:53.890  INFO 100504 --- [nioEventLoopGroup-5-17] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7865
2023-03-03 14:31:10.430  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=bf4b9dab-bc5d-45b9-a2c9-97951eb5420e],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-03T14:31:10.430335800]
2023-03-03 14:31:10.457  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2a0207f0-c1fa-4c1c-82c8-3b1074fe41d7],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-03T14:31:10.457832700]
2023-03-03 14:31:10.637  WARN 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.a.druid.pool.DruidAbstractDataSource   : discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai, version : 1.2.8, lastPacketReceivedIdleMillis : 633503
2023-03-03 14:31:10.640  WARN 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.a.druid.pool.DruidAbstractDataSource   : discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai, version : 1.2.8, lastPacketReceivedIdleMillis : 634990
2023-03-03 14:31:10.643  WARN 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.a.druid.pool.DruidAbstractDataSource   : discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai, version : 1.2.8, lastPacketReceivedIdleMillis : 816936
2023-03-03 14:31:10.648  WARN 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.a.druid.pool.DruidAbstractDataSource   : discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai, version : 1.2.8, lastPacketReceivedIdleMillis : 816944
2023-03-03 14:31:11.292  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c1aed447-44be-4ff0-bffb-a0c42f3f440f],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:31:11.292884800]
2023-03-03 14:31:11.300  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a0ffe019-1c0d-47a2-959a-1245b164a0dd],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:31:11.300889300]
2023-03-03 14:31:11.328  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=975f801c-fdfd-4918-a15e-6c795c71608f],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:31:11.328062300]
2023-03-03 14:31:11.329  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@721a34bb,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:11.334  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=220b76e3-a714-46ec-b2fc-04f8468be542],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:31:11.334887800]
2023-03-03 14:31:11.334  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:31:11.334  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5fe13f77,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:11.341  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:31:11.495  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8646
2023-03-03 14:31:11.495  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8646
2023-03-03 14:31:11.496  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 14:31:11.497  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:11.497  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:31:11.564  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_18] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 14:31:11.584  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_18] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:31:11.633  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:31:11.649  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f6141a39-147c-4bdc-bd52-f88db817dde6],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:31:11.649214700]
2023-03-03 14:31:11.685  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=89a110c3-f590-428e-b1d2-443d278f8547],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:31:11.685216200]
2023-03-03 14:31:11.685  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3261a5a2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:11.688  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:31:11.689  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:31:18.532  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f534668-d66c-430e-9d1f-0c7a8a70f978],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-03T14:31:18.532245800]
2023-03-03 14:31:18.565  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=67547fc9-9a02-4c9e-86e3-f369f6dc1ddf],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-03T14:31:18.565446]
2023-03-03 14:31:19.089  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=bd47d4a9-af6f-4358-8ba6-400e99ca84aa],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:31:19.089058100]
2023-03-03 14:31:19.089  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@14935325,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:31:19.094  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6e8c1dfb-0858-44b0-8b08-dcd198e9fc17],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:31:19.094190600]
2023-03-03 14:31:19.094  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4776a59e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:31:19.096  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:31:19.099  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:31:19.318  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8676
2023-03-03 14:31:19.318  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8676
2023-03-03 14:31:19.319  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:31:19.320  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:31:19.320  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:31:19.382  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_19] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:31:19.393  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_19] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:31:19.435  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:31:19.512  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fa76c0fc-4ffc-4c96-8414-167f176182d3],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:31:19.512540]
2023-03-03 14:31:19.582  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a281ddc9-c371-4f20-a9d6-541a965c4396],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:31:19.582230100]
2023-03-03 14:31:19.582  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4a9c00fc,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:31:19.584  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:31:19.585  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:31:27.377  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=64598d8f-c173-4d0c-b873-7a71351db168],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:31:27.377199700]
2023-03-03 14:31:27.381  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=44896156-07bf-4ec8-862e-0984172e32ec],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T14:31:27.381196200]
2023-03-03 14:31:27.388  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=929983c5-1a4b-4d1c-ac5f-d08e0f5753b9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:31:27.388214600]
2023-03-03 14:31:27.388  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4144c69a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:27.390  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=93d6d8f9-cf36-441b-b271-4dc14917b496],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:31:27.390198400]
2023-03-03 14:31:27.390  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4448345a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:31:27.390  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:31:27.392  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:31:27.665  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706"]}}
2023-03-03 14:32:21.002  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c3e74666-3ae4-40c5-9ebd-3ea1a90991d8],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:32:21.002182600]
2023-03-03 14:32:21.009  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0d4e6182-1654-49e9-989f-a751152ca7c2],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T14:32:21.009181]
2023-03-03 14:32:21.013  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c9f53481-e12e-41fe-8a29-13f5ca7bfbb7],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:32:21.013179600]
2023-03-03 14:32:21.013  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3ed0ea0d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:32:21.015  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:32:21.018  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=04e153cc-63b3-42c6-aec0-cf4535dc2509],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:32:21.018195800]
2023-03-03 14:32:21.018  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6d3178f8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:32:21.020  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:32:21.168  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578"]}}
2023-03-03 14:32:55.813  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=84589035-dd6d-4f25-8f02-b198da4f5e9d],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:32:55.813036200]
2023-03-03 14:32:55.813  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@c17b483,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:32:55.815  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:32:55.819  INFO 100504 --- [async-service-5] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:32:55.819  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:32:55.819  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:32:55.848  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:32:55.849  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:32:55.860  INFO 100504 --- [async-service-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:32:55.860  INFO 100504 --- [async-service-6] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:32:56.105  INFO 100504 --- [async-service-6] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D6BE9ED0014, offsetMsgId=6F5CF1B100002A9F00000000000425DF, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=1], queueOffset=16]
2023-03-03 14:32:56.110  INFO 100504 --- [ConsumeMessageThread_chat-message-group_9] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631543156694679554, messageId=1631543156694679554, messageFlowId=1631543156820508673, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=66, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:32:55, updateTime=2023-03-03T14:32:55, messageFeature=0, content=发送修改 TalkEvent 逻辑后的消息, extra=null, layout=center)
2023-03-03 14:32:56.111  INFO 100504 --- [ConsumeMessageThread_chat-message-group_9] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631543156694679554, messageId=1631543156694679554, messageFlowId=1631543156820508673, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=66, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:32:55, updateTime=2023-03-03T14:32:55, messageFeature=0, content=发送修改 TalkEvent 逻辑后的消息, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000021-1072671bfde78984-489faf82
2023-03-03 14:32:56.112  INFO 100504 --- [async-service-7] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631543156694679554, messageId=1631543156694679554, messageFlowId=1631543156820508673, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=66, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:32:55, updateTime=2023-03-03T14:32:55, messageFeature=0, content=发送修改 TalkEvent 逻辑后的消息, extra=null, layout=center)
2023-03-03 14:32:56.112  INFO 100504 --- [async-service-7] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631543156694679554, messageId=1631543156694679554, messageFlowId=1631543156820508673, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=66, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:32:55, updateTime=2023-03-03T14:32:55, messageFeature=0, content=发送修改 TalkEvent 逻辑后的消息, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000022-0fd26c579de7a813-d42e38b0
2023-03-03 14:32:56.478  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2841d129-b4a4-4981-9364-27f046aeef0b],[ip=127.0.0.1],[uri=/admin/talk/create],[method=OPTIONS],[time=2023-03-03T14:32:56.478152700]
2023-03-03 14:32:56.507  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=63bd0aa4-88f4-48b2-ae07-be285d2f85aa],[ip=127.0.0.1],[uri=/admin/talk/create],[method=POST],[time=2023-03-03T14:32:56.507155600]
2023-03-03 14:32:56.508  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3b2f226,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:32:56.513  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:32:56.570  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0e863f8a-ebc7-47a5-865b-fd780e93af54],[ip=127.0.0.1],[uri=/admin/talk/create],[method=POST],[time=2023-03-03T14:32:56.570808]
2023-03-03 14:32:56.571  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@122d9479,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:32:56.576  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:35:00.877  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:35:49.688  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8676,id=907841fffe2e6da0-00018898-00000022-0fd26c579de7a813-d42e38b0
2023-03-03 14:35:49.689  INFO 100504 --- [nioEventLoopGroup-5-19] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8676
2023-03-03 14:35:49.701  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8646,id=907841fffe2e6da0-00018898-00000021-1072671bfde78984-489faf82
2023-03-03 14:35:49.701  INFO 100504 --- [nioEventLoopGroup-5-18] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8646
2023-03-03 14:35:53.876  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9035
2023-03-03 14:35:53.876  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9035
2023-03-03 14:35:53.877  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:35:53.878  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:35:53.878  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:35:53.897  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c24d251c-1894-4cab-8895-89ac895f86b5],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:35:53.897979100]
2023-03-03 14:35:53.897  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@793b6dbd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:35:53.897  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=be1ea1e9-18d5-4dce-b7b3-a727ca75db9f],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:35:53.897979100]
2023-03-03 14:35:53.898  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6c79a7fa,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:35:53.899  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:35:53.899  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:35:53.943  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_20] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:35:53.952  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_20] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:35:54.594  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9044
2023-03-03 14:35:54.594  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9044
2023-03-03 14:35:54.595  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 14:35:54.595  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:35:54.595  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:35:54.637  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8961e2ff-546c-4088-bb05-6018e87e0096],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:35:54.637857600]
2023-03-03 14:35:54.639  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=95d4c27f-9f14-476c-8509-c75b7d019590],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:35:54.639077600]
2023-03-03 14:35:54.651  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f32e8909-ae0c-42ee-b03d-0006bf47a04b],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:35:54.651857500]
2023-03-03 14:35:54.651  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6529c58f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:35:54.652  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6f61241b-493d-4cc8-b579-163ac20265eb],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:35:54.652857200]
2023-03-03 14:35:54.652  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@276c9751,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:35:54.653  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:35:54.654  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:35:54.657  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 14:35:54.669  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:35:54.720  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:35:54.736  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fd7ffc29-d3f1-41af-a602-397c783f1376],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:35:54.736836]
2023-03-03 14:35:54.737  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7c36f975,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:35:54.739  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:35:54.740  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:35:55.794  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:35:55.801  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=78cb60f0-3d7f-45b7-b446-18ee06bac56b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:35:55.801796500]
2023-03-03 14:35:55.808  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=909802b8-499f-4108-bd89-b687cb6a1ca8],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:35:55.808796300]
2023-03-03 14:35:55.808  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@513f81aa,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:35:55.809  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:35:55.810  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:36:03.575  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0202251a-31dd-4512-85bd-c10b33fb8425],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:36:03.575475300]
2023-03-03 14:36:03.575  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@50f0044f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:36:03.575  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ec8ba206-aba3-498c-812b-bd2a4bb8265d],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:36:03.575475300]
2023-03-03 14:36:03.576  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@52184c7a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:36:03.578  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:36:03.578  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:36:03.719  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578"]}}
2023-03-03 14:36:12.314  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5d32d7e7-bd36-4677-8378-bc6260cf20f9],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:36:12.314922900]
2023-03-03 14:36:12.315  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@52ddd6e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:36:12.319  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:36:12.327  INFO 100504 --- [async-service-8] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:36:12.327  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:36:12.328  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:36:12.354  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:36:12.355  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:36:12.367  INFO 100504 --- [async-service-9] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:36:12.368  INFO 100504 --- [async-service-9] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:36:12.581  INFO 100504 --- [async-service-9] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D6EE96C0017, offsetMsgId=6F5CF1B100002A9F0000000000042DC3, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=20]
2023-03-03 14:36:12.585  INFO 100504 --- [ConsumeMessageThread_chat-message-group_10] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631543980913164289, messageId=1631543980913164289, messageFlowId=1631543981026410498, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=67, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:36:12, updateTime=2023-03-03T14:36:12, messageFeature=0, content=改造还是该找, extra=null, layout=center)
2023-03-03 14:36:12.586  INFO 100504 --- [ConsumeMessageThread_chat-message-group_10] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631543980913164289, messageId=1631543980913164289, messageFlowId=1631543981026410498, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=67, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:36:12, updateTime=2023-03-03T14:36:12, messageFeature=0, content=改造还是该找, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000025-1f4983439e027b5c-5db20c0f
2023-03-03 14:36:12.587  INFO 100504 --- [async-service-10] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631543980913164289, messageId=1631543980913164289, messageFlowId=1631543981026410498, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=67, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:36:12, updateTime=2023-03-03T14:36:12, messageFeature=0, content=改造还是该找, extra=null, layout=center)
2023-03-03 14:36:12.587  INFO 100504 --- [async-service-10] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631543980913164289, messageId=1631543980913164289, messageFlowId=1631543981026410498, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=67, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:36:12, updateTime=2023-03-03T14:36:12, messageFeature=0, content=改造还是该找, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000024-23f522989e027892-2d084f28
2023-03-03 14:36:33.656  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ab198086-6398-46d7-b7c3-c22bdfda9130],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:36:33.656735600]
2023-03-03 14:36:33.657  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6b9ab172-546b-4bea-8a5c-caa7d497d6e4],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T14:36:33.657735100]
2023-03-03 14:36:33.672  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cdf9cffb-c2e9-4fa2-8854-65e69d77dbab],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:36:33.672005200]
2023-03-03 14:36:33.672  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@151a15c7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:36:33.672  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=01d24b93-7fa0-4072-8c1a-4ca01364c1ed],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:36:33.672005200]
2023-03-03 14:36:33.672  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3c656698,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:36:33.674  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:36:33.674  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:36:33.815  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289"]}}
2023-03-03 14:37:02.670  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6b423d26-0a4d-4645-bae6-550aa0af59fc],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:37:02.670779100]
2023-03-03 14:37:02.677  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9273d7f0-0af1-473c-bc9a-1e4559e875b4],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:37:02.677777900]
2023-03-03 14:37:02.677  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@b912ff1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:37:02.679  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:37:02.683  INFO 100504 --- [async-service-11] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:37:02.684  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:37:02.684  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:37:02.689  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:37:02.690  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:37:02.695  INFO 100504 --- [async-service-12] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:37:02.695  INFO 100504 --- [async-service-12] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:37:02.939  INFO 100504 --- [async-service-12] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D6FAE200018, offsetMsgId=6F5CF1B100002A9F0000000000043066, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=21]
2023-03-03 14:37:02.954  INFO 100504 --- [ConsumeMessageThread_chat-message-group_11] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631544192121536513, messageId=1631544192121536513, messageFlowId=1631544192146702338, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=68, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:37:02, updateTime=2023-03-03T14:37:02, messageFeature=0, content=第一次改造失败, extra=null, layout=center)
2023-03-03 14:37:02.956  INFO 100504 --- [ConsumeMessageThread_chat-message-group_11] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631544192121536513, messageId=1631544192121536513, messageFlowId=1631544192146702338, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=68, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:37:02, updateTime=2023-03-03T14:37:02, messageFeature=0, content=第一次改造失败, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000024-23f522989e027892-2d084f28
2023-03-03 14:37:02.959  INFO 100504 --- [async-service-13] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631544192121536513, messageId=1631544192121536513, messageFlowId=1631544192146702338, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=68, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:37:02, updateTime=2023-03-03T14:37:02, messageFeature=0, content=第一次改造失败, extra=null, layout=center)
2023-03-03 14:37:02.960  INFO 100504 --- [async-service-13] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631544192121536513, messageId=1631544192121536513, messageFlowId=1631544192146702338, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=68, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:37:02, updateTime=2023-03-03T14:37:02, messageFeature=0, content=第一次改造失败, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000025-1f4983439e027b5c-5db20c0f
2023-03-03 14:38:36.957  INFO 100504 --- [ConsumeMessageThread_chat-message-group_12] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:38:36.960  WARN 100504 --- [ConsumeMessageThread_chat-message-group_12] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:10

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:39:28.916  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9035,id=907841fffe2e6da0-00018898-00000024-23f522989e027892-2d084f28
2023-03-03 14:39:28.916  INFO 100504 --- [nioEventLoopGroup-5-20] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9035
2023-03-03 14:39:29.047  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:9044,id=907841fffe2e6da0-00018898-00000025-1f4983439e027b5c-5db20c0f
2023-03-03 14:39:29.047  INFO 100504 --- [nioEventLoopGroup-5-21] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:9044
2023-03-03 14:39:32.373  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9349
2023-03-03 14:39:32.373  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9349
2023-03-03 14:39:32.379  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:39:32.379  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:39:32.379  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:39:32.405  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cea94e2e-7fe9-44dc-a625-49ead7e61b84],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:39:32.405136]
2023-03-03 14:39:32.406  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b56ffc86-e073-4cca-b648-e53c193fdc6f],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=OPTIONS],[time=2023-03-03T14:39:32.406134300]
2023-03-03 14:39:32.422  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c133f70a-137b-4855-b690-3d1d83314689],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:39:32.422530700]
2023-03-03 14:39:32.422  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c56ad834-bf5c-40ae-8091-d1c5735bce9f],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:39:32.422530700]
2023-03-03 14:39:32.422  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5c0f150a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:39:32.422  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@648517e8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:39:32.424  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:39:32.424  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:39:32.658  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:39:33.113  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:39:33.134  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=69f6718f-05b7-4945-94aa-9637159d821c],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:39:33.134399900]
2023-03-03 14:39:33.134  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@398638a2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:39:33.136  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:39:33.136  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:39:33.411  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:39:33.420  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:39:35.021  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:9363
2023-03-03 14:39:35.021  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:9363
2023-03-03 14:39:35.022  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 14:39:35.022  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:35.022  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:39:35.079  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=00a28899-a8aa-429a-aec7-6de3621947dd],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T14:39:35.079321500]
2023-03-03 14:39:35.081  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=15071db8-e8d2-4251-8330-03861947368b],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T14:39:35.081244200]
2023-03-03 14:39:35.088  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=77c03760-eab1-4669-a16a-840c7a5d8f27],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T14:39:35.088769900]
2023-03-03 14:39:35.088  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1f7f3f80,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:35.089  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7e2e5713-a930-4667-b2c7-9d7d0ad71676],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:39:35.089771700]
2023-03-03 14:39:35.090  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6be3a3b1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:35.090  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:39:35.091  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:39:35.425  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 14:39:35.431  INFO 100504 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:39:36.114  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:39:36.120  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a7308aba-6024-4977-a059-9dd62f2dd39c],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:39:36.120212]
2023-03-03 14:39:36.130  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0a15999c-65b7-4f13-8d8d-8890dedf2d42],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:39:36.130213300]
2023-03-03 14:39:36.130  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@54ecafbf,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:36.132  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:39:36.133  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:39:56.064  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:39:58.265  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d8a6c349-3172-4753-909e-e8fa6c5d1b97],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:39:58.265949800]
2023-03-03 14:39:58.265  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=36274752-ab12-4d75-b491-b4336369e4c1],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T14:39:58.265949800]
2023-03-03 14:39:58.278  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f8f8b2a8-2565-44d9-9bfe-3372c896d4a0],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:39:58.278110700]
2023-03-03 14:39:58.278  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@84e1bb,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:58.278  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=167e55fa-2208-407b-b132-51fd16a8bbbe],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:39:58.278110700]
2023-03-03 14:39:58.278  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3963492,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:39:58.278  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:39:58.279  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:39:58.416  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289"]}}
2023-03-03 14:40:03.013  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f1c0810c-a182-4bac-acfc-01fce439e9fe],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:40:03.013855]
2023-03-03 14:40:03.014  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4946de0b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:40:03.015  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=67965cad-ad7d-429e-a2b1-b4f130dee4b6],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:40:03.015914700]
2023-03-03 14:40:03.015  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2abe92a2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:40:03.016  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:40:03.017  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5bdf6216,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:40:03.191  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513"]}}
2023-03-03 14:40:10.955  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e350de37-187b-4eb6-a65a-2c9f6753cf89],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:40:10.955985400]
2023-03-03 14:40:10.966  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=828ec865-b3e6-40ca-8a8c-5dabe58b45dc],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:40:10.966989300]
2023-03-03 14:40:10.966  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@cc3bc89,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:40:10.968  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:40:10.987  INFO 100504 --- [async-service-14] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:40:10.987  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:40:10.987  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:40:10.993  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:40:10.994  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:40:11.009  INFO 100504 --- [async-service-15] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:40:11.010  INFO 100504 --- [async-service-15] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:40:11.774  INFO 100504 --- [async-service-15] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D728E7D001B, offsetMsgId=6F5CF1B100002A9F0000000000043EFA, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=22]
2023-03-03 14:40:11.777  INFO 100504 --- [ConsumeMessageThread_chat-message-group_13] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631544981921562625, messageId=1631544981921562625, messageFlowId=1631544981950922754, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=69, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:40:10, updateTime=2023-03-03T14:40:10, messageFeature=0, content=第二次改造, extra=null, layout=center)
2023-03-03 14:40:11.779  INFO 100504 --- [ConsumeMessageThread_chat-message-group_13] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631544981921562625, messageId=1631544981921562625, messageFlowId=1631544981950922754, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=69, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:40:10, updateTime=2023-03-03T14:40:10, messageFeature=0, content=第二次改造, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000028-074181e9541fd86b-28c07079
2023-03-03 14:40:11.780  INFO 100504 --- [async-service-16] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631544981921562625, messageId=1631544981921562625, messageFlowId=1631544981950922754, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=69, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:40:10, updateTime=2023-03-03T14:40:10, messageFeature=0, content=第二次改造, extra=null, layout=center)
2023-03-03 14:40:11.780  INFO 100504 --- [async-service-16] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631544981921562625, messageId=1631544981921562625, messageFlowId=1631544981950922754, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=69, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:40:10, updateTime=2023-03-03T14:40:10, messageFeature=0, content=第二次改造, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000026-2fcc659c541f2e12-1052b502
2023-03-03 14:40:12.940  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1631544981921562625"]}}
2023-03-03 14:41:10.722  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=496d09ff-3103-47fb-a1f7-4615fbddd1c9],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:41:10.722297400]
2023-03-03 14:41:10.727  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f005347a-7239-4e6c-bc70-6a595165850b],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:41:10.727298900]
2023-03-03 14:41:10.728  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6adf199c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:41:10.729  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:41:10.733  INFO 100504 --- [async-service-17] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:41:10.733  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:41:10.734  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:10.736  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:41:10.736  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:10.741  INFO 100504 --- [async-service-18] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:41:10.741  INFO 100504 --- [async-service-18] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:41:10.908  INFO 100504 --- [async-service-18] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D7376C3001C, offsetMsgId=6F5CF1B100002A9F000000000004419A, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=23]
2023-03-03 14:41:11.270  INFO 100504 --- [ConsumeMessageThread_chat-message-group_14] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631545232514449410, messageId=1631545232514449410, messageFlowId=1631545232527032322, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=70, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:10, updateTime=2023-03-03T14:41:10, messageFeature=0, content=你好呀, extra=null, layout=center)
2023-03-03 14:41:11.271  INFO 100504 --- [ConsumeMessageThread_chat-message-group_14] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545232514449410, messageId=1631545232514449410, messageFlowId=1631545232527032322, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=70, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:10, updateTime=2023-03-03T14:41:10, messageFeature=0, content=你好呀, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000026-2fcc659c541f2e12-1052b502
2023-03-03 14:41:11.272  INFO 100504 --- [async-service-19] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631545232514449410, messageId=1631545232514449410, messageFlowId=1631545232527032322, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=70, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:10, updateTime=2023-03-03T14:41:10, messageFeature=0, content=你好呀, extra=null, layout=center)
2023-03-03 14:41:11.273  INFO 100504 --- [async-service-19] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545232514449410, messageId=1631545232514449410, messageFlowId=1631545232527032322, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=70, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:10, updateTime=2023-03-03T14:41:10, messageFeature=0, content=你好呀, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000028-074181e9541fd86b-28c07079
2023-03-03 14:41:12.431  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1631545232514449410"]}}
2023-03-03 14:41:18.614  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=047d479d-185a-4ce6-ba95-eb7fdfcffb0c],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:41:18.614825400]
2023-03-03 14:41:18.620  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c7a95d77-598c-42a1-9698-5ab8cf97d971],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:41:18.620825]
2023-03-03 14:41:18.620  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@14ef11a1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:41:18.621  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:41:18.624  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:41:18.624  INFO 100504 --- [async-service-20] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:41:18.624  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:18.626  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:41:18.626  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:18.631  INFO 100504 --- [async-service-21] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:41:18.632  INFO 100504 --- [async-service-21] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:41:18.958  INFO 100504 --- [ConsumeMessageThread_chat-message-group_15] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631545265607507969, messageId=1631545265607507969, messageFlowId=1631545265620090881, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=71, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:18, updateTime=2023-03-03T14:41:18, messageFeature=0, content=现在可以回显消息了, extra=null, layout=center)
2023-03-03 14:41:18.959  INFO 100504 --- [ConsumeMessageThread_chat-message-group_15] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545265607507969, messageId=1631545265607507969, messageFlowId=1631545265620090881, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=71, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:18, updateTime=2023-03-03T14:41:18, messageFeature=0, content=现在可以回显消息了, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000026-2fcc659c541f2e12-1052b502
2023-03-03 14:41:18.960  INFO 100504 --- [async-service-22] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631545265607507969, messageId=1631545265607507969, messageFlowId=1631545265620090881, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=71, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:18, updateTime=2023-03-03T14:41:18, messageFeature=0, content=现在可以回显消息了, extra=null, layout=center)
2023-03-03 14:41:18.960  INFO 100504 --- [async-service-22] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545265607507969, messageId=1631545265607507969, messageFlowId=1631545265620090881, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=71, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:18, updateTime=2023-03-03T14:41:18, messageFeature=0, content=现在可以回显消息了, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000028-074181e9541fd86b-28c07079
2023-03-03 14:41:19.978  INFO 100504 --- [async-service-21] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D739630001D, offsetMsgId=6F5CF1B100002A9F0000000000044434, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=2], queueOffset=21]
2023-03-03 14:41:20.086  INFO 100504 --- [nioEventLoopGroup-5-22] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1631545265607507969"]}}
2023-03-03 14:41:34.554  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ae8b50bc-bb50-4d5a-be16-3273772517f7],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:41:34.554909500]
2023-03-03 14:41:34.554  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7250d3e5,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:41:34.556  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:41:34.559  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:41:34.559  INFO 100504 --- [async-service-23] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:41:34.559  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:34.563  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:41:34.563  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-2] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:34.568  INFO 100504 --- [async-service-24] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:41:34.568  INFO 100504 --- [async-service-24] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:41:35.004  INFO 100504 --- [async-service-24] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001889863947C6B0D73D4E1001E, offsetMsgId=6F5CF1B100002A9F00000000000446E0, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=13]
2023-03-03 14:41:35.017  INFO 100504 --- [ConsumeMessageThread_chat-message-group_16] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631545332447936513, messageId=1631545332447936513, messageFlowId=1631545332460519425, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=72, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:34, updateTime=2023-03-03T14:41:34, messageFeature=0, content=居然真的可以了呀[衰], extra=null, layout=center)
2023-03-03 14:41:35.017  INFO 100504 --- [ConsumeMessageThread_chat-message-group_16] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545332447936513, messageId=1631545332447936513, messageFlowId=1631545332460519425, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=72, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:34, updateTime=2023-03-03T14:41:34, messageFeature=0, content=居然真的可以了呀[衰], extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000028-074181e9541fd86b-28c07079
2023-03-03 14:41:35.018  INFO 100504 --- [async-service-1] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631545332447936513, messageId=1631545332447936513, messageFlowId=1631545332460519425, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=72, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:34, updateTime=2023-03-03T14:41:34, messageFeature=0, content=居然真的可以了呀[衰], extra=null, layout=center)
2023-03-03 14:41:35.018  INFO 100504 --- [async-service-1] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631545332447936513, messageId=1631545332447936513, messageFlowId=1631545332460519425, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=72, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:41:34, updateTime=2023-03-03T14:41:34, messageFeature=0, content=居然真的可以了呀[衰], extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-00018898-00000026-2fcc659c541f2e12-1052b502
2023-03-03 14:41:36.172  INFO 100504 --- [nioEventLoopGroup-5-23] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1631545332447936513"]}}
2023-03-03 14:41:52.837  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b388c086-2b43-4409-8098-32960e448858],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:41:52.837160200]
2023-03-03 14:41:52.843  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=582efd99-50c5-4cd8-9ce5-2fea56636dc5],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:41:52.843148600]
2023-03-03 14:41:52.843  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7b23697d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:41:52.844  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:41:52.847  INFO 100504 --- [async-service-2] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:41:52.848  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:41:52.848  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:52.850  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:41:52.850  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-8] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:41:52.854  INFO 100504 --- [async-service-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:41:52.855  INFO 100504 --- [async-service-3] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:41:53.296 ERROR 100504 --- [async-service-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(com.hk.im.infrastructure.event.message.event.SendChatMessageEvent)

org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96\xE8\xA1...' for column 'last_message_content' at row 1
### The error may exist in com/hk/im/infrastructure/mapper/ChatCommunicationMapper.java (best guess)
### The error may involve com.hk.im.infrastructure.mapper.ChatCommunicationMapper.updateById-Inline
### The error occurred while setting parameters
### SQL: UPDATE tb_chat_communication  SET belong_user_id=?,  sender_id=?, receiver_id=?,  last_message_id=?,  last_message_content=?,  last_send_time=?, session_type=?,  unread_count=?,  top=?, robot=?, disturb=?, online=?, create_time=?, update_time=?, deleted=?  WHERE id=?
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96\xE8\xA1...' for column 'last_message_content' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x98\x96\xE8\xA1...' for column 'last_message_content' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96\xE8\xA1...' for column 'last_message_content' at row 1
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at jdk.proxy2/jdk.proxy2.$Proxy120.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:64) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.updateById(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.extension.service.IService.updateById(IService.java:239) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18.invoke(<generated>) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$e4c05fa8.updateById(<generated>) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(MessageEventHandler.java:73) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler$$FastClassBySpringCGLIB$$53bdb177.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96\xE8\xA1...' for column 'last_message_content' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3461) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3459) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:497) ~[druid-1.2.8.jar:1.2.8]
	at jdk.internal.reflect.GeneratedMethodAccessor123.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy3/jdk.proxy3.$Proxy216.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor421.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy212.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.hk.im.admin.interceptor.MyBatisSqlUpdateSqlDebugPlugin.intercept(MyBatisSqlUpdateSqlDebugPlugin.java:22) ~[classes/:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.7.jar:2.0.7]
	... 22 common frames omitted

2023-03-03 14:42:20.965  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6cfe6979-4d2d-448d-a329-bf3ebd7ddb01],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:42:20.965530800]
2023-03-03 14:42:20.973  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f9ecfb3-67f1-4779-8ffd-b05a5e461bd0],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:42:20.973529500]
2023-03-03 14:42:20.973  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7f7bb68b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:42:20.975  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:42:20.978  INFO 100504 --- [async-service-4] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:42:20.978  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:42:20.979  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:42:20.982  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:42:20.982  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:42:20.988  INFO 100504 --- [async-service-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:42:20.988  INFO 100504 --- [async-service-5] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:42:20.999 ERROR 100504 --- [async-service-5] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(com.hk.im.infrastructure.event.message.event.SendChatMessageEvent)

org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96' for column 'last_message_content' at row 1
### The error may exist in com/hk/im/infrastructure/mapper/ChatCommunicationMapper.java (best guess)
### The error may involve com.hk.im.infrastructure.mapper.ChatCommunicationMapper.updateById-Inline
### The error occurred while setting parameters
### SQL: UPDATE tb_chat_communication  SET belong_user_id=?,  sender_id=?, receiver_id=?,  last_message_id=?,  last_message_content=?,  last_send_time=?, session_type=?,  unread_count=?,  top=?, robot=?, disturb=?, online=?, create_time=?, update_time=?, deleted=?  WHERE id=?
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96' for column 'last_message_content' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x98\x96' for column 'last_message_content' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96' for column 'last_message_content' at row 1
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at jdk.proxy2/jdk.proxy2.$Proxy120.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:64) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.updateById(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.extension.service.IService.updateById(IService.java:239) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18.invoke(<generated>) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$e4c05fa8.updateById(<generated>) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(MessageEventHandler.java:73) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler$$FastClassBySpringCGLIB$$53bdb177.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x96' for column 'last_message_content' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3461) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3459) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:497) ~[druid-1.2.8.jar:1.2.8]
	at jdk.internal.reflect.GeneratedMethodAccessor123.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy3/jdk.proxy3.$Proxy216.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor421.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy212.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.hk.im.admin.interceptor.MyBatisSqlUpdateSqlDebugPlugin.intercept(MyBatisSqlUpdateSqlDebugPlugin.java:22) ~[classes/:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.7.jar:2.0.7]
	... 22 common frames omitted

2023-03-03 14:47:37.624  INFO 100504 --- [ConsumeMessageThread_chat-message-group_17] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:47:37.626  WARN 100504 --- [ConsumeMessageThread_chat-message-group_17] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:11

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:49:14.430  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=54085de8-12a3-4f57-a440-6b3ce7d48180],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:49:14.430319200]
2023-03-03 14:49:14.830  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0e53c6f4-d449-49b4-a2dc-6091f1582e90],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:49:14.830212700]
2023-03-03 14:49:14.831  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7697b031,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:49:14.840  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@cdd6b8e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:49:14.848  INFO 100504 --- [async-service-6] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:49:14.849  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:49:14.850  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:49:14.859  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:49:14.860  INFO 100504 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:49:14.880  INFO 100504 --- [async-service-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:49:14.880  INFO 100504 --- [async-service-7] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:49:14.893 ERROR 100504 --- [async-service-7] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(com.hk.im.infrastructure.event.message.event.SendChatMessageEvent)

org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x91\x8A' for column 'last_message_content' at row 1
### The error may exist in com/hk/im/infrastructure/mapper/ChatCommunicationMapper.java (best guess)
### The error may involve com.hk.im.infrastructure.mapper.ChatCommunicationMapper.updateById-Inline
### The error occurred while setting parameters
### SQL: UPDATE tb_chat_communication  SET belong_user_id=?,  sender_id=?, receiver_id=?,  last_message_id=?,  last_message_content=?,  last_send_time=?, session_type=?,  unread_count=?,  top=?, robot=?, disturb=?, online=?, create_time=?, update_time=?, deleted=?  WHERE id=?
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x91\x8A' for column 'last_message_content' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x91\x8A' for column 'last_message_content' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x91\x8A' for column 'last_message_content' at row 1
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at jdk.proxy2/jdk.proxy2.$Proxy120.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:64) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.updateById(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.extension.service.IService.updateById(IService.java:239) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18.invoke(<generated>) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$e4c05fa8.updateById(<generated>) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(MessageEventHandler.java:73) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler$$FastClassBySpringCGLIB$$53bdb177.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x91\x8A' for column 'last_message_content' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3461) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3459) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:497) ~[druid-1.2.8.jar:1.2.8]
	at jdk.internal.reflect.GeneratedMethodAccessor123.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy3/jdk.proxy3.$Proxy216.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor421.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy212.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.hk.im.admin.interceptor.MyBatisSqlUpdateSqlDebugPlugin.intercept(MyBatisSqlUpdateSqlDebugPlugin.java:22) ~[classes/:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at jdk.internal.reflect.GeneratedMethodAccessor383.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy211.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.7.jar:2.0.7]
	... 22 common frames omitted

2023-03-03 14:50:07.308  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:50:07.309  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:50:07.439  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:50:07.440  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:50:07.646  INFO 100504 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:50:07.647  INFO 100504 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:50:07.808  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:50:07.809  INFO 100504 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:50:07.817  INFO 100504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 14:50:07.870  INFO 100504 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 14:50:07.896  INFO 100504 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 14:50:32.984  INFO 92344 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 92344 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 14:50:32.992  INFO 92344 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 14:50:42.030  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:50:42.032  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 14:50:42.160  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 0 JPA repository interfaces.
2023-03-03 14:50:42.289  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:50:42.295  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 14:50:42.402  INFO 92344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-03-03 14:50:44.208  INFO 92344 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$b0317444] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:50:44.411  INFO 92344 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:50:46.729  INFO 92344 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 14:50:46.788  INFO 92344 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 14:50:46.789  INFO 92344 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 14:50:47.483  INFO 92344 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 14:50:47.485  INFO 92344 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14369 ms
2023-03-03 14:50:49.456  INFO 92344 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 14:50:52.310  INFO 92344 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 14:50:52.743  INFO 92344 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 14:50:53.032  INFO 92344 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 14:50:53.619  INFO 92344 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 14:50:54.133  INFO 92344 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 14:50:54.781  INFO 92344 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 14:50:54.827  INFO 92344 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 14:50:56.418  WARN 92344 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:50:57.410  WARN 92344 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:50:57.661  WARN 92344 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:50:58.062  WARN 92344 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:51:01.560  INFO 92344 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 14:51:01.564  INFO 92344 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 14:51:01.564  INFO 92344 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 14:51:01.564  INFO 92344 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 14:51:01.581  INFO 92344 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 14:51:03.226  INFO 92344 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 14:51:03.334  WARN 92344 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 14:51:05.016  INFO 92344 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:51:05.017  INFO 92344 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 14:51:05.427  INFO 92344 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:51:05.428  INFO 92344 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 14:51:05.517  INFO 92344 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 14:51:05.546  INFO 92344 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T14:51:05.545049600
2023-03-03 14:51:05.547  INFO 92344 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T14:51:05.547049800
2023-03-03 14:51:05.560  INFO 92344 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 33.688 seconds (JVM running for 38.423)
2023-03-03 14:51:05.940  INFO 92344 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 14:51:06.340  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7683
2023-03-03 14:51:06.341  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7683
2023-03-03 14:51:06.349  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7685
2023-03-03 14:51:06.350  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7685
2023-03-03 14:51:06.367  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:51:06.367  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 14:51:06.368  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:06.368  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:51:06.368  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:51:06.368  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:51:07.943  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 14:51:08.036  WARN 92344 --- [nioEventLoopGroup-5-2] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6150c3ec
2023-03-03 14:51:08.484  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:51:08.576  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:51:08.587  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:51:08.871  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:51:08.890  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:51:09.213  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-03 14:51:09.213  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-03 14:51:09.215  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-03 14:51:09.267  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9dd69a1f-7dea-4729-8a63-0eb27810517d],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:51:09.267316800]
2023-03-03 14:51:09.313  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8fb50e8a-b1d1-4a2a-85be-9a70cca509de],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:51:09.313051700]
2023-03-03 14:51:09.313  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6c090f61,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:09.332  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@35c04cc1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:09.504  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c988a370-21ca-4ea5-b05a-199514295bf8],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:51:09.504966300]
2023-03-03 14:51:09.504  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6ace9f49,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:51:09.507  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:51:09.519  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:51:09.519  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:51:15.420  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=dc83a4d3-c994-422a-8ca7-8ae7252a7de3],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:51:15.420872500]
2023-03-03 14:51:15.432  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ba115da2-a73b-47e7-a6ec-2db6fe87c908],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:51:15.432870300]
2023-03-03 14:51:15.432  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1d15565b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:51:15.434  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:51:15.606  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-03 14:51:16.031  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=44504f07-19fd-480e-9aae-85cff138536a],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:51:16.031061300]
2023-03-03 14:51:16.047  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2713591e-d190-467d-93b2-f561546263a1],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:51:16.047059200]
2023-03-03 14:51:16.047  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@b9595e9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:51:16.051  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@35c04cc1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:51:16.313  INFO 92344 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513"]}}
2023-03-03 14:51:22.534  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7683,id=907841fffe2e6da0-000168b8-00000007-3f94b061a910449a-e1972740
2023-03-03 14:51:22.538  INFO 92344 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7683
2023-03-03 14:51:25.598  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7753
2023-03-03 14:51:25.598  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7753
2023-03-03 14:51:25.601  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:51:25.601  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:25.601  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:51:25.618  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ce71bfde-ad8f-48f3-a7db-25795ebac618],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:51:25.618880]
2023-03-03 14:51:25.618  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@551896c5,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:25.619  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=08ebf2dd-c316-4eea-9ba4-3745e5fcd52e],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:51:25.619880]
2023-03-03 14:51:25.619  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2e772c0e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:25.621  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:25.622  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@35c04cc1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:25.660  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:51:25.674  INFO 92344 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:51:26.043  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:51:26.138  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8b15ca70-fe5f-47ea-a767-a726b16e8ec3],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:51:26.138415700]
2023-03-03 14:51:26.139  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@107b00d2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:26.143  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:26.143  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:51:31.661  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1e0ad995-2339-47c5-87dc-ca731416c827],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:51:31.661887900]
2023-03-03 14:51:31.661  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@692bea1f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:31.661  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f726cbdf-d8f9-4317-9a05-a5ffb8ce354c],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:51:31.661887900]
2023-03-03 14:51:31.662  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1271c400,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:31.666  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@64096c60,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:31.666  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@35c04cc1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:31.962  INFO 92344 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513","1631545232514449410","1631545265607507969","1631545409157562370","1631545527147528193","1631547263044124673"]}}
2023-03-03 14:51:49.598  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=552458df-29b6-42da-98b0-002a658661dd],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:51:49.598387300]
2023-03-03 14:51:49.599  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5aa16698,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:51:49.603  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@24f60533,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:51:49.752  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:51:49.778  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:51:49.745  INFO 92344 --- [async-service-1] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:51:49.879  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:51:49.881  INFO 92344 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:51:49.917  INFO 92344 --- [async-service-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:51:49.921  INFO 92344 --- [async-service-2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:51:50.258 ERROR 92344 --- [async-service-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(com.hk.im.infrastructure.event.message.event.SendChatMessageEvent)

org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\xB1' for column 'last_message_content' at row 1
### The error may exist in com/hk/im/infrastructure/mapper/ChatCommunicationMapper.java (best guess)
### The error may involve com.hk.im.infrastructure.mapper.ChatCommunicationMapper.updateById-Inline
### The error occurred while setting parameters
### SQL: UPDATE tb_chat_communication  SET belong_user_id=?,  sender_id=?, receiver_id=?,  last_message_id=?,  last_message_content=?,  last_send_time=?, session_type=?,  unread_count=?,  top=?, robot=?, disturb=?, online=?, create_time=?, update_time=?, deleted=?  WHERE id=?
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\xB1' for column 'last_message_content' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x98\xB1' for column 'last_message_content' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\xB1' for column 'last_message_content' at row 1
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at jdk.proxy2/jdk.proxy2.$Proxy120.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288) ~[mybatis-spring-2.0.7.jar:2.0.7]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:64) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.2.jar:3.5.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.updateById(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.extension.service.IService.updateById(IService.java:239) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18.invoke(<generated>) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$c21726b5.updateById(<generated>) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler.onSendMessage(MessageEventHandler.java:73) ~[classes/:na]
	at com.hk.im.infrastructure.event.message.listener.MessageEventHandler$$FastClassBySpringCGLIB$$53bdb177.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.18.jar:5.3.18]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.18.jar:5.3.18]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\xB1' for column 'last_message_content' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3461) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3459) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:497) ~[druid-1.2.8.jar:1.2.8]
	at jdk.internal.reflect.GeneratedMethodAccessor125.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy3/jdk.proxy3.$Proxy228.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy226.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.10.jar:3.5.10]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy225.update(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.hk.im.admin.interceptor.MyBatisSqlUpdateSqlDebugPlugin.intercept(MyBatisSqlUpdateSqlDebugPlugin.java:22) ~[classes/:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy225.update(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.10.jar:3.5.10]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.2.jar:3.5.2]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.10.jar:3.5.10]
	at jdk.proxy2/jdk.proxy2.$Proxy225.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194) ~[mybatis-3.5.10.jar:3.5.10]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.7.jar:2.0.7]
	... 22 common frames omitted

2023-03-03 14:55:19.568  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:55:19.569  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:55:19.720  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:55:19.721  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:55:19.838  INFO 92344 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:55:19.839  INFO 92344 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:55:19.957  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 14:55:19.958  INFO 92344 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 14:55:19.961  INFO 92344 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 14:55:19.974  INFO 92344 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 14:55:19.981  INFO 92344 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 14:55:33.028  INFO 99852 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 99852 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-03 14:55:33.037  INFO 99852 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-03 14:55:36.079  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:55:36.079  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-03 14:55:36.113  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2023-03-03 14:55:36.141  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-03 14:55:36.143  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-03 14:55:36.164  INFO 99852 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-03-03 14:55:36.755  INFO 99852 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$2e9345c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:55:36.782  INFO 99852 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-03 14:55:37.972  INFO 99852 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-03 14:55:38.011  INFO 99852 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-03 14:55:38.119  INFO 99852 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-03 14:55:38.689  INFO 99852 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-03 14:55:38.690  INFO 99852 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5517 ms
2023-03-03 14:55:40.110  INFO 99852 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-03 14:55:41.415  INFO 99852 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-03 14:55:41.789  INFO 99852 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-03 14:55:42.023  INFO 99852 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-03 14:55:42.600  INFO 99852 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-03 14:55:43.087  INFO 99852 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-03 14:55:43.714  INFO 99852 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-03 14:55:43.757  INFO 99852 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 14:55:44.997  WARN 99852 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:55:45.901  WARN 99852 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:55:46.085  WARN 99852 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:55:46.472  WARN 99852 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-03 14:55:49.669  INFO 99852 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-03 14:55:49.674  INFO 99852 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-03 14:55:49.674  INFO 99852 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-03 14:55:49.675  INFO 99852 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-03 14:55:49.702  INFO 99852 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-03 14:55:51.391  INFO 99852 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-03 14:55:51.605  WARN 99852 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-03 14:55:54.393  INFO 99852 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:55:54.394  INFO 99852 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-03 14:55:55.828  INFO 99852 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 14:55:55.829  INFO 99852 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-03 14:55:55.933  INFO 99852 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-03 14:55:55.965  INFO 99852 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-03T14:55:55.965479900
2023-03-03 14:55:55.966  INFO 99852 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-03T14:55:55.966318400
2023-03-03 14:55:55.980  INFO 99852 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 24.169 seconds (JVM running for 25.847)
2023-03-03 14:55:56.343  INFO 99852 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-03 14:55:56.481  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1644
2023-03-03 14:55:56.482  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1644
2023-03-03 14:55:56.503  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:55:56.505  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:55:56.505  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:55:57.598  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:55:57.972  WARN 99852 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @7e6f74c
2023-03-03 14:55:58.159  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:55:58.264  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:55:58.859  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-03 14:55:58.859  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-03 14:55:58.863  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-03-03 14:55:58.953  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9144326d-7ed6-48f9-80d7-f82e6be76ca1],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:55:58.953356900]
2023-03-03 14:55:58.954  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@123fbb3b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:55:58.971  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@ac990e3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:55:59.267  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:56:00.053  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1662
2023-03-03 14:56:00.054  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1662
2023-03-03 14:56:00.058  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 14:56:00.058  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:56:00.058  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:56:00.122  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 14:56:00.151  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 14:56:00.182  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:56:00.551  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ba739912-e97c-4dd1-93cd-21b37a9b135c],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T14:56:00.551153300]
2023-03-03 14:56:00.566  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=dfce3ce5-b2a8-4cc0-b1b7-9e42a861ef3b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:56:00.566151400]
2023-03-03 14:56:00.566  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@77add97,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:56:00.570  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@ac990e3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:56:00.570  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 14:57:27.624  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c8aecf80-9ba1-407e-951a-fe7ef89e10ff],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:57:27.624612300]
2023-03-03 14:57:27.638  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=344b2c75-584f-4d37-afd8-c5951b1d81b9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:57:27.638611500]
2023-03-03 14:57:27.638  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4a2d487c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:57:27.643  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@ac990e3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:57:27.885  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a30a1d2c-778e-4c82-9291-7a4606bff1d2],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T14:57:27.885458800]
2023-03-03 14:57:27.901  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2f42913f-7fda-4e23-9456-51dbcdaccfaa],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:57:27.901196500]
2023-03-03 14:57:27.902  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3b3d3b54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:57:27.907  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:57:28.276  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226"]}}
2023-03-03 14:57:37.926  INFO 99852 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-03 14:57:37.939  WARN 99852 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:12

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-03 14:57:44.489  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=539766c9-76c2-47a3-8e99-0ba2e7b3253d],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:57:44.489219400]
2023-03-03 14:57:44.489  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2ce18a72,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:57:44.492  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:57:44.629  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:57:44.635  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:57:44.624  INFO 99852 --- [async-service-1] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:57:44.673  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:57:44.674  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:57:44.704  INFO 99852 --- [async-service-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:57:44.706  INFO 99852 --- [async-service-2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:57:44.933  INFO 99852 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631549401233117186, messageId=1631549401233117186, messageFlowId=1631549401405083650, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=77, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:57:44, updateTime=2023-03-03T14:57:44, messageFeature=0, content=还是不能发送表情, extra=null, layout=center)
2023-03-03 14:57:44.956  INFO 99852 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631549401233117186, messageId=1631549401233117186, messageFlowId=1631549401405083650, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=77, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:57:44, updateTime=2023-03-03T14:57:44, messageFeature=0, content=还是不能发送表情, extra=null, layout=center)
2023-03-03 14:57:44.968  INFO 99852 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549401233117186, messageId=1631549401233117186, messageFlowId=1631549401405083650, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=77, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:57:44, updateTime=2023-03-03T14:57:44, messageFeature=0, content=还是不能发送表情, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:57:44.968  INFO 99852 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549401233117186, messageId=1631549401233117186, messageFlowId=1631549401405083650, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=77, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:57:44, updateTime=2023-03-03T14:57:44, messageFeature=0, content=还是不能发送表情, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 14:57:45.217  INFO 99852 --- [async-service-2] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001860C63947C6B0D82A1A70002, offsetMsgId=6F5CF1B100002A9F00000000000463FF, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=1], queueOffset=17]
2023-03-03 14:57:46.228  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1631549401233117186"]}}
2023-03-03 14:58:04.068  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f94ee270-e1e5-41bc-8d67-ae40b9a44560],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:58:04.068633500]
2023-03-03 14:58:04.068  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@275966d1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:58:04.074  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:58:04.079  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:58:04.079  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:04.081  INFO 99852 --- [async-service-4] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:58:04.105  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:58:04.106  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:04.118  INFO 99852 --- [async-service-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:58:04.120  INFO 99852 --- [async-service-5] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:58:04.365  INFO 99852 --- [async-service-5] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001860C63947C6B0D82ED970003, offsetMsgId=6F5CF1B100002A9F00000000000466A8, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=24]
2023-03-03 14:58:04.371  INFO 99852 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631549482778775553, messageId=1631549482778775553, messageFlowId=1631549482908798977, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=78, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:04, updateTime=2023-03-03T14:58:04, messageFeature=0, content=发送表情不行啊😖, extra=null, layout=center)
2023-03-03 14:58:04.372  INFO 99852 --- [async-service-6] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631549482778775553, messageId=1631549482778775553, messageFlowId=1631549482908798977, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=78, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:04, updateTime=2023-03-03T14:58:04, messageFeature=0, content=发送表情不行啊😖, extra=null, layout=center)
2023-03-03 14:58:04.372  INFO 99852 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549482778775553, messageId=1631549482778775553, messageFlowId=1631549482908798977, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=78, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:04, updateTime=2023-03-03T14:58:04, messageFeature=0, content=发送表情不行啊😖, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 14:58:04.373  INFO 99852 --- [async-service-6] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549482778775553, messageId=1631549482778775553, messageFlowId=1631549482908798977, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=78, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:04, updateTime=2023-03-03T14:58:04, messageFeature=0, content=发送表情不行啊😖, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:58:05.452  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1631549482778775553"]}}
2023-03-03 14:58:29.526  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=394f0831-0f86-40a8-aff9-7ca0aabdda8b],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:58:29.526092700]
2023-03-03 14:58:29.537  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=653d15ad-f19f-4e91-9e32-7551572028bf],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:58:29.537454100]
2023-03-03 14:58:29.537  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@50fb5a16,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:58:29.539  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:58:29.545  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:58:29.545  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:29.547  INFO 99852 --- [async-service-7] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:58:29.551  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:58:29.552  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:29.562  INFO 99852 --- [async-service-8] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:58:29.563  INFO 99852 --- [async-service-8] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:58:29.790  INFO 99852 --- [async-service-8] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001860C63947C6B0D8350E80004, offsetMsgId=6F5CF1B100002A9F000000000004695A, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=14]
2023-03-03 14:58:29.800  INFO 99852 --- [ConsumeMessageThread_chat-message-group_4] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631549589595115521, messageId=1631549589595115521, messageFlowId=1631549589632864257, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=79, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:29, updateTime=2023-03-03T14:58:29, messageFeature=0, content=可以发送表情了, extra=null, layout=center)
2023-03-03 14:58:29.801  INFO 99852 --- [ConsumeMessageThread_chat-message-group_4] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549589595115521, messageId=1631549589595115521, messageFlowId=1631549589632864257, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=79, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:29, updateTime=2023-03-03T14:58:29, messageFeature=0, content=可以发送表情了, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:58:29.801  INFO 99852 --- [async-service-9] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631549589595115521, messageId=1631549589595115521, messageFlowId=1631549589632864257, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=79, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:29, updateTime=2023-03-03T14:58:29, messageFeature=0, content=可以发送表情了, extra=null, layout=center)
2023-03-03 14:58:29.802  INFO 99852 --- [async-service-9] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549589595115521, messageId=1631549589595115521, messageFlowId=1631549589632864257, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=79, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:29, updateTime=2023-03-03T14:58:29, messageFeature=0, content=可以发送表情了, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 14:58:31.735  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1631549589595115521"]}}
2023-03-03 14:58:40.607  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fa19128a-0ca5-4fbd-bac8-c8df79a8e2ad],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-03T14:58:40.607697700]
2023-03-03 14:58:40.618  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0ac28cbe-dcf4-4968-a935-1cee40c78b89],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:58:40.618582700]
2023-03-03 14:58:40.618  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@37685db9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 14:58:40.622  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 14:58:40.626  INFO 99852 --- [async-service-10] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:58:40.628  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:58:40.629  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:40.636  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:58:40.638  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:58:40.651  INFO 99852 --- [async-service-11] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:58:40.652  INFO 99852 --- [async-service-11] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:58:40.832  INFO 99852 --- [async-service-11] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001860C63947C6B0D837C080005, offsetMsgId=6F5CF1B100002A9F0000000000046C00, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=15]
2023-03-03 14:58:40.837  INFO 99852 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631549636093169666, messageId=1631549636093169666, messageFlowId=1631549636130918402, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=80, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:40, updateTime=2023-03-03T14:58:40, messageFeature=0, content=👍😫😌, extra=null, layout=center)
2023-03-03 14:58:40.837  INFO 99852 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549636093169666, messageId=1631549636093169666, messageFlowId=1631549636130918402, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=80, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:40, updateTime=2023-03-03T14:58:40, messageFeature=0, content=👍😫😌, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:58:40.838  INFO 99852 --- [async-service-12] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1631549636093169666, messageId=1631549636093169666, messageFlowId=1631549636130918402, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=80, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:40, updateTime=2023-03-03T14:58:40, messageFeature=0, content=👍😫😌, extra=null, layout=center)
2023-03-03 14:58:40.838  INFO 99852 --- [async-service-12] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549636093169666, messageId=1631549636093169666, messageFlowId=1631549636130918402, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=80, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:58:40, updateTime=2023-03-03T14:58:40, messageFeature=0, content=👍😫😌, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 14:58:42.733  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1631549636093169666"]}}
2023-03-03 14:59:37.073  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0f044a03-f513-4c38-a836-56b2868d9644],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-03T14:59:37.073579200]
2023-03-03 14:59:37.073  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1b86e06a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:37.076  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:37.080  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-03 14:59:37.080  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:59:37.082  INFO 99852 --- [async-service-13] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-03 14:59:37.083  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-03 14:59:37.084  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-03 14:59:37.096  INFO 99852 --- [async-service-14] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-03 14:59:37.096  INFO 99852 --- [async-service-14] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-03 14:59:37.318  INFO 99852 --- [async-service-14] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001860C63947C6B0D8458B20006, offsetMsgId=6F5CF1B100002A9F0000000000046EB5, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=16]
2023-03-03 14:59:37.333  INFO 99852 --- [ConsumeMessageThread_chat-message-group_6] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1631549872870019074, messageId=1631549872870019074, messageFlowId=1631549872870019075, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=81, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:59:37, updateTime=2023-03-03T14:59:37, messageFeature=0, content=但是发送的消息好像没有头像啊, extra=null, layout=center)
2023-03-03 14:59:37.342  INFO 99852 --- [ConsumeMessageThread_chat-message-group_6] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549872870019074, messageId=1631549872870019074, messageFlowId=1631549872870019075, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=81, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:59:37, updateTime=2023-03-03T14:59:37, messageFeature=0, content=但是发送的消息好像没有头像啊, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 14:59:37.346  INFO 99852 --- [async-service-15] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1631549872870019074, messageId=1631549872870019074, messageFlowId=1631549872870019075, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=81, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:59:37, updateTime=2023-03-03T14:59:37, messageFeature=0, content=但是发送的消息好像没有头像啊, extra=null, layout=center)
2023-03-03 14:59:37.347  INFO 99852 --- [async-service-15] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1631549872870019074, messageId=1631549872870019074, messageFlowId=1631549872870019075, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=81, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-03T14:59:37, updateTime=2023-03-03T14:59:37, messageFeature=0, content=但是发送的消息好像没有头像啊, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:59:38.411  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1631549872870019074"]}}
2023-03-03 14:59:43.387  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:1644,id=907841fffe2e6da0-0001860c-00000007-3f6edba88aecd1e8-91c7d76b
2023-03-03 14:59:43.388  INFO 99852 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:1644
2023-03-03 14:59:46.679  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6ddea28b-2cac-4525-8205-7bcabd16b043],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-03T14:59:46.679221300]
2023-03-03 14:59:46.680  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@77b089d6,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:46.682  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:46.726  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=aa785ade-9c64-4d0d-979a-58dff5ca77ed],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T14:59:46.726815800]
2023-03-03 14:59:46.726  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2254942c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:46.731  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:46.948  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1959
2023-03-03 14:59:46.948  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1959
2023-03-03 14:59:46.951  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,headers=http://localhost:3000,method=GET
2023-03-03 14:59:46.952  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:46.952  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 14:59:47.015  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA, extend=null)
2023-03-03 14:59:47.027  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-03 14:59:47.672  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 14:59:47.682  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0f26d404-2748-4203-9691-3436bbd9e4f4],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T14:59:47.682995200]
2023-03-03 14:59:47.682  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1d8592ef,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:47.685  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:47.686  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-03 14:59:54.613  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=06a2abef-27b4-4d9e-b450-82b55bb3aa6c],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T14:59:54.613028200]
2023-03-03 14:59:54.613  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5677c375,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:54.616  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9116b652-a5b9-4d0d-8f3d-c2061fdfbd7c],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T14:59:54.616480500]
2023-03-03 14:59:54.617  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6b1733c7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA
2023-03-03 14:59:54.618  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:54.618  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@ac990e3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc3ODMyMjc4fQ.i4e9I6eqCtABcYBPotKZtU6XbmctEYQRd3Wwr6mvhbhF92cocpycXThZTaTzBd7nLA-CCkln4_XYnTyq4e2zxA,user=1612030664754913281
2023-03-03 14:59:54.945  INFO 99852 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1629385179896332289","1629385293767491586","1629385325925220354","1629385437959274497","1630076046122434561","1630078508707364866","1630107552584843266","1630161304587087874","1630166077730205698","1630167360809742337","1630176819271495682","1630181954513072129","1630182006769905665","1630182963968798721","1630183015722315778","1630195469789507585","1630391232964358145","1630396294113554434","1630404814280093698","1630405013496950785","1630549750048624641","1630550026826551297","1630550823664644097","1630552337149927426","1630553564445192194","1630554184967266305","1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513","1631545232514449410","1631545265607507969","1631545409157562370","1631545527147528193","1631547263044124673","1631549589595115521","1631549636093169666"]}}
2023-03-03 15:00:13.353  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:1662,id=907841fffe2e6da0-0001860c-0000000a-15ffbff40aecc034-db0d166b
2023-03-03 15:00:13.354  INFO 99852 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:1662
2023-03-03 15:00:16.618  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2c790603-4d69-4787-84d9-5dd85e16f32a],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-03T15:00:16.618450900]
2023-03-03 15:00:16.625  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a1d70e6f-f37e-4a9a-8980-9781547c30cc],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-03T15:00:16.625914]
2023-03-03 15:00:16.638  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5f1600ba-6d4a-47cd-95aa-4f87a5aef53c],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-03T15:00:16.638856700]
2023-03-03 15:00:16.639  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@c6ee017,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:00:16.645  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 15:00:16.674  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e86f75fb-b4bd-4574-bb45-6234e6d550f7],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-03T15:00:16.674378600]
2023-03-03 15:00:16.677  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@e7eeca7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:00:16.680  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 15:00:16.883  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2031
2023-03-03 15:00:16.885  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2031
2023-03-03 15:00:16.887  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,headers=http://localhost:3000,method=GET
2023-03-03 15:00:16.888  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:00:16.888  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-03 15:00:16.957  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA, extend=null)
2023-03-03 15:00:16.966  INFO 99852 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-03 15:00:18.129  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-03 15:00:18.140  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=308f9718-8c6d-47c5-814c-484753ae63d9],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-03T15:00:18.140714800]
2023-03-03 15:00:18.156  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8e125888-435d-43e9-b1a9-7c71ea4057e0],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-03T15:00:18.156778400]
2023-03-03 15:00:18.157  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1632cf68,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:00:18.166  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 15:00:18.167  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-03 15:01:22.152  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f903ae6f-e769-434e-8259-c76a965539f6],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-03T15:01:22.152820]
2023-03-03 15:01:22.154  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=62595624-a30e-4920-9686-b05f7b42fed0],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-03T15:01:22.154482300]
2023-03-03 15:01:22.180  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=926c56a7-c48b-4d04-a526-1931b128da8d],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-03T15:01:22.180200900]
2023-03-03 15:01:22.180  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=32a0cb6b-1af2-40c0-9c87-1d39c6835e50],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-03T15:01:22.180731600]
2023-03-03 15:01:22.180  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3f33ae0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:01:22.180  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@35a0a864,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA
2023-03-03 15:01:22.183  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@173613cd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 15:01:22.183  INFO 99852 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@ac990e3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc3ODMyMjcxfQ.DaAU-KLUOykn0dMMWT1KigqSvLY0Xh_wKYhApc-HbZM0iuG2CWqgFZXxEv5q56672GsJxfTQToO2-5SHWRQvUA,user=1611656761503215617
2023-03-03 15:01:22.481  INFO 99852 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630117054164103170","1630118875163127810","1630119255745884162","1630119687062843394","1630121566790512641","1630121910618681345","1630124550480064514","1630125121740054530","1630125362539241473","1630156667502997505","1630156985452212225","1630158680160743426","1630166382639329282","1630167575428083713","1630176890545303554","1630183255489703938","1630183418652323841","1630555065703993345","1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074"]}}
2023-03-03 15:01:47.033  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 15:01:47.033  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 15:01:47.149  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-03 15:01:47.149  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 15:01:47.189  INFO 99852 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 15:01:47.190  INFO 99852 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-03 15:01:47.300  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-03 15:01:47.311  INFO 99852 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-03 15:01:47.315  INFO 99852 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-03 15:01:47.324  INFO 99852 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-03 15:01:47.401  INFO 99852 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
