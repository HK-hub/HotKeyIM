2023-03-07 15:05:52.573  INFO 114160 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 114160 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:05:52.597  INFO 114160 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:05:59.913  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:05:59.913  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:05:59.982  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2023-03-07 15:06:00.049  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:06:00.051  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:06:00.074  INFO 114160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-03-07 15:06:00.682  INFO 114160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$bb772c7a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:06:00.706  INFO 114160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:06:01.670  INFO 114160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:06:01.688  INFO 114160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:06:01.689  INFO 114160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:06:01.971  INFO 114160 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:06:01.971  INFO 114160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9192 ms
2023-03-07 15:06:03.337  INFO 114160 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:06:03.861 ERROR 114160 --- [main] com.alibaba.druid.pool.DruidDataSource   : init datasource error, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:06:03.887 ERROR 114160 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} init error

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:06:03.888  INFO 114160 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:06:03.892 ERROR 114160 --- [Druid-ConnectionPool-Create-1379436911] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:06:03.894  WARN 114160 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
2023-03-07 15:06:03.894 ERROR 114160 --- [Druid-ConnectionPool-Create-1379436911] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:06:03.895  INFO 114160 --- [Druid-ConnectionPool-Create-1379436911] c.a.druid.pool.DruidAbstractDataSource   : {dataSource-1} failContinuous is true
2023-03-07 15:06:03.916  INFO 114160 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-07 15:06:03.925  WARN 114160 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [admin] appears to have started a thread named [Thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl.notifyAddrChange0(Native Method)
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl$AddressChangeListener.run(ResolverConfigurationImpl.java:176)
2023-03-07 15:06:03.936  INFO 114160 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-07 15:06:03.969 ERROR 114160 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 21 common frames omitted
Caused by: java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 32 common frames omitted
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:06:04.398 ERROR 114160 --- [Druid-ConnectionPool-Create-1379436911] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:06:04.902 ERROR 114160 --- [Druid-ConnectionPool-Create-1379436911] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:08:25.230  INFO 101908 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 101908 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:08:25.236  INFO 101908 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:08:26.821  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:08:26.822  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:08:26.855  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.
2023-03-07 15:08:26.882  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:08:26.884  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:08:26.903  INFO 101908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:08:27.485  INFO 101908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$70be86a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:08:27.504  INFO 101908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:08:28.244  INFO 101908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:08:28.261  INFO 101908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:08:28.262  INFO 101908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:08:28.557  INFO 101908 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:08:28.558  INFO 101908 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3230 ms
2023-03-07 15:08:29.259  INFO 101908 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:08:29.689 ERROR 101908 --- [main] com.alibaba.druid.pool.DruidDataSource   : init datasource error, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:08:29.694 ERROR 101908 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} init error

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:08:29.694  INFO 101908 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:08:29.699 ERROR 101908 --- [Druid-ConnectionPool-Create-882053845] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:08:29.700  WARN 101908 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
2023-03-07 15:08:29.702 ERROR 101908 --- [Druid-ConnectionPool-Create-882053845] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://localhost:3306/hk_im?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai, errorCode 0, state S1009

java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838) ~[druid-1.2.8.jar:1.2.8]
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 8 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 11 common frames omitted

2023-03-07 15:08:29.702  INFO 101908 --- [Druid-ConnectionPool-Create-882053845] c.a.druid.pool.DruidAbstractDataSource   : {dataSource-1} failContinuous is true
2023-03-07 15:08:29.721  INFO 101908 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-07 15:08:29.730  WARN 101908 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [admin] appears to have started a thread named [Thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl.notifyAddrChange0(Native Method)
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl$AddressChangeListener.run(ResolverConfigurationImpl.java:176)
2023-03-07 15:08:29.742  INFO 101908 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-07 15:08:29.781 ERROR 101908 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Invocation of init method failed; nested exception is java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 21 common frames omitted
Caused by: java.sql.SQLException: Unsupported character encoding 'utf8mb4'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:444) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723) ~[druid-1.2.8.jar:1.2.8]
	at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:927) ~[druid-1.2.8.jar:1.2.8]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 32 common frames omitted
Caused by: com.mysql.cj.exceptions.WrongArgumentException: Unsupported character encoding 'utf8mb4'
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.JdbcPropertySetImpl.postInitialization(JdbcPropertySetImpl.java:66) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.conf.DefaultPropertySet.initializeProperties(DefaultPropertySet.java:231) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:390) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 47 common frames omitted
Caused by: java.io.UnsupportedEncodingException: utf8mb4
	at java.base/java.lang.String.lookupCharset(String.java:819) ~[na:na]
	at java.base/java.lang.String.getBytes(String.java:1760) ~[na:na]
	at com.mysql.cj.util.StringUtils.getBytes(StringUtils.java:229) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	... 50 common frames omitted

2023-03-07 15:11:47.009  INFO 112996 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 112996 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:11:47.015  INFO 112996 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:11:48.548  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:11:48.549  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:11:48.581  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:11:48.605  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:11:48.607  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:11:48.626  INFO 112996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:11:49.145  INFO 112996 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$bbd4dd89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:11:49.164  INFO 112996 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:11:49.885  INFO 112996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:11:49.902  INFO 112996 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:11:49.903  INFO 112996 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:11:50.173  INFO 112996 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:11:50.173  INFO 112996 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3070 ms
2023-03-07 15:11:50.800  INFO 112996 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:11:51.942  INFO 112996 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:11:52.290  INFO 112996 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:11:52.432  INFO 112996 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:11:52.798  INFO 112996 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:11:53.088  INFO 112996 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:11:53.436  INFO 112996 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:11:53.454  INFO 112996 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:11:54.190  WARN 112996 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:11:54.573  WARN 112996 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:11:54.652  WARN 112996 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:11:54.779  WARN 112996 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:11:56.233  INFO 112996 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:11:56.235  INFO 112996 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:11:56.235  INFO 112996 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:11:56.236  INFO 112996 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:11:56.245  INFO 112996 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:11:57.227  INFO 112996 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:11:57.369  WARN 112996 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:11:59.293  INFO 112996 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:11:59.294  INFO 112996 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:12:00.173  INFO 112996 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:12:00.173  INFO 112996 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:12:00.269  INFO 112996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:12:00.279  INFO 112996 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:12:00.279587100
2023-03-07 15:12:00.280  INFO 112996 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:12:00.280583500
2023-03-07 15:12:00.285  INFO 112996 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 14.081 seconds (JVM running for 15.485)
2023-03-07 15:12:00.473  INFO 112996 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:12:01.203  INFO 112996 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : convert failed. str:{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}, msgType:class com.hk.im.domain.bo.MessageBO
2023-03-07 15:12:01.257  WARN 112996 --- [ConsumeMessageThread_chat-message-group_1] a.r.s.s.DefaultRocketMQListenerContainer : consume message failed. messageId:7F0000014D3463947C6B0D4602330002, topic:chat-topic, reconsumeTimes:13

java.lang.RuntimeException: cannot convert message to class com.hk.im.domain.bo.MessageBO
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:536) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:449) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:409) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57) ~[spring-messaging-5.3.18.jar:5.3.18]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.doConvertMessage(DefaultRocketMQListenerContainer.java:528) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 9 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String "2023-03-03T13:51:31.037012": Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
 at [Source: (String)"{"id":"1631532734738358274","messageId":"1631532734738358274","messageFlowId":"1631532735845654529","groupId":null,"senderId":"1611656761503215617","receiverId":"1612030664754913281","chatType":1,"messageType":1,"sequence":63,"sendStatus":2,"signFlag":1,"deleted":null,"createTime":"2023-03-03T13:51:31.037012","updateTime":"2023-03-03T13:51:31.037012","messageFeature":0,"content":"使用 Jackson 来解决Long 序列化精度问题","extra":null,"layout":"center"}"; line: 1, column: 283] (through reference chain: com.hk.im.domain.bo.MessageBO["createTime"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:232) ~[spring-messaging-5.3.18.jar:5.3.18]
	... 13 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-03-03T13:51:31.037012' could not be parsed at index 10
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]
	at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]
	at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.2.jar:2.13.2]
	... 22 common frames omitted

2023-03-07 15:29:31.534  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-07 15:29:31.549  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-07 15:29:31.735  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-07 15:29:31.735  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-07 15:29:31.842  INFO 112996 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='111.92.241.177:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:29:31.842  INFO 112996 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='111.92.241.177:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:29:32.029  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:10911] result: true
2023-03-07 15:29:32.030  INFO 112996 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[111.92.241.177:9876] result: true
2023-03-07 15:29:32.033  INFO 112996 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:29:32.084  INFO 112996 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:29:32.111  INFO 112996 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:29:43.698  INFO 112160 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 112160 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:29:43.704  INFO 112160 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:29:50.252  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:29:50.252  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:29:50.284  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2023-03-07 15:29:50.309  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:29:50.311  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:29:50.331  INFO 112160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:29:50.886  INFO 112160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$15dc8be5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:29:50.905  INFO 112160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:29:51.760  INFO 112160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:29:51.779  INFO 112160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:29:51.780  INFO 112160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:29:52.068  INFO 112160 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:29:52.068  INFO 112160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8276 ms
2023-03-07 15:29:52.735  INFO 112160 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:29:54.035  INFO 112160 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:29:54.285  INFO 112160 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:29:54.422  INFO 112160 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:29:54.738  INFO 112160 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:29:54.947  INFO 112160 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:29:55.289  INFO 112160 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:29:55.308  INFO 112160 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:29:55.990  WARN 112160 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:29:56.367  WARN 112160 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:29:56.457  WARN 112160 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:29:56.588  WARN 112160 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:29:57.843  INFO 112160 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:29:57.845  INFO 112160 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:29:57.845  INFO 112160 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:29:57.845  INFO 112160 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:29:57.854  INFO 112160 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:29:58.533  INFO 112160 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:29:58.613  WARN 112160 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:29:59.857  INFO 112160 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:29:59.857  INFO 112160 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:30:00.190  INFO 112160 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:30:00.190  INFO 112160 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:30:00.234  INFO 112160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:30:00.244  INFO 112160 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:30:00.244788
2023-03-07 15:30:00.245  INFO 112160 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:30:00.245754900
2023-03-07 15:30:00.251  INFO 112160 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 17.443 seconds (JVM running for 19.52)
2023-03-07 15:30:00.445  INFO 112160 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:34:40.276  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:34:40.277  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:34:40.280  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-03-07 15:34:40.366  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6e90f1de-e42d-4adf-9791-7071e5ba35e8],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-07T15:34:40.366161900]
2023-03-07 15:34:40.670  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=829c4a8f-a3e1-4d60-9ed6-eb66b97d04e4],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:34:40.670176500]
2023-03-07 15:34:43.166  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=38e0cb0e-1858-4896-83c5-6303e626a4a5],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:34:43.166496300]
2023-03-07 15:34:43.166  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=80721255-f69d-4b25-bda8-4ecb2f88a3dc],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T15:34:43.166496300]
2023-03-07 15:34:43.180  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6a34da6d-e8f7-4294-8bb6-1834ba507b31],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:34:43.180494100]
2023-03-07 15:34:43.181  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5561588d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:34:43.184  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=320f64b9-1596-4e23-a655-0469ee5db3f6],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T15:34:43.184494100]
2023-03-07 15:34:43.184  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@639d8430,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:34:43.297  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@50eca607,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:34:43.297  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@29302b1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:34:43.499  WARN 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6a78afa0
2023-03-07 15:34:43.928  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:11069
2023-03-07 15:34:43.928  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:11069
2023-03-07 15:34:43.950  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,headers=http://localhost:3000,method=GET
2023-03-07 15:34:43.976  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:34:43.976  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:34:44.313  INFO 112160 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw, extend=null)
2023-03-07 15:34:44.329  INFO 112160 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:34:44.508  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:34:44.518  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2f3dfdf6-0a29-4b4a-b9f2-9973de5d880e],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:34:44.518862800]
2023-03-07 15:34:44.527  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3588f237-0696-48e7-89d7-d2c7b39d8f92],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:34:44.527861100]
2023-03-07 15:34:44.527  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3a27cc9f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:34:44.530  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@50eca607,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:34:44.531  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 15:34:53.078  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fc51d683-0557-4df1-9824-b57f0a7ed4de],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-07T15:34:53.078036500]
2023-03-07 15:34:53.090  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=542c6215-af15-40fb-a0d5-61f22239c8f1],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:34:53.090035100]
2023-03-07 15:34:53.321  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=af76b872-18fc-4623-941f-7dd102a590e6],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=OPTIONS],[time=2023-03-07T15:34:53.321037700]
2023-03-07 15:34:53.330  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=dbb72aba-bb7f-4c1b-8bea-877da3348f9b],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:34:53.330036500]
2023-03-07 15:34:53.334  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=811147a0-0a6c-44d4-a855-0ab808bb5c05],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-07T15:34:53.334036200]
2023-03-07 15:34:53.334  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5b6f1532,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:34:53.338  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@29302b1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:34:53.343  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=817b70d5-9a84-4761-b204-49922e8c52a6],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:34:53.343038100]
2023-03-07 15:34:53.343  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@24fef3a7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:34:53.345  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@50eca607,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:34:53.583  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:11173
2023-03-07 15:34:53.584  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:11173
2023-03-07 15:34:53.586  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:34:53.587  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:34:53.587  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:34:53.660  INFO 112160 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:34:53.681  INFO 112160 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:34:53.740  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:34:53.785  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ed97d94b-2da5-4cd5-8843-2be8ed0811ed],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:34:53.785035800]
2023-03-07 15:34:53.845  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7a2f993f-ba3c-4d27-acbc-68802485e976],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:34:53.845034900]
2023-03-07 15:34:53.845  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@40860de8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:34:53.849  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@29302b1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:34:53.850  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-07 15:35:02.196  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b5398c44-c19c-4b8d-a0e3-72c5acd90f1c],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-07T15:35:02.196281800]
2023-03-07 15:35:02.196  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4d3effe0-f27b-4a2d-8e5d-6b99f88a7f3e],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:35:02.196281800]
2023-03-07 15:35:02.196  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=698051f2-d44b-4280-85f0-3ba03e30959f],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=OPTIONS],[time=2023-03-07T15:35:02.196281800]
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=560039ed-c51f-4183-8b19-ac8f8a2649d3],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=POST],[time=2023-03-07T15:35:02.213298600]
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@13c3cf6d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=879673a2-3dd5-4143-aa39-c6ff95663f8a],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:35:02.213298600]
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@42adae82,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7c9af28f-7506-471a-8c56-7eafb32461e1],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-07T15:35:02.213298600]
2023-03-07 15:35:02.213  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4de2d934,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:35:02.217  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@43252ef8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:35:02.217  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@50eca607,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:35:02.217  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@29302b1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:35:02.429 ERROR 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.advice.WebExceptionAdvice  : runtime exception:

java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Long.parseLong(Long.java:674) ~[na:na]
	at java.base/java.lang.Long.valueOf(Long.java:1163) ~[na:na]
	at com.hk.im.service.service.ChatCommunicationServiceImpl.clearUnreadMessage(ChatCommunicationServiceImpl.java:407) ~[classes/:na]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$FastClassBySpringCGLIB$$aef42fb5.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$904ba5ec.clearUnreadMessage(<generated>) ~[classes/:na]
	at com.hk.im.admin.controller.CommunicationController.clearUnreadMessage(CommunicationController.java:77) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.8.jar:1.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-07 15:35:02.674  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513","1631545232514449410","1631545265607507969","1631545409157562370","1631545527147528193","1631547263044124673","1631549589595115521","1631549636093169666"]}}
2023-03-07 15:35:16.889  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=aa86799a-97ed-4e13-802c-5b0dceab442e],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-07T15:35:16.889421200]
2023-03-07 15:35:16.889  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=463a118a-dd91-4f56-a64a-8855cab4ed40],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=OPTIONS],[time=2023-03-07T15:35:16.889421200]
2023-03-07 15:35:16.889  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0cc47068-95bd-4d47-b602-4d802d3a1dad],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:35:16.889421200]
2023-03-07 15:35:16.900  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=333ddb3b-5ae2-44c1-9b58-e1ae495d49e4],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:35:16.900425500]
2023-03-07 15:35:16.900  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=12da8a62-f0e3-48b0-8599-8b008241625b],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=POST],[time=2023-03-07T15:35:16.900425500]
2023-03-07 15:35:16.900  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3a4e9274,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:35:16.900  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4b6a5dbd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:35:16.901  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=43a9162d-6b37-4d45-8350-fd9b70596f18],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-07T15:35:16.901425600]
2023-03-07 15:35:16.901  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@10e283e4,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:35:16.902  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@50eca607,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:35:16.902  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:35:16.903  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@43252ef8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:35:16.904 ERROR 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.hk.im.admin.advice.WebExceptionAdvice  : runtime exception:

java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Long.parseLong(Long.java:674) ~[na:na]
	at java.base/java.lang.Long.valueOf(Long.java:1163) ~[na:na]
	at com.hk.im.service.service.ChatCommunicationServiceImpl.clearUnreadMessage(ChatCommunicationServiceImpl.java:407) ~[classes/:na]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$FastClassBySpringCGLIB$$aef42fb5.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.18.jar:5.3.18]
	at com.hk.im.service.service.ChatCommunicationServiceImpl$$EnhancerBySpringCGLIB$$904ba5ec.clearUnreadMessage(<generated>) ~[classes/:na]
	at com.hk.im.admin.controller.CommunicationController.clearUnreadMessage(CommunicationController.java:77) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.8.jar:1.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-07 15:35:17.023  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630555841503432705","1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074"]}}
2023-03-07 15:35:24.223  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=394d042d-9105-4387-82ff-558b7a0db187],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:35:24.223838900]
2023-03-07 15:35:24.243  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5fd6ea96-649b-4f58-a1bc-78699e873eb9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:35:24.243868200]
2023-03-07 15:35:24.243  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@717ec234,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:35:24.245  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@43252ef8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:35:24.339  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074"]}}
2023-03-07 15:36:26.399  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5a210f5c-1a5e-4679-8170-c4caa5d3426e],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:36:26.399495600]
2023-03-07 15:36:26.411  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a1f983fb-a6d9-4e1a-8ba5-69b2debe5029],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:36:26.411495900]
2023-03-07 15:36:26.411  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7abcccb7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:36:26.414  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:36:26.600  INFO 112160 --- [async-service-1] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:36:26.626  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:36:26.648  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:36:26.993  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:36:26.994  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:36:27.039  INFO 112160 --- [async-service-2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:36:27.042  INFO 112160 --- [async-service-2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:36:27.920  INFO 112160 --- [async-service-2] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B223F83C70002, offsetMsgId=2F6C928D00002A9F000000000000BB4E, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=7]
2023-03-07 15:36:28.107  INFO 112160 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633008691928141825, messageId=1633008691928141825, messageFlowId=1633008693383565314, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=82, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:36:26, updateTime=2023-03-07T15:36:26, messageFeature=0, content=发送测试查询以前发送的消息功能, extra=null, layout=center)
2023-03-07 15:36:28.123  INFO 112160 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1633008691928141825, messageId=1633008691928141825, messageFlowId=1633008693383565314, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=82, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:36:26, updateTime=2023-03-07T15:36:26, messageFeature=0, content=发送测试查询以前发送的消息功能, extra=null, layout=center)
2023-03-07 15:36:28.241  INFO 112160 --- [ConsumeMessageThread_chat-message-group_1] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633008691928141825, messageId=1633008691928141825, messageFlowId=1633008693383565314, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=82, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:36:26, updateTime=2023-03-07T15:36:26, messageFeature=0, content=发送测试查询以前发送的消息功能, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:36:28.241  INFO 112160 --- [async-service-3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633008691928141825, messageId=1633008691928141825, messageFlowId=1633008693383565314, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=82, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:36:26, updateTime=2023-03-07T15:36:26, messageFeature=0, content=发送测试查询以前发送的消息功能, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-0000000a-1903818f2f714b8d-d268abfc
2023-03-07 15:36:28.680  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6ed4db19-5e66-4653-8f3f-afec120c828e],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=OPTIONS],[time=2023-03-07T15:36:28.680643700]
2023-03-07 15:36:28.688  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=043b492d-a0bc-435f-8ab6-8321c75e749d],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=POST],[time=2023-03-07T15:36:28.688661100]
2023-03-07 15:36:28.689  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@57ba5ed0,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:36:28.692  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:36:28.697  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:36:28.698  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:36:29.326  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1633008691928141825"]}}
2023-03-07 15:36:42.797  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=876e3c8a-edd4-40b7-99f9-f6f15bb8a146],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:36:42.797673600]
2023-03-07 15:36:42.804  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9e4d6100-7dcd-42fe-8b0b-b444742431a6],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:36:42.804684200]
2023-03-07 15:36:42.804  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1a567a69,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:36:42.806  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:36:42.895  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513","1631545232514449410","1631545265607507969","1631545409157562370","1631545527147528193","1631547263044124673","1631549589595115521","1631549636093169666"]}}
2023-03-07 15:36:46.152  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e0fc7880-3c79-4b68-b678-f72c607eb36c],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:36:46.152261400]
2023-03-07 15:36:46.165  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=93085b81-7ab9-4bce-8a8b-b8f34afb6799],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:36:46.165260]
2023-03-07 15:36:46.165  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@492a8b9a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:36:46.167  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:36:46.269  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1630558814564540417","1630818844996014081","1630850143764918274","1631532734738358274","1631534631725592578","1631544192121536513","1631545232514449410","1631545265607507969","1631545409157562370","1631545527147528193","1631547263044124673","1631549589595115521","1631549636093169666"]}}
2023-03-07 15:37:26.097  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5d38040f-d1f0-4fbc-9ec5-53e09bfbcd02],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:37:26.097090700]
2023-03-07 15:37:26.107  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0f946529-ea3d-4c8b-8af2-200f86a00308],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:37:26.107104900]
2023-03-07 15:37:26.108  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@156e27d3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:37:26.110  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:37:26.137  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:37:31.082  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cdf7b6ae-bbca-46dd-9567-03050c91fc8d],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:37:31.082301400]
2023-03-07 15:37:31.089  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fa4cdd9d-ff68-44c4-9796-4be8332110b3],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:37:31.089290400]
2023-03-07 15:37:31.090  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3efba29b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:37:31.092  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:37:31.102  INFO 112160 --- [async-service-4] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612031901659357185, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:37:31.103  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:37:31.103  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:37:31.108  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:37:31.108  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:37:31.115  INFO 112160 --- [async-service-5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:37:31.115  INFO 112160 --- [async-service-5] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:37:31.334  INFO 112160 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633008962272006146, messageId=1633008962272006146, messageFlowId=1633008962292977666, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=25, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:31, updateTime=2023-03-07T15:37:31, messageFeature=0, content=你好呀, extra=null, layout=center)
2023-03-07 15:37:31.334  INFO 112160 --- [async-service-6] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1633008962272006146, messageId=1633008962272006146, messageFlowId=1633008962292977666, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=25, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:31, updateTime=2023-03-07T15:37:31, messageFeature=0, content=你好呀, extra=null, layout=center)
2023-03-07 15:37:31.334  INFO 112160 --- [async-service-6] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633008962272006146, messageId=1633008962272006146, messageFlowId=1633008962292977666, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=25, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:31, updateTime=2023-03-07T15:37:31, messageFeature=0, content=你好呀, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:37:31.336  INFO 112160 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.s.p.worker.MessageOfflineWorker    : offline message handle start:MessageBO(id=1633008962272006146, messageId=1633008962272006146, messageFlowId=1633008962292977666, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=25, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:31, updateTime=2023-03-07T15:37:31, messageFeature=0, content=你好呀, extra=null, layout=center)
2023-03-07 15:37:31.340  INFO 112160 --- [ConsumeMessageThread_chat-message-group_2] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,






session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:37:31.340  INFO 112160 --- [ConsumeMessageThread_chat-message-group_2] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:37:31.344  INFO 112160 --- [async-service-5] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B22407B700003, offsetMsgId=2F6C928D00002A9F000000000000BE0C, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=2]
2023-03-07 15:37:39.863  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f1d2640-b5c9-4539-88f2-75c345a2f185],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:37:39.863137200]
2023-03-07 15:37:39.871  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1326cb45-1b9d-4802-ba9c-4d9ff427510b],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:37:39.871141300]
2023-03-07 15:37:39.872  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@111f3860,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:37:39.874  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:37:39.963  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630555917592301569","1630557419941687297","1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825"]}}
2023-03-07 15:37:53.837  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=31cb0660-a391-41f3-a507-4c4955976568],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:37:53.837215600]
2023-03-07 15:37:53.842  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ab85120c-d2dd-4684-ae21-01abb1f9cbfb],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:37:53.842216200]
2023-03-07 15:37:53.842  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6a95e88d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:37:53.844  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:37:53.847  INFO 112160 --- [async-service-7] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612030664754913281, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:37:53.847  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:37:53.848  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:37:53.852  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:37:53.853  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:37:53.859  INFO 112160 --- [async-service-8] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:37:53.860  INFO 112160 --- [async-service-8] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:37:54.019  INFO 112160 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633009057675644929, messageId=1633009057675644929, messageFlowId=1633009057692422146, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=83, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:53, updateTime=2023-03-07T15:37:53, messageFeature=0, content=新发送的消息没有头像问题, extra=null, layout=center)
2023-03-07 15:37:54.019  INFO 112160 --- [ConsumeMessageThread_chat-message-group_3] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009057675644929, messageId=1633009057675644929, messageFlowId=1633009057692422146, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=83, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:53, updateTime=2023-03-07T15:37:53, messageFeature=0, content=新发送的消息没有头像问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-0000000a-1903818f2f714b8d-d268abfc
2023-03-07 15:37:54.020  INFO 112160 --- [async-service-9] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1633009057675644929, messageId=1633009057675644929, messageFlowId=1633009057692422146, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=83, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:53, updateTime=2023-03-07T15:37:53, messageFeature=0, content=新发送的消息没有头像问题, extra=null, layout=center)
2023-03-07 15:37:54.020  INFO 112160 --- [async-service-9] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009057675644929, messageId=1633009057675644929, messageFlowId=1633009057692422146, groupId=null, senderId=1611656761503215617, receiverId=1612030664754913281, chatType=1, messageType=1, sequence=83, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:37:53, updateTime=2023-03-07T15:37:53, messageFeature=0, content=新发送的消息没有头像问题, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:37:54.028  INFO 112160 --- [async-service-8] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B2240D4210004, offsetMsgId=2F6C928D00002A9F000000000000C0A6, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=1], queueOffset=2]
2023-03-07 15:37:54.358  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e629c676-bcaa-4c77-b7d9-37f7c0bc7d50],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=POST],[time=2023-03-07T15:37:54.358457]
2023-03-07 15:37:54.358  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2cbfb7f3,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:37:54.360  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:37:54.365  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:37:54.367  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:37:55.271  INFO 112160 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1611656761503215617","msg_id":["1633009057675644929"]}}
2023-03-07 15:38:19.249  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1d2c4cfd-6990-41e7-bfb4-7a9099d84eaf],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:38:19.249000200]
2023-03-07 15:38:19.249  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@66604a6d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:38:19.251  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:38:19.254  INFO 112160 --- [async-service-10] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1611656761503215617, senderId=1612030664754913281, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:38:19.255  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:38:19.255  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:38:19.259  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:38:19.259  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:38:19.266  INFO 112160 --- [async-service-11] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:38:19.267  INFO 112160 --- [async-service-11] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:38:19.490  INFO 112160 --- [ConsumeMessageThread_chat-message-group_4] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633009164240326658, messageId=1633009164240326658, messageFlowId=1633009164257103873, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=84, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:19, updateTime=2023-03-07T15:38:19, messageFeature=0, content=问题浮现, extra=null, layout=center)
2023-03-07 15:38:19.490  INFO 112160 --- [ConsumeMessageThread_chat-message-group_4] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009164240326658, messageId=1633009164240326658, messageFlowId=1633009164257103873, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=84, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:19, updateTime=2023-03-07T15:38:19, messageFeature=0, content=问题浮现, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:38:19.490  INFO 112160 --- [async-service-12] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1612030664754913281,message=MessageBO(id=1633009164240326658, messageId=1633009164240326658, messageFlowId=1633009164257103873, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=84, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:19, updateTime=2023-03-07T15:38:19, messageFeature=0, content=问题浮现, extra=null, layout=center)
2023-03-07 15:38:19.491  INFO 112160 --- [async-service-12] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009164240326658, messageId=1633009164240326658, messageFlowId=1633009164257103873, groupId=null, senderId=1612030664754913281, receiverId=1611656761503215617, chatType=1, messageType=1, sequence=84, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:19, updateTime=2023-03-07T15:38:19, messageFeature=0, content=问题浮现, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-0000000a-1903818f2f714b8d-d268abfc
2023-03-07 15:38:19.498  INFO 112160 --- [async-service-11] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B2241379E0005, offsetMsgId=2F6C928D00002A9F000000000000C35B, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=1], queueOffset=3]
2023-03-07 15:38:19.568  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=acae27e4-55b5-4ef3-8050-204c861f124b],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=OPTIONS],[time=2023-03-07T15:38:19.568180600]
2023-03-07 15:38:19.578  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d9aa7001-3337-4e56-b100-8685f53a3212],[ip=127.0.0.1],[uri=/admin/talk/unread/clear],[method=POST],[time=2023-03-07T15:38:19.578178800]
2023-03-07 15:38:19.578  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@11656721,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:19.580  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:19.584  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:38:19.586  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:38:20.542  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1633009164240326658"]}}
2023-03-07 15:38:46.950  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b1b16b28-0a20-453e-bd5c-1fdcf2bfdaf3],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:38:46.950465500]
2023-03-07 15:38:46.973  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=732a42aa-34cc-4797-845e-5a531c6ae3b5],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:38:46.973475500]
2023-03-07 15:38:46.973  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5539e18a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:46.975  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:46.994  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:38:49.071  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8b10b695-4139-4398-b0b2-b7082717cba6],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:38:49.071039600]
2023-03-07 15:38:49.084  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e55cdfc7-c166-47ca-9173-7aad66621a1f],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:38:49.084041300]
2023-03-07 15:38:49.084  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3328035e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:49.086  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:49.179  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 15:38:50.768  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=644ca6e2-4a92-46ea-8334-e18135a5e9c9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:38:50.768797900]
2023-03-07 15:38:50.774  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e704f45f-521d-498e-af2c-432d11f1d56f],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:38:50.774814100]
2023-03-07 15:38:50.775  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7c4b2b1c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:50.777  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:50.801  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:38:54.527  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=31f36fde-3ecb-47c0-bff7-247e3186b016],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:38:54.527461100]
2023-03-07 15:38:54.533  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=888de6ce-e2be-4c03-984a-d36de2cfc905],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:38:54.533446800]
2023-03-07 15:38:54.533  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@d219f5d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:54.535  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:54.538  INFO 112160 --- [async-service-13] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612031901659357185, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:38:54.538  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:38:54.539  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:38:54.543  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:38:54.544  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:38:54.550  INFO 112160 --- [async-service-14] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:38:54.550  INFO 112160 --- [async-service-14] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:38:54.888  INFO 112160 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633009312232148994, messageId=1633009312232148994, messageFlowId=1633009312248926210, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=26, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:54, updateTime=2023-03-07T15:38:54, messageFeature=0, content=你好啊有 , extra=null, layout=center)
2023-03-07 15:38:54.889  INFO 112160 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.s.p.worker.MessageOfflineWorker    : offline message handle start:MessageBO(id=1633009312232148994, messageId=1633009312232148994, messageFlowId=1633009312248926210, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=26, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:54, updateTime=2023-03-07T15:38:54, messageFeature=0, content=你好啊有 , extra=null, layout=center)
2023-03-07 15:38:54.889  INFO 112160 --- [async-service-15] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1633009312232148994, messageId=1633009312232148994, messageFlowId=1633009312248926210, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=26, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:54, updateTime=2023-03-07T15:38:54, messageFeature=0, content=你好啊有 , extra=null, layout=center)
2023-03-07 15:38:54.889  INFO 112160 --- [async-service-15] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009312232148994, messageId=1633009312232148994, messageFlowId=1633009312248926210, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=26, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:38:54, updateTime=2023-03-07T15:38:54, messageFeature=0, content=你好啊有 , extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:38:54.892  INFO 112160 --- [ConsumeMessageThread_chat-message-group_5] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,






session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:38:54.892  INFO 112160 --- [ConsumeMessageThread_chat-message-group_5] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:38:54.897  INFO 112160 --- [async-service-14] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B2241C1E40006, offsetMsgId=2F6C928D00002A9F000000000000C5F8, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=3]
2023-03-07 15:38:58.465  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6961e5a3-caa3-49da-82ba-d621236bbc72],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:38:58.465393700]
2023-03-07 15:38:58.485  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4ef74db5-100d-4881-be10-0b09788feb3f],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:38:58.485390500]
2023-03-07 15:38:58.485  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7d589e59,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:58.487  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:58.569  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 15:38:59.108  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=adeb4675-62f4-4f46-9912-ef82d8c37d96],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:38:59.108217100]
2023-03-07 15:38:59.117  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7a77e29d-a04a-416e-bbc4-1be3b09d72d5],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:38:59.117216600]
2023-03-07 15:38:59.117  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@51f7f680,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:38:59.118  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:38:59.135  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:39:00.367  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=74aedd1e-489e-4ae3-9013-c1ebe0782942],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:39:00.367978700]
2023-03-07 15:39:00.374  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=824693d0-1eac-4583-a99b-56de28f794ed],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:39:00.374981100]
2023-03-07 15:39:00.375  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@53bc2c6f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:39:00.377  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:39:00.472  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 15:39:02.449  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5f1690ad-a215-4cfe-acc5-4ddefcbf8487],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:39:02.449348400]
2023-03-07 15:39:02.462  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=39956c14-031e-4e7e-948b-5ba89354fbd1],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:39:02.462357400]
2023-03-07 15:39:02.462  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@63521bf0,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:39:02.464  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:39:02.483  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:39:21.278  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8df5b22b-cc13-4e39-8b8f-1ae3491cd06c],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:39:21.278211200]
2023-03-07 15:39:21.286  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5ea048ae-06c7-48fb-86f5-3cbe934474df],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:39:21.286204900]
2023-03-07 15:39:21.287  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@489d6e6a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:39:21.288  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:39:21.292  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:39:21.292  INFO 112160 --- [async-service-16] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612031901659357185, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:39:21.292  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:39:21.294  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:39:21.295  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:39:21.301  INFO 112160 --- [async-service-17] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:39:21.301  INFO 112160 --- [async-service-17] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:39:21.539  INFO 112160 --- [ConsumeMessageThread_chat-message-group_6] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633009424442363906, messageId=1633009424442363906, messageFlowId=1633009424454946817, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=27, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:39:21, updateTime=2023-03-07T15:39:21, messageFeature=0, content=对方不在线无法推送消息, extra=null, layout=center)
2023-03-07 15:39:21.539  INFO 112160 --- [ConsumeMessageThread_chat-message-group_6] c.h.i.s.p.worker.MessageOfflineWorker    : offline message handle start:MessageBO(id=1633009424442363906, messageId=1633009424442363906, messageFlowId=1633009424454946817, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=27, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:39:21, updateTime=2023-03-07T15:39:21, messageFeature=0, content=对方不在线无法推送消息, extra=null, layout=center)
2023-03-07 15:39:21.539  INFO 112160 --- [async-service-18] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1633009424442363906, messageId=1633009424442363906, messageFlowId=1633009424454946817, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=27, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:39:21, updateTime=2023-03-07T15:39:21, messageFeature=0, content=对方不在线无法推送消息, extra=null, layout=center)
2023-03-07 15:39:21.539  INFO 112160 --- [async-service-18] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009424442363906, messageId=1633009424442363906, messageFlowId=1633009424454946817, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=27, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:39:21, updateTime=2023-03-07T15:39:21, messageFeature=0, content=对方不在线无法推送消息, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:39:21.542  INFO 112160 --- [ConsumeMessageThread_chat-message-group_6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,






session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:39:21.542  INFO 112160 --- [ConsumeMessageThread_chat-message-group_6] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:39:21.550  INFO 112160 --- [async-service-17] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B224229FF0007, offsetMsgId=2F6C928D00002A9F000000000000C896, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=3], queueOffset=8]
2023-03-07 15:39:26.616  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9e31c527-1162-4d03-9918-6ef7c5bc8b3e],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:39:26.616956100]
2023-03-07 15:39:26.623  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3ae03ef7-c5c4-4002-9ba9-5ca70cc0c360],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:39:26.623949]
2023-03-07 15:39:26.623  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@228c094f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:39:26.626  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:39:26.707  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 15:39:27.647  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cb1a86a7-b574-4eb5-99dc-8f81450cd5d4],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:39:27.647370300]
2023-03-07 15:39:27.654  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f6bbc19c-4928-4ac6-aec1-80b5e3f482e8],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:39:27.654372900]
2023-03-07 15:39:27.654  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@95be1d0,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:39:27.656  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:39:27.681  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:40:59.545  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ebc7e55e-02e8-45d5-98ef-14c406899025],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=OPTIONS],[time=2023-03-07T15:40:59.545166600]
2023-03-07 15:40:59.555  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=bd79ec0a-7aba-40a9-8156-77f99241665f],[ip=127.0.0.1],[uri=/admin/message/send/text],[method=POST],[time=2023-03-07T15:40:59.555135400]
2023-03-07 15:40:59.555  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5fcd3ad2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:40:59.557  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:40:59.560  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_chat_message  ( id,
sequence,
message_feature,
message_type,
content,


create_time,
update_time )  VALUES  ( ?,
?,
?,
?,
?,


?,
? )
2023-03-07 15:40:59.560  INFO 112160 --- [async-service-19] c.h.i.i.e.c.l.CommunicationEventListener : refresh sequence and session ttl: Sequence(id=null, name=null, description=null, sessionId=null, receiverId=1612031901659357185, senderId=1611656761503215617, max=null, step=null, segment=null, version=null, createTime=null, updateTime=null, current=1)
2023-03-07 15:40:59.560  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:40:59.566  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_message_flow  ( id,

sender_id,
receiver_id,
chat_type,
message_type,
message_id,
`sequence`,
send_status,
sign_flag,

deleted,
create_time,
update_time )  VALUES  ( ?,

?,
?,
?,
?,
?,
?,
?,
?,

?,
?,
? )
2023-03-07 15:40:59.566  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-6] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:40:59.573  INFO 112160 --- [async-service-20] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,

last_message_id=?,

last_message_content=?,

last_send_time=?,
session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:40:59.573  INFO 112160 --- [async-service-20] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:40:59.751  INFO 112160 --- [ConsumeMessageThread_chat-message-group_7] c.h.i.s.p.comsumer.SendMessageConsumer   : rocketmq on message(chat message): MessageBO(id=1633009836608229378, messageId=1633009836608229378, messageFlowId=1633009836633395201, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=28, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:40:59, updateTime=2023-03-07T15:40:59, messageFeature=0, content=sequence 为什么会乱呢, extra=null, layout=center)
2023-03-07 15:40:59.751  INFO 112160 --- [ConsumeMessageThread_chat-message-group_7] c.h.i.s.p.worker.MessageOfflineWorker    : offline message handle start:MessageBO(id=1633009836608229378, messageId=1633009836608229378, messageFlowId=1633009836633395201, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=28, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:40:59, updateTime=2023-03-07T15:40:59, messageFeature=0, content=sequence 为什么会乱呢, extra=null, layout=center)
2023-03-07 15:40:59.751  INFO 112160 --- [async-service-21] c.h.i.s.push.worker.MessageSynchronizer  : MessageSynchronizer synchronize message to me=1611656761503215617,message=MessageBO(id=1633009836608229378, messageId=1633009836608229378, messageFlowId=1633009836633395201, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=28, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:40:59, updateTime=2023-03-07T15:40:59, messageFeature=0, content=sequence 为什么会乱呢, extra=null, layout=center)
2023-03-07 15:40:59.752  INFO 112160 --- [async-service-21] c.h.i.s.push.worker.MessageSynchronizer  : push message=DataContainer(actionType=1, event=event_talk, message=SimpleTextMessage(super=AbstractMessage(sequenceId=0, messageType=1, messageBO=MessageBO(id=1633009836608229378, messageId=1633009836608229378, messageFlowId=1633009836633395201, groupId=null, senderId=1611656761503215617, receiverId=1612031901659357185, chatType=1, messageType=1, sequence=28, sendStatus=2, signFlag=1, deleted=null, createTime=2023-03-07T15:40:59, updateTime=2023-03-07T15:40:59, messageFeature=0, content=sequence 为什么会乱呢, extra=null, layout=center)), extend=null), extra=null) to Channel=907841fffe2e6da0-0001b620-00000009-3635fe4a5f71a3f7-fc6620db
2023-03-07 15:40:59.753  INFO 112160 --- [ConsumeMessageThread_chat-message-group_7] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 UPDATE tb_chat_communication  SET belong_user_id=?,

sender_id=?,
receiver_id=?,






session_type=?,

unread_count=?,

top=?,
robot=?,
disturb=?,
online=?,
create_time=?,
update_time=?,
deleted=?  WHERE id=?
2023-03-07 15:40:59.755  INFO 112160 --- [ConsumeMessageThread_chat-message-group_7] c.hk.im.admin.config.MybatisPlusConfig   : start update fill ....
2023-03-07 15:40:59.757  INFO 112160 --- [async-service-20] c.h.i.i.e.m.l.MessageEventHandler        : Sent message by rocketmq: SendResult [sendStatus=SEND_OK, msgId=7F000001B62063947C6B2243A9B10008, offsetMsgId=2F6C928D00002A9F000000000000CB48, messageQueue=MessageQueue [topic=chat-topic, brokerName=broker-a, queueId=0], queueOffset=4]
2023-03-07 15:41:54.387  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4465c9f6-451a-4c9c-b58b-a6dc69303834],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:41:54.387461700]
2023-03-07 15:41:54.402  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=ee504859-0351-4993-9b29-b47ad7ab7978],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:41:54.402459]
2023-03-07 15:41:54.402  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1e8d497c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:41:54.404  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:41:54.482  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 15:41:57.400  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b6869cb4-5ff6-40ff-af40-953468fee6fc],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:41:57.400743]
2023-03-07 15:41:57.411  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=665e6d51-63d9-4e4c-9048-52e06cdc16ea],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:41:57.411741700]
2023-03-07 15:41:57.412  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7a279fef,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:41:57.414  INFO 112160 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@69d47c0c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:41:57.430  INFO 112160 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 15:43:16.438  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:43:16.439  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:43:16.595  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:43:16.698  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:43:16.799  INFO 112160 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:43:16.800  INFO 112160 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:43:16.946  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:43:16.946  INFO 112160 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:43:16.950  INFO 112160 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:43:16.996  INFO 112160 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:43:17.022  INFO 112160 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:43:30.704  INFO 109056 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 109056 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:43:30.709  INFO 109056 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:43:35.721  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:43:35.722  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:43:35.752  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:43:35.774  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:43:35.776  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:43:35.795  INFO 109056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:43:36.343  INFO 109056 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$f077303d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:43:36.363  INFO 109056 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:43:37.246  INFO 109056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:43:37.284  INFO 109056 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:43:37.285  INFO 109056 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:43:37.576  INFO 109056 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:43:37.576  INFO 109056 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6784 ms
2023-03-07 15:43:38.263  INFO 109056 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:43:39.516  INFO 109056 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:43:39.708  INFO 109056 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:43:39.869  INFO 109056 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:43:40.199  INFO 109056 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:43:40.432  INFO 109056 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:43:40.791  INFO 109056 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:43:40.810  INFO 109056 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:43:41.605  WARN 109056 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:43:42.083  WARN 109056 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:43:42.207  WARN 109056 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:43:42.351  WARN 109056 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:43:43.972  INFO 109056 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:43:43.974  INFO 109056 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:43:43.975  INFO 109056 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:43:43.975  INFO 109056 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:43:44.004  INFO 109056 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:43:44.774  INFO 109056 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:43:44.854  WARN 109056 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:43:46.185  INFO 109056 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:43:46.186  INFO 109056 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:43:46.561  INFO 109056 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:43:46.561  INFO 109056 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:43:46.618  INFO 109056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:43:46.629  INFO 109056 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:43:46.629721300
2023-03-07 15:43:46.630  INFO 109056 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:43:46.630321300
2023-03-07 15:43:46.636  INFO 109056 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 16.981 seconds (JVM running for 21.176)
2023-03-07 15:43:46.837  INFO 109056 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:43:47.506  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:13452
2023-03-07 15:43:47.506  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:13454
2023-03-07 15:43:47.507  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:13454
2023-03-07 15:43:47.507  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:13452
2023-03-07 15:43:47.528  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,headers=http://localhost:3000,method=GET
2023-03-07 15:43:47.528  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:43:47.530  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:43:47.530  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:43:47.530  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:43:47.530  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:43:48.294  INFO 109056 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw, extend=null)
2023-03-07 15:43:48.296  INFO 109056 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:43:48.348  WARN 109056 --- [nioEventLoopGroup-5-2] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @bcec361
2023-03-07 15:43:48.768  INFO 109056 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:43:48.768  INFO 109056 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:43:48.856  INFO 109056 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:43:48.856  INFO 109056 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:43:49.336  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:43:49.336  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:43:49.338  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 15:43:49.376  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=774672cb-8558-46c5-9b96-7268848c3c5b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:43:49.376309400]
2023-03-07 15:43:49.392  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3959c22e-bfd8-45b1-9f7d-a94674f4d3ed],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:43:49.392297800]
2023-03-07 15:43:49.393  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@a80716f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:43:49.404  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@48f0241d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:43:49.521  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c5326b57-5e1d-48d4-9d7e-f2f7248e23f4],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:43:49.520307200]
2023-03-07 15:43:49.521  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@19e221e2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:43:49.523  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@5e7d1085,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:43:49.531  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 15:43:49.531  INFO 109056 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-07 15:44:20.675  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:44:20.676  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:44:20.796  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:44:20.797  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:44:20.828  INFO 109056 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:44:20.829  INFO 109056 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:44:20.955  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:44:20.955  INFO 109056 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:44:20.959  INFO 109056 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:44:20.961  INFO 109056 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:44:20.969  INFO 109056 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:44:35.220  INFO 97052 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 97052 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:44:35.224  INFO 97052 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:44:36.791  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:44:36.792  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:44:36.822  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:44:36.845  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:44:36.847  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:44:36.865  INFO 97052 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-03-07 15:44:37.409  INFO 97052 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$fa51dd46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:44:37.436  INFO 97052 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:44:38.161  INFO 97052 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:44:38.178  INFO 97052 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:44:38.178  INFO 97052 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:44:38.487  INFO 97052 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:44:38.488  INFO 97052 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3189 ms
2023-03-07 15:44:39.218  INFO 97052 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:44:39.988  INFO 97052 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:44:40.159  INFO 97052 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:44:40.244  INFO 97052 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:44:40.498  INFO 97052 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:44:40.715  INFO 97052 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:44:40.985  INFO 97052 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:44:41.003  INFO 97052 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:44:41.567  WARN 97052 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:44:41.953  WARN 97052 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:44:42.047  WARN 97052 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:44:42.178  WARN 97052 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:44:43.461  INFO 97052 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:44:43.463  INFO 97052 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:44:43.463  INFO 97052 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:44:43.463  INFO 97052 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:44:43.482  INFO 97052 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:44:44.231  INFO 97052 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:44:44.323  WARN 97052 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:44:45.665  INFO 97052 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:44:45.666  INFO 97052 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:44:46.051  INFO 97052 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:44:46.051  INFO 97052 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:44:46.098  INFO 97052 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:44:46.109  INFO 97052 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:44:46.109027900
2023-03-07 15:44:46.109  INFO 97052 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:44:46.109027900
2023-03-07 15:44:46.116  INFO 97052 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 11.779 seconds (JVM running for 14.241)
2023-03-07 15:44:46.315  INFO 97052 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:44:46.578  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:5311
2023-03-07 15:44:46.578  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:5313
2023-03-07 15:44:46.578  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:5311
2023-03-07 15:44:46.578  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:5313
2023-03-07 15:44:46.599  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:44:46.599  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,headers=http://localhost:3000,method=GET
2023-03-07 15:44:46.601  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:44:46.601  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:44:46.601  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:44:46.601  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:44:47.414  INFO 97052 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:44:47.414  INFO 97052 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw, extend=null)
2023-03-07 15:44:47.476  WARN 97052 --- [nioEventLoopGroup-5-2] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @7a8c8dcf
2023-03-07 15:44:47.740  INFO 97052 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:44:47.740  INFO 97052 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:44:47.858  INFO 97052 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:44:47.858  INFO 97052 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:44:48.294  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:44:48.294  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:44:48.296  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 15:44:48.337  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=707f119a-4e6f-44b4-81e0-cf34d518df51],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:44:48.337595300]
2023-03-07 15:44:48.348  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7db78b0c-7ea1-47fd-a187-5d5b70d4a0d5],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:44:48.348595400]
2023-03-07 15:44:48.348  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7c944c4e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:44:48.361  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6ea748de,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:44:48.482  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8ce0b22e-a8fd-488d-bda6-e8ba6cbd4bec],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:44:48.482593300]
2023-03-07 15:44:48.483  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1a1ee3d4,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:44:48.488  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@38094df7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:44:48.502  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 15:44:48.507  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-07 15:46:57.791  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1968b455-c22c-43f4-bf1b-b275743845c6],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:46:57.791987600]
2023-03-07 15:46:57.805  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=66258809-0402-4e98-a289-04fdb5081243],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:46:57.805983600]
2023-03-07 15:46:57.806  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@47ccf470,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:46:57.809  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@38094df7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:47:35.290  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a0e03abf-4922-45a7-9066-c311615b5aee],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T15:47:35.290238900]
2023-03-07 15:47:35.304  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=92ac878a-514b-45aa-9225-3a4b2eb9536b],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T15:47:35.304227100]
2023-03-07 15:47:35.304  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@449afb68,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:47:35.307  INFO 97052 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@38094df7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:48:31.858  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:48:31.858  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:48:31.858  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:48:31.859  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:48:31.859  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:49:24.156  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:49:24.157  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:49:24.273  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:49:24.274  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:49:24.302  INFO 97052 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:49:24.303  INFO 97052 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:49:24.409  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:49:24.410  INFO 97052 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:49:24.413  INFO 97052 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:49:24.418  INFO 97052 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:49:24.429  INFO 97052 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:49:34.270  INFO 100776 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 100776 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:49:34.276  INFO 100776 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:49:35.835  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:49:35.835  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:49:35.867  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:49:35.889  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:49:35.891  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:49:35.909  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:49:36.419  INFO 100776 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$bbd4dd89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:49:36.439  INFO 100776 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:49:37.140  INFO 100776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:49:37.161  INFO 100776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:49:37.161  INFO 100776 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:49:37.433  INFO 100776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:49:37.433  INFO 100776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3074 ms
2023-03-07 15:49:38.085  INFO 100776 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:49:38.845  INFO 100776 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:49:39.004  INFO 100776 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:49:39.086  INFO 100776 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:49:39.314  INFO 100776 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:49:39.513  INFO 100776 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:49:39.758  INFO 100776 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:49:39.775  INFO 100776 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:49:40.349  WARN 100776 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:49:40.773  WARN 100776 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:49:40.855  WARN 100776 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:49:40.982  WARN 100776 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:49:42.275  INFO 100776 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:49:42.277  INFO 100776 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:49:42.277  INFO 100776 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:49:42.277  INFO 100776 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:49:42.287  INFO 100776 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:49:43.039  INFO 100776 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:49:43.145  WARN 100776 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:49:44.424  INFO 100776 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:49:44.424  INFO 100776 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:49:44.785  INFO 100776 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:49:44.785  INFO 100776 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:49:44.834  INFO 100776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:49:44.845  INFO 100776 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:49:44.845145300
2023-03-07 15:49:44.846  INFO 100776 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:49:44.846178200
2023-03-07 15:49:44.852  INFO 100776 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 11.388 seconds (JVM running for 12.852)
2023-03-07 15:49:45.055  INFO 100776 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:49:45.392  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3414
2023-03-07 15:49:45.393  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3414
2023-03-07 15:49:45.410  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,headers=http://localhost:3000,method=GET
2023-03-07 15:49:45.411  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:49:45.411  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:49:46.127  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw, extend=null)
2023-03-07 15:49:46.154  WARN 100776 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6a78afa0
2023-03-07 15:49:46.440  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:49:46.519  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:49:46.576  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3433
2023-03-07 15:49:46.577  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3433
2023-03-07 15:49:46.580  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:49:46.580  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:49:46.580  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:49:46.647  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:49:46.660  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:49:46.686  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:49:46.975  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:49:46.975  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:49:46.977  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 15:49:47.010  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2bf763d8-7899-4ff7-8801-3eda6ccc2355],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:49:47.010109900]
2023-03-07 15:49:47.029  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0852fa58-ce23-48db-bd5c-fad1d109c55d],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:49:47.029114200]
2023-03-07 15:49:47.029  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@181b794e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:49:47.040  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:49:47.143  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c7c7a0ef-0a0c-4949-99fb-84c0dd6597ae],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:49:47.143111]
2023-03-07 15:49:47.143  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2951ba25,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:49:47.148  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@2796517f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:49:47.155  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 15:49:47.155  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913281
2023-03-07 15:51:53.997  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3414,id=907841fffe2e6da0-000189a8-00000007-12a76b0a2543e702-95104d58
2023-03-07 15:51:54.001  INFO 100776 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3414
2023-03-07 15:51:56.358  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8923
2023-03-07 15:51:56.359  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8923
2023-03-07 15:51:56.361  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,headers=http://localhost:3000,method=GET
2023-03-07 15:51:56.362  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:51:56.362  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:51:56.378  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d298d091-57b0-4ad0-9618-e34488357d6c],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:51:56.378730900]
2023-03-07 15:51:56.379  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6a4f1cb4-9905-4128-91ae-a7da592d87f3],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T15:51:56.379730800]
2023-03-07 15:51:56.391  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b9a68b9f-8f19-41d7-ab25-2882d0549b32],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:51:56.391730500]
2023-03-07 15:51:56.392  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@465a98d1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:51:56.393  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2bf46538-d361-4001-bd4a-6ef5e618115c],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T15:51:56.393730800]
2023-03-07 15:51:56.393  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@23503f92,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:51:56.395  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:51:56.396  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@2796517f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:51:56.464  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw, extend=null)
2023-03-07 15:51:56.483  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:51:56.984  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:51:56.992  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=020d6584-cade-4c73-87af-e1287148bbef],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:51:56.991427]
2023-03-07 15:51:57.001  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6376a5da-a30b-4010-b372-271d61bc7715],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:51:57.001425100]
2023-03-07 15:51:57.002  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3f147088,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw
2023-03-07 15:51:57.007  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgxNjgxfQ.i6X9YMgKVU4wZPrzXwi_GQyo-5ah1WeOvPdqRfp-yolYMn4wN-oATh0f4qjs82gqd_mZmn_KrcgaoBx5wo3zYw,user=1611656761503215617
2023-03-07 15:51:57.008  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215600
2023-03-07 15:52:12.871  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8923,id=907841fffe2e6da0-000189a8-0000000b-11978dcb5241e6c5-fefba091
2023-03-07 15:52:12.872  INFO 100776 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8923
2023-03-07 15:52:17.100  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d2f5bb68-a9a3-49ac-b388-dfd28780e816],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-07T15:52:17.100004200]
2023-03-07 15:52:17.110  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=058c100c-262e-4296-8ccd-227b158a9850],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:52:17.110006800]
2023-03-07 15:52:17.625  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6853d522-ff34-4cde-9a45-bef17c378baf],[ip=127.0.0.1],[uri=/admin/user/1611656761503215600],[method=OPTIONS],[time=2023-03-07T15:52:17.625342400]
2023-03-07 15:52:17.625  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=53669be6-6bb2-4b1d-b63e-561eed855161],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:52:17.625342400]
2023-03-07 15:52:17.645  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=124f559d-3dd2-45c9-b69c-a8e4635af386],[ip=127.0.0.1],[uri=/admin/user/1611656761503215600],[method=GET],[time=2023-03-07T15:52:17.645342600]
2023-03-07 15:52:17.645  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@597daa57,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:17.647  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=49367dac-f5d6-4d4b-b6f6-dc0f52d0f6bb],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:52:17.647345]
2023-03-07 15:52:17.647  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@43252ef8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:17.648  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@2796517f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,user=1611656761503215617
2023-03-07 15:52:17.649  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,user=1611656761503215617
2023-03-07 15:52:17.860  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7484
2023-03-07 15:52:17.860  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7484
2023-03-07 15:52:17.863  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:52:17.864  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:17.864  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:52:17.948  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA, extend=null)
2023-03-07 15:52:17.963  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:52:17.996  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:52:18.014  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5c143dd9-2e36-47cb-94ce-0aadfae9bd5d],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:52:18.014342300]
2023-03-07 15:52:18.030  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8cf1af38-c438-4622-a856-dc60840b788f],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:52:18.030342900]
2023-03-07 15:52:18.030  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@c147110,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:18.033  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,user=1611656761503215617
2023-03-07 15:52:18.034  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215600
2023-03-07 15:52:23.134  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=587a896b-875f-46ad-b13d-4af3fbd1a6f1],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=OPTIONS],[time=2023-03-07T15:52:23.134399500]
2023-03-07 15:52:23.169  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c1519b04-b18d-4dc4-93a6-97ee934b2ef0],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=GET],[time=2023-03-07T15:52:23.169064300]
2023-03-07 15:52:23.169  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7dcc22bd,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:23.171  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,user=1611656761503215617
2023-03-07 15:52:23.201  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_friend_group  ( id,
user_id,
name,

create_time,
update_time )  VALUES  ( ?,
?,
?,

?,
? )
2023-03-07 15:52:23.292  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:52:23.447  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_friend_group  ( id,
user_id,
name,

create_time,
update_time )  VALUES  ( ?,
?,
?,

?,
? )
2023-03-07 15:52:23.447  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:52:23.521  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.MyBatisSqlUpdateSqlDebugPlugin : =====> SQL日志Update操作:
 INSERT INTO tb_friend_group  ( id,
user_id,
name,

create_time,
update_time )  VALUES  ( ?,
?,
?,

?,
? )
2023-03-07 15:52:23.521  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.config.MybatisPlusConfig   : start insert fill ....
2023-03-07 15:52:59.755  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a016344e-f6e6-4a86-84b3-5950c3529ee0],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=OPTIONS],[time=2023-03-07T15:52:59.755687400]
2023-03-07 15:52:59.778  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d87c2702-161c-465d-896a-afbb17154e20],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=GET],[time=2023-03-07T15:52:59.778682]
2023-03-07 15:52:59.778  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5fc18afa,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:52:59.781  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,user=1611656761503215617
2023-03-07 15:53:03.389  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7484,id=907841fffe2e6da0-000189a8-0000000c-23fa924b82415ac2-32f33782
2023-03-07 15:53:03.389  INFO 100776 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7484
2023-03-07 15:53:07.639  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3433,id=907841fffe2e6da0-000189a8-0000000a-268cd8d82543ebcf-c5b9f44c
2023-03-07 15:53:07.639  INFO 100776 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3433
2023-03-07 15:53:09.776  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8862
2023-03-07 15:53:09.776  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8862
2023-03-07 15:53:09.779  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:53:09.779  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:09.779  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:53:09.805  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=150cc059-4fe1-4267-9331-dc073a398722],[ip=127.0.0.1],[uri=/admin/user/1612030664754913281],[method=GET],[time=2023-03-07T15:53:09.805157800]
2023-03-07 15:53:09.805  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5561588d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:09.806  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=40d4d2ae-8556-4a0c-b80d-a3e9cb32f4f5],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:53:09.806172200]
2023-03-07 15:53:09.806  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7eb58d4f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:09.807  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:09.808  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@2796517f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:09.877  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_5] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:53:09.888  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_5] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:53:10.153  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:53:10.176  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2765ea07-67f8-41f3-9f1e-89f88763035d],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:53:10.176218]
2023-03-07 15:53:10.233  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=abed78dc-7f5b-4f79-a0f4-1e649efbcc3e],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:53:10.233444800]
2023-03-07 15:53:10.233  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@448fc7e0,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:10.236  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:10.236  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913300
2023-03-07 15:53:25.121  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8862,id=907841fffe2e6da0-000189a8-0000000d-25c9cdd5ae40858e-bd679b24
2023-03-07 15:53:25.121  INFO 100776 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8862
2023-03-07 15:53:26.857  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b947c9e3-1bfe-4606-b8c0-3e7829188577],[ip=127.0.0.1],[uri=/admin/user/1612030664754913300],[method=OPTIONS],[time=2023-03-07T15:53:26.857590500]
2023-03-07 15:53:26.857  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=4aae0a8a-dede-4d8d-ba64-e5025e0d100a],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:53:26.857590500]
2023-03-07 15:53:26.873  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6fb75e42-13a8-47d2-8bb2-74dc2aa10c66],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:53:26.873166100]
2023-03-07 15:53:26.873  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7761934a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:26.875  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0b409ad8-e871-4e4c-84ea-1785ea4e5781],[ip=127.0.0.1],[uri=/admin/user/1612030664754913300],[method=GET],[time=2023-03-07T15:53:26.875684500]
2023-03-07 15:53:26.875  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1ed3f837,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:26.876  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:26.877  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@2796517f,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:27.140  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:11478
2023-03-07 15:53:27.140  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:11478
2023-03-07 15:53:27.142  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:53:27.142  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:27.142  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:53:27.215  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_6] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:53:27.227  INFO 100776 --- [ConsumeMessageThread_chat-connect-group_6] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:53:27.407  INFO 100776 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:53:27.459  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b4779f5c-5f62-4d06-9b38-bde0cc8d1174],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:53:27.459433900]
2023-03-07 15:53:27.459  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@70148a06,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:53:27.461  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@61af3915,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:53:27.462  INFO 100776 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913300
2023-03-07 15:54:14.909  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:54:14.909  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:54:15.009  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:54:15.010  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:54:15.173  INFO 100776 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:54:15.173  INFO 100776 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:54:15.279  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:54:15.280  INFO 100776 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:54:15.283  INFO 100776 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:54:15.333  INFO 100776 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:54:15.341  INFO 100776 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:54:30.392  INFO 114064 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 114064 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:54:30.396  INFO 114064 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:54:35.327  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:54:35.328  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:54:35.357  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:54:35.380  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:54:35.382  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:54:35.402  INFO 114064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:54:35.975  INFO 114064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$f7024b22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:54:35.995  INFO 114064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:54:36.743  INFO 114064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:54:36.763  INFO 114064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:54:36.763  INFO 114064 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:54:37.069  INFO 114064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:54:37.069  INFO 114064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6591 ms
2023-03-07 15:54:37.722  INFO 114064 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:54:38.668  INFO 114064 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:54:38.866  INFO 114064 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:54:39.000  INFO 114064 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:54:39.329  INFO 114064 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:54:39.550  INFO 114064 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:54:39.904  INFO 114064 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:54:39.929  INFO 114064 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:54:40.614  WARN 114064 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:54:40.996  WARN 114064 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:54:41.088  WARN 114064 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:54:41.214  WARN 114064 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:54:42.576  INFO 114064 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:54:42.578  INFO 114064 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:54:42.578  INFO 114064 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:54:42.578  INFO 114064 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:54:42.588  INFO 114064 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:54:43.269  INFO 114064 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:54:43.348  WARN 114064 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:54:44.665  INFO 114064 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:54:44.665  INFO 114064 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:54:45.032  INFO 114064 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:54:45.032  INFO 114064 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:54:45.079  INFO 114064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:54:45.088  INFO 114064 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:54:45.088648400
2023-03-07 15:54:45.088  INFO 114064 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:54:45.088648400
2023-03-07 15:54:45.094  INFO 114064 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 15.67 seconds (JVM running for 17.297)
2023-03-07 15:54:45.267  INFO 114064 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:54:45.631  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:13853
2023-03-07 15:54:45.632  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:13853
2023-03-07 15:54:45.649  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:54:45.650  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:45.650  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:54:46.452  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:54:46.494  WARN 114064 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6a78afa0
2023-03-07 15:54:46.878  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:54:46.957  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:54:47.424  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:54:47.424  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:54:47.426  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 15:54:47.463  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a6bd9121-02e3-4dbc-8d71-7bbf72fd34b4],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:54:47.463325]
2023-03-07 15:54:47.463  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5998cfc8,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:47.472  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:54:47.596  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913300
2023-03-07 15:54:56.813  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:13853,id=907841fffe2e6da0-0001bd90-00000007-0377169e465f1bd0-42bb201c
2023-03-07 15:54:56.814  INFO 114064 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:13853
2023-03-07 15:54:58.618  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=785cc794-8734-494f-9091-f6c55ef3c281],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:54:58.618266100]
2023-03-07 15:54:58.618  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8112ac05-0267-493d-a791-d7ace65a2679],[ip=127.0.0.1],[uri=/admin/user/1612030664754913300],[method=GET],[time=2023-03-07T15:54:58.618266100]
2023-03-07 15:54:58.619  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1e81bde1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:58.619  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@7891b44d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:58.622  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:54:58.622  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@1abe3ae9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:54:58.903  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8019
2023-03-07 15:54:58.903  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8019
2023-03-07 15:54:58.906  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,headers=http://localhost:3000,method=GET
2023-03-07 15:54:58.906  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:58.906  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:54:58.972  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1612030664754913281, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ, extend=null)
2023-03-07 15:54:58.988  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1612030664754913281, accessToken=null, expiresIn=3600, username=令狐翅膀, account=1673173034, phone=18171513361, email=p.ohbkyke@qq.com, bigAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/4e1d0b589912493fab5ed56d0d1c93e6.png?f=y&d=robohash&r=g, qrcode=null, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是令狐翅膀,请多指教)
2023-03-07 15:54:59.266  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:54:59.350  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f9a81078-ddad-4c7b-a453-61f178bbe7db],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:54:59.350010800]
2023-03-07 15:54:59.350  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@16c74cd2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ
2023-03-07 15:54:59.354  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@1abe3ae9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjEyMDMwNjY0NzU0OTEzMjgxIiwiZXhwIjoxNjc4MTgxNjkzfQ.IlWe_epHJFpInl2TrkgcPtWzu50zzmUPYLPQfdv_0CjxBtKVTUdU_oy2WkUUDmqQAdyuJyeSIlK-tFgpwUtzKQ,user=1612030664754913281
2023-03-07 15:54:59.354  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1612030664754913300
2023-03-07 15:55:02.921  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8019,id=907841fffe2e6da0-0001bd90-0000000a-2c91cccaf85f2fd5-9463a2d2
2023-03-07 15:55:02.922  INFO 114064 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8019
2023-03-07 15:55:06.607  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3098ea8c-21c2-4fac-850e-fa9e52f65d9e],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:55:06.607375900]
2023-03-07 15:55:06.863  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b24d66a8-16d6-498a-a878-1b47c38c581b],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:55:06.863376200]
2023-03-07 15:55:06.955  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=84c16d4b-6949-4121-92c3-d0732c5b3037],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T15:55:06.955396]
2023-03-07 15:55:06.971  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5a5d65e8-0484-44aa-946d-3e8e7b7500a7],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:55:06.971376600]
2023-03-07 15:55:06.989  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b78a2464-d094-4fa1-a63a-3f84115341df],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T15:55:06.989378500]
2023-03-07 15:55:06.989  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@160ff632,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:06.992  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-9] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,user=1611656761503215617
2023-03-07 15:55:07.047  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0897ba6c-fc14-4f07-841c-2fcac594752a],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:55:07.047374]
2023-03-07 15:55:07.047  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6df78c5a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:07.050  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,user=1611656761503215617
2023-03-07 15:55:07.147  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=518bc351-2874-4653-9a6a-8437320d8174],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T15:55:07.147374800]
2023-03-07 15:55:07.147  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3ed1ca05,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:07.149  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,user=1611656761503215617
2023-03-07 15:55:07.168  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3e25457d-15e2-45bd-9fba-eab733611fb7],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:55:07.168383100]
2023-03-07 15:55:07.168  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@ea72440,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:07.172  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,user=1611656761503215617
2023-03-07 15:55:07.175  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:3317
2023-03-07 15:55:07.176  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:3317
2023-03-07 15:55:07.177  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,headers=http://localhost:3000,method=GET
2023-03-07 15:55:07.178  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:07.178  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:55:07.242  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw, extend=null)
2023-03-07 15:55:07.255  INFO 114064 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:55:07.318  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:55:07.333  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b5eceff0-8006-4159-9206-7ff250149ba8],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:55:07.333619700]
2023-03-07 15:55:07.342  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f4d5fc2-9926-4d73-b949-e3d63b8284ba],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:55:07.342621]
2023-03-07 15:55:07.342  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@593dba41,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw
2023-03-07 15:55:07.344  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4ff00347,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyOTA2fQ.pS3X11hHCGlU-g8atK6y-FP8vo6xpRu88YRxP0vHA0y2lGw0WxkYQAwb7jtSrr4KL9SVXGtib5eGJQiC-gNnlw,user=1611656761503215617
2023-03-07 15:55:07.345  INFO 114064 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 15:55:12.028  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:3317,id=907841fffe2e6da0-0001bd90-0000000b-2f22627e985ef026-0a989355
2023-03-07 15:55:12.028  INFO 114064 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:3317
2023-03-07 15:55:23.961  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:55:23.961  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:55:24.083  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:55:24.083  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:55:24.126  INFO 114064 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:55:24.126  INFO 114064 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:55:24.251  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:55:24.251  INFO 114064 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:55:24.254  INFO 114064 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:55:24.256  INFO 114064 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:55:24.263  INFO 114064 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:55:35.337  INFO 113604 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 113604 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:55:35.341  INFO 113604 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:55:36.882  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:55:36.882  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:55:36.910  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2023-03-07 15:55:36.931  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:55:36.933  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:55:36.951  INFO 113604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:55:37.476  INFO 113604 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$70be86a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:55:37.495  INFO 113604 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:55:38.556  INFO 113604 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:55:38.611  INFO 113604 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:55:38.612  INFO 113604 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:55:39.119  INFO 113604 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:55:39.120  INFO 113604 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3704 ms
2023-03-07 15:55:40.223  INFO 113604 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:55:41.026  INFO 113604 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:55:41.174  INFO 113604 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:55:41.262  INFO 113604 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:55:41.526  INFO 113604 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:55:41.725  INFO 113604 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:55:41.980  INFO 113604 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:55:42.005  INFO 113604 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:55:42.550  WARN 113604 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:55:42.906  WARN 113604 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:55:42.987  WARN 113604 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:55:43.127  WARN 113604 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:55:44.362  INFO 113604 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:55:44.363  INFO 113604 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:55:44.363  INFO 113604 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:55:44.364  INFO 113604 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:55:44.373  INFO 113604 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:55:45.065  INFO 113604 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:55:45.139  WARN 113604 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:55:46.420  INFO 113604 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:55:46.420  INFO 113604 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:55:46.897  INFO 113604 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:55:46.899  INFO 113604 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:55:46.974  INFO 113604 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:55:46.992  INFO 113604 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:55:46.992083400
2023-03-07 15:55:46.993  INFO 113604 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:55:46.993084
2023-03-07 15:55:47.004  INFO 113604 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 12.544 seconds (JVM running for 14.358)
2023-03-07 15:55:47.480  INFO 113604 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:56:07.801  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2726
2023-03-07 15:56:07.801  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2726
2023-03-07 15:56:07.816  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:07.817  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:07.818  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:07.899  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:56:07.899  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:56:07.901  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-03-07 15:56:07.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8eee7aa4-1890-4beb-8431-3fc3de06d7f8],[ip=127.0.0.1],[uri=/admin/user/1611656761503215600],[method=GET],[time=2023-03-07T15:56:07.949209500]
2023-03-07 15:56:07.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3a0730eb-1419-49aa-8cb3-586c4f6c9ddb],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:56:07.949209500]
2023-03-07 15:56:07.950  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@16eb66aa,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:07.950  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@58e77a21,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:08.303  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000007-0d53f9daf05ddcc2-ef545b3a
2023-03-07 15:56:08.441  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2726,id=907841fffe2e6da0-0001bbc4-00000007-0d53f9daf05ddcc2-ef545b3a
2023-03-07 15:56:08.441  INFO 113604 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2726
2023-03-07 15:56:08.446 ERROR 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.hk.im.admin.advice.WebExceptionAdvice  : base exception:

com.hk.im.common.error.ApiException: token is invalid, you need login again
	at com.hk.im.admin.interceptor.UserLoginInterceptor.preHandle(UserLoginInterceptor.java:71) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1062) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.8.jar:1.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-07 15:56:08.446 ERROR 113604 --- [http-nio-127.0.0.1-9090-exec-3] c.hk.im.admin.advice.WebExceptionAdvice  : base exception:

com.hk.im.common.error.ApiException: token is invalid, you need login again
	at com.hk.im.admin.interceptor.UserLoginInterceptor.preHandle(UserLoginInterceptor.java:71) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1062) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.8.jar:1.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-03-07 15:56:11.871  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2745
2023-03-07 15:56:11.872  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2745
2023-03-07 15:56:11.873  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:11.873  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:11.874  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:11.876  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000a-1730fe72705dccde-68d3e61e
2023-03-07 15:56:11.877  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2745,id=907841fffe2e6da0-0001bbc4-0000000a-1730fe72705dccde-68d3e61e
2023-03-07 15:56:11.877  INFO 113604 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2745
2023-03-07 15:56:15.201  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2759
2023-03-07 15:56:15.201  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2759
2023-03-07 15:56:15.203  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:15.203  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:15.203  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:15.205  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000b-0f4fe7e9705df9df-c0a220f4
2023-03-07 15:56:15.206  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2759,id=907841fffe2e6da0-0001bbc4-0000000b-0f4fe7e9705df9df-c0a220f4
2023-03-07 15:56:15.206  INFO 113604 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2759
2023-03-07 15:56:18.520  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2773
2023-03-07 15:56:18.521  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2773
2023-03-07 15:56:18.523  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:18.523  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:18.523  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:18.525  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000c-0ff513bb905de6d7-21123cc2
2023-03-07 15:56:18.526  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2773,id=907841fffe2e6da0-0001bbc4-0000000c-0ff513bb905de6d7-21123cc2
2023-03-07 15:56:18.526  INFO 113604 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2773
2023-03-07 15:56:21.839  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2785
2023-03-07 15:56:21.840  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2785
2023-03-07 15:56:21.841  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:21.841  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:21.842  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:21.843  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000d-21f5a5c7105d93ce-1ca4d62d
2023-03-07 15:56:21.844  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:2785,id=907841fffe2e6da0-0001bbc4-0000000d-21f5a5c7105d93ce-1ca4d62d
2023-03-07 15:56:21.844  INFO 113604 --- [nioEventLoopGroup-5-5] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:2785
2023-03-07 15:56:25.175  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7441
2023-03-07 15:56:25.176  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7441
2023-03-07 15:56:25.177  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:25.178  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:25.178  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:25.179  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000e-22027e94d05d80d6-51f3626f
2023-03-07 15:56:25.181  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7441,id=907841fffe2e6da0-0001bbc4-0000000e-22027e94d05d80d6-51f3626f
2023-03-07 15:56:25.181  INFO 113604 --- [nioEventLoopGroup-5-6] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7441
2023-03-07 15:56:28.495  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7453
2023-03-07 15:56:28.496  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7453
2023-03-07 15:56:28.497  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:28.497  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:28.497  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:28.499  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-0000000f-169e5af6505d8dce-373bcdd4
2023-03-07 15:56:28.500  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7453,id=907841fffe2e6da0-0001bbc4-0000000f-169e5af6505d8dce-373bcdd4
2023-03-07 15:56:28.500  INFO 113604 --- [nioEventLoopGroup-5-7] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7453
2023-03-07 15:56:31.823  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7463
2023-03-07 15:56:31.824  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7463
2023-03-07 15:56:31.825  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:31.826  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:31.826  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:31.827  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000010-31f2ed2d505dbace-55344dd8
2023-03-07 15:56:31.829  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7463,id=907841fffe2e6da0-0001bbc4-00000010-31f2ed2d505dbace-55344dd8
2023-03-07 15:56:31.829  INFO 113604 --- [nioEventLoopGroup-5-8] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7463
2023-03-07 15:56:35.143  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7478
2023-03-07 15:56:35.143  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7478
2023-03-07 15:56:35.145  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:35.145  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:35.146  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:35.147  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000011-267f055fa05da7c6-ccd3090e
2023-03-07 15:56:35.149  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7478,id=907841fffe2e6da0-0001bbc4-00000011-267f055fa05da7c6-ccd3090e
2023-03-07 15:56:35.149  INFO 113604 --- [nioEventLoopGroup-5-9] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7478
2023-03-07 15:56:39.478  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7506
2023-03-07 15:56:39.479  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7506
2023-03-07 15:56:39.481  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:39.481  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:39.481  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:39.483  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000012-138b803f205d58b5-3c6aec60
2023-03-07 15:56:39.483  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7506,id=907841fffe2e6da0-0001bbc4-00000012-138b803f205d58b5-3c6aec60
2023-03-07 15:56:39.484  INFO 113604 --- [nioEventLoopGroup-5-10] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7506
2023-03-07 15:56:42.815  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7519
2023-03-07 15:56:42.816  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7519
2023-03-07 15:56:42.817  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:42.817  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:42.817  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:42.819  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000013-06afbba0e05d45be-1ab771ef
2023-03-07 15:56:42.820  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7519,id=907841fffe2e6da0-0001bbc4-00000013-06afbba0e05d45be-1ab771ef
2023-03-07 15:56:42.820  INFO 113604 --- [nioEventLoopGroup-5-11] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7519
2023-03-07 15:56:46.136  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:14760
2023-03-07 15:56:46.137  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:14760
2023-03-07 15:56:46.139  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA,headers=http://localhost:3000,method=GET
2023-03-07 15:56:46.139  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgyNzM3fQ.39HcGi3Sq8kaPSsfdL1MOxT4kh7qPNRoB2Vz17Ln1OrMKGJsyMLvgiepihzj6hLutj09eu_NTKI1VD88S7U-pA
2023-03-07 15:56:46.139  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:56:46.141  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : this websocket owner is not authorized:907841fffe2e6da0-0001bbc4-00000014-2da11bd2605d72b7-bb2efd11
2023-03-07 15:56:46.143  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:14760,id=907841fffe2e6da0-0001bbc4-00000014-2da11bd2605d72b7-bb2efd11
2023-03-07 15:56:46.143  INFO 113604 --- [nioEventLoopGroup-5-12] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:14760
2023-03-07 15:58:11.294  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7612a419-f199-41b1-8f76-830b1de2ccc9],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-07T15:58:11.294528400]
2023-03-07 15:58:11.590  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=a10d5795-e7db-482f-9568-1775cbdd94d1],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T15:58:11.590774500]
2023-03-07 15:58:13.934  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8b022da8-57ab-468c-92f9-f5c88468551f],[ip=127.0.0.1],[uri=/admin/user/1611656761503215600],[method=OPTIONS],[time=2023-03-07T15:58:13.934064400]
2023-03-07 15:58:13.935  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9f9d9ade-366c-4e40-b6ce-4f3709a6add8],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T15:58:13.935066500]
2023-03-07 15:58:13.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=33dd2cf1-e127-41f5-a822-b48f5cd6868a],[ip=127.0.0.1],[uri=/admin/user/1611656761503215600],[method=GET],[time=2023-03-07T15:58:13.949065300]
2023-03-07 15:58:13.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@409985a2,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:58:13.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=252c7aa2-233b-48fc-9ce4-c839fb51d4a1],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T15:58:13.949065300]
2023-03-07 15:58:13.949  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@4f29b99c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:58:13.958  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@3f4c105e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,user=1611656761503215617
2023-03-07 15:58:13.958  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6fb3891b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,user=1611656761503215617
2023-03-07 15:58:14.065  WARN 113604 --- [http-nio-127.0.0.1-9090-exec-7] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @dd05255
2023-03-07 15:58:14.217  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:2795
2023-03-07 15:58:14.218  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:2795
2023-03-07 15:58:14.221  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,headers=http://localhost:3000,method=GET
2023-03-07 15:58:14.221  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:58:14.222  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:58:14.802  INFO 113604 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q, extend=null)
2023-03-07 15:58:14.828  INFO 113604 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:58:15.063  INFO 113604 --- [nioEventLoopGroup-5-13] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:58:15.075  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5646eaa2-74c7-4ff4-b3b7-f8abab0790dd],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:58:15.075422300]
2023-03-07 15:58:15.086  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3815ce84-b1c8-4cab-aaa0-470910c48814],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:58:15.086420200]
2023-03-07 15:58:15.086  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@36990f6b,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:58:15.092  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@3f4c105e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,user=1611656761503215617
2023-03-07 15:58:15.093  INFO 113604 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215600
2023-03-07 15:58:55.392  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:58:55.392  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:58:55.523  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:58:55.524  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:58:55.577  INFO 113604 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:58:55.578  INFO 113604 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:58:55.680  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 15:58:55.680  INFO 113604 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 15:58:55.683  INFO 113604 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:58:55.688  INFO 113604 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 15:58:55.698  INFO 113604 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 15:59:08.745  INFO 103004 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 103004 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 15:59:08.749  INFO 103004 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 15:59:13.346  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:59:13.347  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 15:59:13.377  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2023-03-07 15:59:13.402  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 15:59:13.403  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 15:59:13.422  INFO 103004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 15:59:13.942  INFO 103004 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$16ed3bf9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:59:13.962  INFO 103004 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 15:59:14.725  INFO 103004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 15:59:14.749  INFO 103004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 15:59:14.750  INFO 103004 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 15:59:15.057  INFO 103004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 15:59:15.058  INFO 103004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6225 ms
2023-03-07 15:59:15.696  INFO 103004 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 15:59:16.608  INFO 103004 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 15:59:16.805  INFO 103004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 15:59:16.967  INFO 103004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 15:59:17.254  INFO 103004 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 15:59:17.462  INFO 103004 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 15:59:17.780  INFO 103004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 15:59:17.798  INFO 103004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 15:59:18.815  WARN 103004 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:59:19.356  WARN 103004 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:59:19.682  WARN 103004 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:59:20.048  WARN 103004 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 15:59:21.273  INFO 103004 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 15:59:21.275  INFO 103004 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 15:59:21.275  INFO 103004 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 15:59:21.275  INFO 103004 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 15:59:21.285  INFO 103004 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 15:59:21.984  INFO 103004 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 15:59:22.061  WARN 103004 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 15:59:23.295  INFO 103004 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:59:23.295  INFO 103004 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 15:59:23.650  INFO 103004 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 15:59:23.650  INFO 103004 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 15:59:23.693  INFO 103004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 15:59:23.702  INFO 103004 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T15:59:23.702263400
2023-03-07 15:59:23.702  INFO 103004 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T15:59:23.702263400
2023-03-07 15:59:23.711  INFO 103004 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 15.878 seconds (JVM running for 17.378)
2023-03-07 15:59:23.891  INFO 103004 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 15:59:26.154  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8457
2023-03-07 15:59:26.154  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8457
2023-03-07 15:59:26.168  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,headers=http://localhost:3000,method=GET
2023-03-07 15:59:26.169  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:59:26.169  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 15:59:26.813  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q, extend=null)
2023-03-07 15:59:26.869  WARN 103004 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6a78afa0
2023-03-07 15:59:27.110  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 15:59:27.177  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 15:59:27.593  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 15:59:27.593  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 15:59:27.595  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 15:59:27.624  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=00bd9184-97ef-442d-ab10-1ffd0d44b169],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T15:59:27.624036400]
2023-03-07 15:59:27.752  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=34de83a2-4894-4c36-9bea-ad57a3e52f16],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T15:59:27.752603300]
2023-03-07 15:59:27.753  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@d4c8538,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q
2023-03-07 15:59:27.762  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@22d3e2f9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMDkzfQ.2cOi4ITQ8p47FP6PvuCDmgpO4woIpYGr-iCPr2Cz9LRrW7Qaeqsi2XGVvaSMmJCW_W7KoMYAE0A3A9C6jUbp0Q,user=1611656761503215617
2023-03-07 15:59:27.787  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215600
2023-03-07 16:00:25.650  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8457,id=907841fffe2e6da0-0001925c-00000007-24379410bbdac39f-80d3323f
2023-03-07 16:00:25.652  INFO 103004 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8457
2023-03-07 16:00:30.753  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0454ab3d-e153-4258-bcce-28c8a9ebe6f8],[ip=127.0.0.1],[uri=/admin/user/login],[method=OPTIONS],[time=2023-03-07T16:00:30.753118]
2023-03-07 16:00:30.762  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d5c752f8-8b14-4229-aa25-fd8bb130ad57],[ip=127.0.0.1],[uri=/admin/user/login],[method=POST],[time=2023-03-07T16:00:30.762136400]
2023-03-07 16:00:30.980  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=3d8389d8-1cc2-4948-b38f-78b8fc8d6687],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T16:00:30.980119300]
2023-03-07 16:00:30.990  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=39b8fbeb-97f5-4e75-855f-3990c2ee452a],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T16:00:30.990119600]
2023-03-07 16:00:31.003  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=dda22ec4-278d-4a0a-b81b-22d91a373f52],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T16:00:31.003118900]
2023-03-07 16:00:31.004  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1de34124,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:31.007  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:31.008  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=2f905c4d-50c7-4ab2-b85b-1528343bdc13],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T16:00:31.008119300]
2023-03-07 16:00:31.008  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@274f5b63,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:31.013  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@22d3e2f9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:31.255  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:8059
2023-03-07 16:00:31.255  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:8059
2023-03-07 16:00:31.258  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,headers=http://localhost:3000,method=GET
2023-03-07 16:00:31.259  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:31.259  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 16:00:31.322  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw, extend=null)
2023-03-07 16:00:31.343  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_2] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 16:00:31.388  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 16:00:31.400  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c56ec347-14df-4406-9a0e-55889e19fe28],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T16:00:31.400121300]
2023-03-07 16:00:31.417  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7235ae0e-7f29-4728-b94c-0b006c5e7e9b],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T16:00:31.417119800]
2023-03-07 16:00:31.418  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@40953bc1,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:31.422  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@22d3e2f9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:31.423  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 16:00:35.872  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7c8b8fce-17ea-46a8-b7ca-9fcc85bc313e],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=OPTIONS],[time=2023-03-07T16:00:35.872298300]
2023-03-07 16:00:35.882  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0a178d41-0266-4a0c-836b-76169ae36ae9],[ip=127.0.0.1],[uri=/admin/friend/list/v2],[method=GET],[time=2023-03-07T16:00:35.882307300]
2023-03-07 16:00:35.882  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@49c99a58,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:35.885  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:43.496  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b4af7702-c9f0-4a6e-9dcb-f77b6620c58c],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:00:43.496698900]
2023-03-07 16:00:43.496  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=46d83174-8bfe-4c25-902a-3b9b343099d2],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-07T16:00:43.496698900]
2023-03-07 16:00:43.514  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=45faf19e-4f67-4089-948c-9dd10973518f],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-07T16:00:43.514685700]
2023-03-07 16:00:43.514  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3102ab2a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:43.514  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=43bf9182-3cb7-4b0d-87a2-9b3e9cdd0dcc],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:00:43.514685700]
2023-03-07 16:00:43.514  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@1e569c5a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:43.517  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:43.517  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:43.806  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:00:51.000  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=fd94cf89-46f4-4578-a789-a41acc4eb098],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:00:51.000716700]
2023-03-07 16:00:51.008  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=aec982a9-94a0-419f-9744-64eeffeaed34],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:00:51.008680500]
2023-03-07 16:00:51.008  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@af02005,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:00:51.011  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:00:51.118  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:01:16.488  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=57d6350e-d713-4582-ace7-8bb3547146d5],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:01:16.488445400]
2023-03-07 16:01:16.500  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8cfa7551-6592-43f2-9a71-4d16d11d9d21],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:01:16.500354700]
2023-03-07 16:01:16.500  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6b86713c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:01:16.502  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:01:16.528  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612031901659357185","msg_id":[]}}
2023-03-07 16:02:28.095  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5a85cbab-f703-4a52-9f5f-212d94bccf2e],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:02:28.095897100]
2023-03-07 16:02:28.108  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=1b248f8c-5aa0-441a-8c27-431667829b96],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:02:28.108893800]
2023-03-07 16:02:28.108  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@68713cb7,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:02:28.111  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:02:28.233  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:02:40.343  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=b9339897-80f7-459c-a8d3-38d8c58b1a04],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:02:40.343543100]
2023-03-07 16:02:40.355  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=936882e9-936f-45e2-974d-5cad3de4a6c9],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:02:40.355532400]
2023-03-07 16:02:40.355  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@10ddc93e,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:02:40.358  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:02:40.437  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:04:11.383  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:8059,id=907841fffe2e6da0-0001925c-0000000a-15005baf4bd9c215-19853fb6
2023-03-07 16:04:11.431  INFO 103004 --- [nioEventLoopGroup-5-2] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:8059
2023-03-07 16:04:14.081  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:7274
2023-03-07 16:04:14.082  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:7274
2023-03-07 16:04:14.097  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=cd04ed01-6b7d-45e0-a88b-09998246d670],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T16:04:14.097589400]
2023-03-07 16:04:14.098  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=29d32979-9e20-4bbb-b3c3-181c6d641fcb],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T16:04:14.098591200]
2023-03-07 16:04:14.107  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,headers=http://localhost:3000,method=GET
2023-03-07 16:04:14.107  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:04:14.108  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 16:04:14.113  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=25c4280c-ebf3-4973-a33c-cac0cf05255b],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T16:04:14.113589900]
2023-03-07 16:04:14.114  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@377043b4,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:04:14.114  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=f8565567-4637-4bea-a473-ca6588bc385d],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T16:04:14.114588200]
2023-03-07 16:04:14.114  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3139c0d9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:04:14.117  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:04:14.117  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:04:14.337  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw, extend=null)
2023-03-07 16:04:14.349  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_3] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 16:04:15.145  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 16:04:15.153  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=c54b6c46-89c6-4adc-b206-29654bc4ea56],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T16:04:15.153055200]
2023-03-07 16:04:15.163  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9ed62372-eed8-4014-a7d1-fa667341e37f],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T16:04:15.163056400]
2023-03-07 16:04:15.163  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@72616452,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:04:15.168  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:04:15.169  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 16:07:16.682  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接断开：/127.0.0.1:7274,id=907841fffe2e6da0-0001925c-0000000b-1b11662879d6a87f-2c1f791a
2023-03-07 16:07:16.682  INFO 103004 --- [nioEventLoopGroup-5-3] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接断开：/127.0.0.1:7274
2023-03-07 16:07:19.160  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:1261
2023-03-07 16:07:19.160  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:1261
2023-03-07 16:07:19.163  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,headers=http://localhost:3000,method=GET
2023-03-07 16:07:19.164  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:19.164  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 16:07:19.186  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=6d4c95a2-7b51-4c7e-a438-7b5280d8e047],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=OPTIONS],[time=2023-03-07T16:07:19.186002400]
2023-03-07 16:07:19.186  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-9] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5b10249f-0c22-4a92-84d5-66588bbb1d9d],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=OPTIONS],[time=2023-03-07T16:07:19.186002400]
2023-03-07 16:07:19.195  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=5bccfd44-41a2-4ab3-9110-1afeb6f3e942],[ip=127.0.0.1],[uri=/admin/user/1611656761503215617],[method=GET],[time=2023-03-07T16:07:19.195002500]
2023-03-07 16:07:19.195  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@3d60473d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:19.196  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.im.admin.interceptor.LogInterceptor  : [traceId=286dbef7-84d8-4f88-9e34-f9ffc1e5bbd1],[ip=127.0.0.1],[uri=/admin/apply/user/receive],[method=GET],[time=2023-03-07T16:07:19.196002300]
2023-03-07 16:07:19.196  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@49b83c3c,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:19.198  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:07:19.198  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-4] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:07:19.226  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw, extend=null)
2023-03-07 16:07:19.236  INFO 103004 --- [ConsumeMessageThread_chat-connect-group_4] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 16:07:19.791  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 16:07:19.802  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=9e58adb6-de2d-4a18-85a5-84ed838bbeb6],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T16:07:19.802001300]
2023-03-07 16:07:19.862  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.im.admin.interceptor.LogInterceptor  : [traceId=0b898630-8a06-46e6-9b94-ba85a20a3b54],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T16:07:19.862002400]
2023-03-07 16:07:19.862  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@5c03bcde,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:19.865  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:07:19.866  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-3] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 16:07:30.201  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-5] c.h.im.admin.interceptor.LogInterceptor  : [traceId=8cd9612d-e485-4a7f-b059-6456188c7b72],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:07:30.201701500]
2023-03-07 16:07:30.204  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-7] c.h.im.admin.interceptor.LogInterceptor  : [traceId=64379e1d-65ac-4c46-80e3-df8d744417c6],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=OPTIONS],[time=2023-03-07T16:07:30.204705400]
2023-03-07 16:07:30.212  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.im.admin.interceptor.LogInterceptor  : [traceId=7f141747-dc9f-46b0-ba69-511b62cbbaa4],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:07:30.212704700]
2023-03-07 16:07:30.212  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@d4cb961,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:30.213  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.im.admin.interceptor.LogInterceptor  : [traceId=82e9d3d0-eeac-4702-9782-c461cb59f895],[ip=127.0.0.1],[uri=/admin/emoticon/user/list],[method=GET],[time=2023-03-07T16:07:30.213701700]
2023-03-07 16:07:30.214  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@6d5f698a,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:07:30.215  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-6] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:07:30.216  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-8] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@4df617b9,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:07:30.320  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630558088287248385","1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:10:22.264  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-10] c.h.im.admin.interceptor.LogInterceptor  : [traceId=e9d0ae7f-b60f-4b4b-b598-2ac1c6021365],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=OPTIONS],[time=2023-03-07T16:10:22.263694200]
2023-03-07 16:10:22.277  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=d2398c4e-aea3-4a69-8825-1a9ba0d19949],[ip=127.0.0.1],[uri=/admin/message/records/latest],[method=GET],[time=2023-03-07T16:10:22.277683200]
2023-03-07 16:10:22.277  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@660902ae,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:10:22.279  INFO 103004 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@171b2a54,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:10:22.364  INFO 103004 --- [nioEventLoopGroup-5-4] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"event_talk_read","data":{"receiver_id":"1612030664754913281","msg_id":["1630563267854254082","1630816715199770626","1630834504530690049","1631131068348272641","1631536603358920706","1631543156694679554","1631543980913164289","1631544981921562625","1631545332447936513","1631547912842420226","1631549401233117186","1631549482778775553","1631549872870019074","1633008691928141825","1633009164240326658"]}}
2023-03-07 16:15:19.150  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:15:19.151  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:15:19.257  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:15:19.257  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:15:19.461  INFO 103004 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:15:19.462  INFO 103004 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:15:19.619  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:15:19.620  INFO 103004 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:15:19.627  INFO 103004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 16:15:19.678  INFO 103004 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 16:15:19.719  INFO 103004 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 16:15:51.647  INFO 112420 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 112420 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 16:15:51.653  INFO 112420 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 16:15:57.974  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 16:15:57.975  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 16:15:58.032  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.
2023-03-07 16:15:58.068  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 16:15:58.071  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 16:15:58.095  INFO 112420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 16:15:58.703  INFO 112420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$b0317444] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 16:15:58.725  INFO 112420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 16:15:59.688  INFO 112420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 16:15:59.707  INFO 112420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 16:15:59.708  INFO 112420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 16:16:00.496  INFO 112420 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 16:16:00.497  INFO 112420 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8725 ms
2023-03-07 16:16:01.381  INFO 112420 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 16:16:02.480  INFO 112420 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 16:16:02.714  INFO 112420 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 16:16:02.852  INFO 112420 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 16:16:03.223  INFO 112420 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 16:16:03.450  INFO 112420 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 16:16:03.824  INFO 112420 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 16:16:03.843  INFO 112420 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 16:16:04.625  WARN 112420 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:16:05.074  WARN 112420 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:16:05.223  WARN 112420 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:16:05.365  WARN 112420 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:16:07.219  INFO 112420 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 16:16:07.219  INFO 112420 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 16:16:07.220  INFO 112420 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 16:16:07.220  INFO 112420 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 16:16:07.229  INFO 112420 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 16:16:08.065  INFO 112420 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 16:16:08.142  WARN 112420 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 16:16:09.492  INFO 112420 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:16:09.492  INFO 112420 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:userConnectedConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-03-07 16:16:09.826  INFO 112420 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:16:09.826  INFO 112420 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:sendMessageConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2023-03-07 16:16:09.875  INFO 112420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path '/admin'
2023-03-07 16:16:09.883  INFO 112420 --- [main] c.h.i.server.chat.ChatServerBootStarter  : IOC 容器准备完毕,准备创建Chat Server: 2023-03-07T16:16:09.883872800
2023-03-07 16:16:09.884  INFO 112420 --- [main] c.h.i.server.chat.ChatServerBootStarter  : 启动Chat Server: class com.hk.im.server.chat.ChatServerBootStarter-2023-03-07T16:16:09.884872800
2023-03-07 16:16:09.889  INFO 112420 --- [main] com.hk.im.admin.IMAdminApplication       : Started IMAdminApplication in 19.688 seconds (JVM running for 22.515)
2023-03-07 16:16:10.076  INFO 112420 --- [Thread-8] c.h.i.s.chat.server.HotKeyChatServer     : websocket 服务启动，ip=localhost,port=9870
2023-03-07 16:16:12.690  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.ClientMessageHandler     : 链接创建：/127.0.0.1:4777
2023-03-07 16:16:12.690  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.w.WebSocketCloseHandler    : 链接创建：/127.0.0.1:4777
2023-03-07 16:16:12.706  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request:uri=/channel:Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,headers=http://localhost:3000,method=GET
2023-03-07 16:16:12.707  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : request url params:token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:16:12.707  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.c.WebSocketConnectHandler  : the FullHttpRequest new uri=/channel
2023-03-07 16:16:13.486  INFO 112420 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : rocketMQ onMessage: ConnectMessage(userId=1611656761503215617, token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw, extend=null)
2023-03-07 16:16:13.535  WARN 112420 --- [nioEventLoopGroup-5-1] c.b.m.c.t.support.ReflectLambdaMeta      : Unable to make field private final java.lang.Class java.lang.invoke.SerializedLambda.capturingClass accessible: module java.base does not "opens java.lang.invoke" to unnamed module @6150c3ec
2023-03-07 16:16:13.865  INFO 112420 --- [ConsumeMessageThread_chat-connect-group_1] c.h.i.s.p.c.UserConnectedConsumer        : connected user:UserVO(id=1611656761503215617, accessToken=null, expiresIn=3600, username=西门大官人, account=1673083889, phone=null, email=3161880795@qq.com, bigAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g&s=200, miniAvatar=https://www.gravatar.com/avatar/2dd153eb7dba49c6994937c66871bd42.png?f=y&d=identicon&r=g, qrcode=http://47.108.146.141:9000/user//qrcode/public_qrcode_1673083889.jpg, qq=null, wechat=null, github=null, dingtalk=null, wallet=0, status=null, gender=null, age=null, birthday=null, constellation=null, campus=null, major=null, job=null, city=null, interest=null, tag=null, signature=你好，我是西门大官人,请多指教)
2023-03-07 16:16:13.950  INFO 112420 --- [nioEventLoopGroup-5-1] c.h.i.s.c.s.h.d.HandlerDispatcher        : chat server receive message:{"event":"heartbeat","content":"ping"}
2023-03-07 16:16:14.432  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-07 16:16:14.433  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-07 16:16:14.435  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-07 16:16:14.471  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-1] c.h.im.admin.interceptor.LogInterceptor  : [traceId=352736ef-0f5f-47f0-8f61-33306160aca1],[ip=127.0.0.1],[uri=/admin/talk/list],[method=OPTIONS],[time=2023-03-07T16:16:14.471067700]
2023-03-07 16:16:14.637  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-2] c.h.im.admin.interceptor.LogInterceptor  : [traceId=de99c1be-36e0-4c84-bceb-fb0110c2fd47],[ip=127.0.0.1],[uri=/admin/talk/list],[method=GET],[time=2023-03-07T16:16:14.637695700]
2023-03-07 16:16:14.637  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset interceptor:org.apache.tomcat.util.http.NamesEnumerator@2147e29d,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw
2023-03-07 16:16:14.646  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.i.UserLoginInterceptor           : requeset:org.apache.catalina.connector.RequestFacade@6218fcff,token=Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNjExNjU2NzYxNTAzMjE1NjE3IiwiZXhwIjoxNjc4MTgzMjMwfQ.ZIczkQAV9X5QNVugnylrFgjVJaNkal-0n_0ztThcTYBOm2G5GnRc12MEESgSGvjfdAcVTYdjITzhz0qXzXIkxw,user=1611656761503215617
2023-03-07 16:16:14.672  INFO 112420 --- [http-nio-127.0.0.1-9090-exec-2] c.h.i.a.c.CommunicationController        : getCommunicationList, request user=1611656761503215617
2023-03-07 16:52:13.291  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:52:13.565  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:55:56.130  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:55:56.130  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:55:56.268  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:55:56.269  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:55:56.552  INFO 112420 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-message-group', namespace='', nameServer='47.108.146.141:9876', topic='chat-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:55:56.553  INFO 112420 --- [SpringApplicationShutdownHook] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:55:56.718  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:55:56.719  INFO 112420 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:55:56.724  INFO 112420 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 16:55:56.789  INFO 112420 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 16:55:56.792  INFO 112420 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2023-03-07 16:56:19.453  INFO 114352 --- [main] com.hk.im.admin.IMAdminApplication       : Starting IMAdminApplication using Java 17.0.2 on DESKTOP-PICLGLQ with PID 114352 (F:\JavaCode\HotKeyIM\im-web\im-admin\target\classes started by HK意境 in F:\JavaCode\HotKeyIM)
2023-03-07 16:56:19.458  INFO 114352 --- [main] com.hk.im.admin.IMAdminApplication       : The following 1 profile is active: "dev"
2023-03-07 16:56:28.415  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 16:56:28.416  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-03-07 16:56:28.469  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2023-03-07 16:56:28.493  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-03-07 16:56:28.495  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-03-07 16:56:28.537  INFO 114352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-03-07 16:56:29.118  INFO 114352 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvice' of type [com.hk.im.admin.advice.MethodTraceAdvice$$EnhancerBySpringCGLIB$$f0ff5f51] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 16:56:29.139  INFO 114352 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodTraceAdvisor' of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-03-07 16:56:30.093  INFO 114352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)
2023-03-07 16:56:30.112  INFO 114352 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-07 16:56:30.112  INFO 114352 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-03-07 16:56:30.428  INFO 114352 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/admin]  : Initializing Spring embedded WebApplicationContext
2023-03-07 16:56:30.428  INFO 114352 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10845 ms
2023-03-07 16:56:31.407  INFO 114352 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2023-03-07 16:56:32.472  INFO 114352 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2023-03-07 16:56:32.677  INFO 114352 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-03-07 16:56:32.857  INFO 114352 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2023-03-07 16:56:33.243  INFO 114352 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-03-07 16:56:33.473  INFO 114352 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-03-07 16:56:33.926  INFO 114352 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-03-07 16:56:33.944  INFO 114352 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 16:56:34.724  WARN 114352 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.CollectEmoticon ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:56:35.174  WARN 114352 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.LikePost ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:56:35.274  WARN 114352 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.NoteTag ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:56:35.404  WARN 114352 --- [main] c.b.m.core.injector.DefaultSqlInjector   : class com.hk.im.domain.entity.UserCollection ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2023-03-07 16:56:36.855  INFO 114352 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server address:localhost
2023-03-07 16:56:36.857  INFO 114352 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server port:9870
2023-03-07 16:56:36.857  INFO 114352 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server serializer:Json
2023-03-07 16:56:36.857  INFO 114352 --- [main] c.h.i.server.chat.config.MetaDataConfig  : chat server path:/channel
2023-03-07 16:56:36.867  INFO 114352 --- [main] c.h.i.s.p.comsumer.SendMessageConsumer   : sendMessage consumer bean created
2023-03-07 16:56:37.734  INFO 114352 --- [main] c.h.i.s.p.config.ExecutorConfiguration   : start asyncServiceExecutor
2023-03-07 16:56:37.859  WARN 114352 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-03-07 16:56:41.935  INFO 114352 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:56:41.989 ERROR 114352 --- [main] o.a.r.s.a.ListenerContainerConfiguration : Started container failed. DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}

java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [47.108.146.141:9876] failed
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:680) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:510) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.updateTopicSubscribeInfoWhenSubscriptionChanged(DefaultMQPushConsumerImpl.java:871) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.start(DefaultMQPushConsumerImpl.java:654) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.consumer.DefaultMQPushConsumer.start(DefaultMQPushConsumer.java:707) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.start(DefaultRocketMQListenerContainer.java:332) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:120) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.afterSingletonsInstantiated(ListenerContainerConfiguration.java:79) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [47.108.146.141:9876] failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:458) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:413) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:382) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1379) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1369) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:623) ~[rocketmq-client-4.9.3.jar:4.9.3]
	... 18 common frames omitted

2023-03-07 16:56:41.992  INFO 114352 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-07 16:56:42.000  WARN 114352 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [admin] appears to have started a thread named [Thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl.notifyAddrChange0(Native Method)
 java.base@17.0.2/sun.net.dns.ResolverConfigurationImpl$AddressChangeListener.run(ResolverConfigurationImpl.java:176)
2023-03-07 16:56:42.001  WARN 114352 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [admin] appears to have started a thread named [lettuce-timer-3-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/java.lang.Thread.sleep(Native Method)
 app//io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 app//io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-03-07 16:56:42.012  INFO 114352 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-07 16:56:42.063 ERROR 114352 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [47.108.146.141:9876] failed
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:123) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.afterSingletonsInstantiated(ListenerContainerConfiguration.java:79) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.18.jar:5.3.18]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.hk.im.admin.IMAdminApplication.main(IMAdminApplication.java:29) ~[classes/:na]
Caused by: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [47.108.146.141:9876] failed
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:680) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:510) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.updateTopicSubscribeInfoWhenSubscriptionChanged(DefaultMQPushConsumerImpl.java:871) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.start(DefaultMQPushConsumerImpl.java:654) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.consumer.DefaultMQPushConsumer.start(DefaultMQPushConsumer.java:707) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.start(DefaultRocketMQListenerContainer.java:332) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:120) ~[rocketmq-spring-boot-2.2.2.jar:2.2.2]
	... 12 common frames omitted
Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [47.108.146.141:9876] failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:458) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:413) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:382) ~[rocketmq-remoting-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1379) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1369) ~[rocketmq-client-4.9.3.jar:4.9.3]
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:623) ~[rocketmq-client-4.9.3.jar:4.9.3]
	... 18 common frames omitted

2023-03-07 16:56:42.069  INFO 114352 --- [main] a.r.s.s.DefaultRocketMQListenerContainer : container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat-connect-group', namespace='', nameServer='47.108.146.141:9876', topic='connect-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
2023-03-07 16:56:42.246  INFO 114352 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:9876] result: true
2023-03-07 16:56:42.246  INFO 114352 --- [NettyClientSelector_1] RocketmqRemoting                         : closeChannel: close the connection to remote address[47.108.146.141:10911] result: true
2023-03-07 16:56:42.249  INFO 114352 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-03-07 16:56:42.252  INFO 114352 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2023-03-07 16:56:42.312  INFO 114352 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
